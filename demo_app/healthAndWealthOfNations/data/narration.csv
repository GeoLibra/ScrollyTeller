narrationId,spaceAboveInVh,spaceBelowInVh,minHeightInVh,h2Text,paragraphText,hRef,hRefText,trigger,graphTitle,graphCaption
,40,40,50,Building a data story with ScrollyTeller,"Let's take a well known chart and build a simple data story: we'll use Hans Rosling's famous ""Wealth and Health of Nations"" animated bubble plot as an example.",,,containerStyle.opacity:$progress,The Wealth and Health of Nations,"See Hans Rosling's excellent summary video on this chart (with updated data) <a href=""https://www.gapminder.org/answers/how-does-income-relate-to-life-expectancy/"" target=blank>here</a>."
,40,40,50,Making the story come alive,"Eventually, we'll want to animate this chart to tell an exciting story, so here's what we're going for: triggering some chart actions based on scroll events or scroll progress.",,,yearProgress:$progress;snippet:;,The Wealth and Health of Nations,"See Hans Rosling's excellent summary video on this chart (with updated data) <a href=""https://www.gapminder.org/answers/how-does-income-relate-to-life-expectancy/"" target=blank>here</a>."
,40,40,50,Nuts and Bolts: configuration objects,"ScrollyTeller uses configuration objects to define which <strong>div</strong> element to render the story in, with separate scrolling <strong>sections</strong>.<br><br>A <strong>section</strong> encapsulates a dataset, a graph, some functions to handle actions in the graph, and the text (narration, titles, captions) associated with the section's story.",,,containerStyle.opacity:0,ScrollyTeller Configuration,
,40,40,50,ScrollyTeller configuration,"The code snippet to the right shows how to use ScrollyTeller to create the data story.<br><br>The <strong>myScrollyTellerConfig</strong> object contains two properties: an <strong>appContainerId</strong> that tells us the id of the scrolling section (#app), and a <strong>sectionList</strong> object that contains configurations for the sections.<br><br>Then we create a ScrollyTeller instance and call the render() function to create the DOM elements.",,,containerStyle.opacity:1;snippet:scrollyTellerConfig;,ScrollyTeller Configuration,
,40,40,50,Section Configuration,"Next, we'll look at how we define the <strong>wealthAndHealthConfig</strong> object in the code snippet to the right.<br><br>This is what we refer to as the the <strong>section configuration</strong> object, and it's where we define most of the properties that control the data, graph, and events that trigger graph actions.",,,containerStyle.opacity:1;snippet:scrollyTellerConfig;,ScrollyTeller Configuration,
,40,40,50,Section Configuration,"The section config object contains: <strong>Static props</strong> to define id's and file locations, <strong>Initial render functions</strong> called upon ScrollyTeller.render(), and <strong>Event based functions</strong> that respond to scroll and resize events.",,,containerStyle.opacity:1;snippet:sectionConfigSummary;,Section Configuration,
,40,40,50,A real example: data fetching,"Let's walk through what happens when ScrollyTeller.render() is called for our Wealth and Health of Nations story.<br><br>First, ScrollyTeller asynchronously fetches contents of the <strong>narration.csv</strong> and <strong>wealthAndHealthData.json</strong> files.",,,,Section Configuration,
,40,40,50,A real example: Render DOM elements,"Next, ScrollyTeller builds the DOM structure of the left-side narration based on some height and text properties in the narration file (more on the format of those files later), and builds a div with id=""graph_healthAndWealth_container"" and class=""graph_container"" to hold the graph elements on the right.",,,,Section Configuration,
,40,40,50,A real example: Reshape Data,"Once the DOM elements exist, <strong>reshapeDataFunction()</strong> is passed the results of the data fetch. (If you specified the <strong>data</strong> property as a Promise, the results argment will contain whatever your Promise resolves to.)<br><br>This step is useful for pre-computing ranges or other data processing. In the code example here, we compute min and max values for the data ranges to pass to our graph component.",,,containerStyle.opacity:1;snippet:sectionConfigReshapeDemoData;,Section Configuration,
,40,40,50,A real example: Reshape Data,"Notice that we return the results of the data at the end. This result is attached to a <strong>sectionConfig.data</strong> property that is passed to subsequent functions for easy access.<br><br>Next, we'll look at building the graph.",,,containerStyle.opacity:1;snippet:sectionConfigReshapeDemoData;,,
,40,40,50,A real example: Building the Chart,"In the code snippet, <strong>buildGraphFunction</strong> receives <strong>graphId</strong> and <strong>sectionConfig</strong> arguments. <strong>graphId</strong> is the id of the div to target to build the graph. <strong>sectionConfig</strong> is an object containing a variety of props, but most importantly, the <strong>data</strong> prop, which is the return value of <strong>reshapeDataFunction</strong>. Then we use some object destructuring (ES6 fanciness) to get props from <strong>sectionConfig.data</strong>.",,,containerStyle.opacity:1;snippet:sectionConfigBuildGraph;,,
,40,40,50,A real example: Building the Chart,"We'll assume that you can create your own, or reuse some kind of chart components. Here we gloss over the details and just create an instance of a custom component called <strong>WealthAndHealthOfNations</strong>, which takes a css selector to target the <strong>graphId</strong> div and builds the graph using the data and properties we calculated in <strong>reshapeDataFunction()</strong>.<br><br>Finally, we return the graph itself, which will be reusable by other functions as the <strong>sectionConfig.graph</strong> property.",,,,,
1,40,40,50,"The Famous ""Wealth And Health of Nations""","This data is from gapminder.org, and the chart was modified from <a href=""https://robisateam.github.io/courses/d3-course/"" target=""blank"">this excellent d3 tutorial</a>",https://www.gapminder.org/,Data from gapminder.org,year:1950;yearProgress:;snippet:;,The Wealth and Health of Nations,"See Hans Rosling's excellent summary video on this chart (with updated data) <a href=""https://www.gapminder.org/answers/how-does-income-relate-to-life-expectancy/"" target=blank>here</a>."
2,40,40,80,Triggering events when narration blocks are entered,"Here we used a custom trigger ""year:2008"", which is received as the prop  <strong>state.year (= 2008)</strong> by <code>onActivateNarrationFunction() </code>",,,year:2008;yearProgress:;snippet:;,The Wealth and Health of Nations,
2,40,40,80,Triggering events when narration blocks are entered,"Set the trigger again to change year ""year:1950"". <strong>state.year = 1950</strong>",,,year:1950;yearProgress:;snippet:;,The Wealth and Health of Nations,
2,40,40,100,Rendering years as progress,"Setting a yearProgress variable to the progress through the view<br>Here we used a custom trigger ""yearProgress:$progress"", which is received as the prop  <strong>state.yearProgress = progress 0 -> 1</strong> by <i>scrollyTellerConfig.onScrollFunction()</i>",,,yearProgress:$progress;snippet:;,The Wealth and Health of Nations,
7,50,50,80,The end,,https://stash.ihme.washington.edu/projects/VIZ/repos/scrolly-teller/browse,Here's a link to the scrolly-teller repo,containerStyle.opacity:calc(1 - $progress);snippet:;,The Wealth and Health of Nations,