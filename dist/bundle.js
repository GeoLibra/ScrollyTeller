!function(t){function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}var e={};n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(n){return t[n]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="",n(n.s=93)}([function(t,n,e){"use strict";var r=e(37),i="object"==typeof self&&self&&self.Object===Object&&self,o=r.a||i||Function("return this")();n.a=o},function(t,n,e){var r=e(29)("wks"),i=e(22),o=e(2).Symbol,a="function"==typeof o;(t.exports=function(t){return r[t]||(r[t]=a&&o[t]||(a?o:i)("Symbol."+t))}).store=r},function(t){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,n,e){var r=e(7);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},,function(t,n,e){var r=e(2),i=e(16),o=e(12),a=e(10),s=e(14),c="prototype",u=function(t,n,e){var l,f,h,d,p=t&u.F,g=t&u.G,v=t&u.S,y=t&u.P,m=t&u.B,b=g?r:v?r[n]||(r[n]={}):(r[n]||{})[c],_=g?i:i[n]||(i[n]={}),w=_[c]||(_[c]={});for(l in g&&(e=n),e)h=((f=!p&&b&&void 0!==b[l])?b:e)[l],d=m&&f?s(h,r):y&&"function"==typeof h?s(Function.call,h):h,b&&a(b,l,h,t&u.U),_[l]!=h&&o(_,l,d),y&&w[l]!=h&&(w[l]=h)};r.core=i,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,n,e){var r=e(3),i=e(58),o=e(30),a=Object.defineProperty;n.f=e(8)?Object.defineProperty:function(t,n,e){if(r(t),n=o(n,!0),r(e),i)try{return a(t,n,e)}catch(n){}if("get"in e||"set"in e)throw TypeError("Accessors not supported!");return"value"in e&&(t[n]=e.value),t}},function(t){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,n,e){t.exports=!e(9)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,n,e){var r=e(2),i=e(12),o=e(13),a=e(22)("src"),s=e(95),c="toString",u=(""+s).split(c);e(16).inspectSource=function(t){return s.call(t)},(t.exports=function(t,n,e,s){var c="function"==typeof e;c&&(o(e,"name")||i(e,"name",n)),t[n]===e||(c&&(o(e,a)||i(e,a,t[n]?""+t[n]:u.join(n+""))),t===r?t[n]=e:s?t[n]?t[n]=e:i(t,n,e):(delete t[n],i(t,n,e)))})(Function.prototype,c,(function(){return"function"==typeof this&&this[a]||s.call(this)}))},function(t,n,e){"use strict";(function(t){var r=e(0),i=e(89),o="object"==typeof exports&&exports&&!exports.nodeType&&exports,a=o&&"object"==typeof t&&t&&!t.nodeType&&t,s=a&&a.exports===o?r.a.Buffer:void 0,c=(s?s.isBuffer:void 0)||i.a;n.a=c}).call(this,e(47)(t))},function(t,n,e){var r=e(6),i=e(23);t.exports=e(8)?function(t,n,e){return r.f(t,n,i(1,e))}:function(t,n,e){return t[n]=e,t}},function(t){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,n,e){var r=e(27);t.exports=function(t,n,e){return r(t),void 0===n?t:1===e?function(e){return t.call(n,e)}:2===e?function(e,r){return t.call(n,e,r)}:3===e?function(e,r,i){return t.call(n,e,r,i)}:function(){return t.apply(n,arguments)}}},function(t){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t){var n=t.exports={version:"2.6.5"};"number"==typeof __e&&(__e=n)},function(t,n,e){var r=e(31),i=Math.min;t.exports=function(t){return 0<t?i(r(t),9007199254740991):0}},function(t,n,e){"use strict";var r=e(28);({})[e(1)("toStringTag")]="z",e(10)(Object.prototype,"toString",(function(){return"[object "+r(this)+"]"}),!0)},function(t,n,e){var r=e(69),i=e(20);t.exports=function(t){return r(i(t))}},function(t){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t){t.exports=!1},function(t){var n=0,e=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+e).toString(36))}},function(t){t.exports=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}}},function(t){t.exports={}},function(t,n,e){var r=e(20);t.exports=function(t){return Object(r(t))}},function(t,n,e){var r=e(76),i=e(50);t.exports=Object.keys||function(t){return r(t,i)}},function(t){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,n,e){var r=e(15),i=e(1)("toStringTag"),o="Arguments"==r(function(){return arguments}());t.exports=function(t){var n,e,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(e=function(t,n){try{return t[n]}catch(n){}}(n=Object(t),i))?e:o?r(n):"Object"==(a=r(n))&&"function"==typeof n.callee?"Arguments":a}},function(t,n,e){var r=e(16),i=e(2),o="__core-js_shared__",a=i[o]||(i[o]={});(t.exports=function(t,n){return a[t]||(a[t]=void 0===n?{}:n)})("versions",[]).push({version:r.version,mode:e(21)?"pure":"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,n,e){var r=e(7);t.exports=function(t,n){if(!r(t))return t;var e,i;if(n&&"function"==typeof(e=t.toString)&&!r(i=e.call(t)))return i;if("function"==typeof(e=t.valueOf)&&!r(i=e.call(t)))return i;if(!n&&"function"==typeof(e=t.toString)&&!r(i=e.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t){var n=Math.ceil,e=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(0<t?e:n)(t)}},function(t,n,e){var r=e(6).f,i=e(13),o=e(1)("toStringTag");t.exports=function(t,n,e){t&&!i(t=e?t:t.prototype,o)&&r(t,o,{configurable:!0,value:n})}},function(t,n,e){for(var r=e(34),i=e(26),o=e(10),a=e(2),s=e(12),c=e(24),u=e(1),l=u("iterator"),f=u("toStringTag"),h=c.Array,d={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=i(d),g=0;g<p.length;g++){var v,y=p[g],m=d[y],b=a[y],_=b&&b.prototype;if(_&&(_[l]||s(_,l,h),_[f]||s(_,f,y),c[y]=h,m))for(v in r)_[v]||o(_,v,r[v],!0)}},function(t,n,e){"use strict";var r=e(40),i=e(121),o=e(24),a=e(19);t.exports=e(75)(Array,"Array",(function(t,n){this._t=a(t),this._i=0,this._k=n}),(function(){var t=this._t,n=this._k,e=this._i++;return!t||e>=t.length?(this._t=void 0,i(1)):i(0,"keys"==n?e:"values"==n?t[e]:[e,t[e]])}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(t,n,e){var r=e(76),i=e(50).concat("length","prototype");n.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,n,e){var r=e(55),i=e(23),o=e(19),a=e(30),s=e(13),c=e(58),u=Object.getOwnPropertyDescriptor;n.f=e(8)?u:function(t,n){if(t=o(t),n=a(n,!0),c)try{return u(t,n)}catch(n){}return s(t,n)?i(!r.f.call(t,n),t[n]):void 0}},function(t,n,e){"use strict";(function(t){var e="object"==typeof t&&t&&t.Object===Object&&t;n.a=e}).call(this,e(68))},function(t,n,e){"use strict";var r,i,o,a,s=e(21),c=e(2),u=e(14),l=e(28),f=e(5),h=e(7),d=e(27),p=e(96),g=e(97),v=e(62),y=e(63).set,m=e(99)(),b=e(65),_=e(100),w=e(101),x=e(102),S="Promise",T=c.TypeError,C=c.process,E=C&&C.versions,N=E&&E.v8||"",A=c[S],k="process"==l(C),I=function(){},O=i=b.f,j=!!function(){try{var t=A.resolve(1),n=(t.constructor={})[e(1)("species")]=function(t){t(I,I)};return(k||"function"==typeof PromiseRejectionEvent)&&t.then(I)instanceof n&&0!==N.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(n){}}(),L=function(t){var n;return!(!h(t)||"function"!=typeof(n=t.then))&&n},F=function(t,n){if(!t._n){t._n=!0;var e=t._c;m((function(){for(var r=t._v,i=1==t._s,o=0,a=function(n){var e,o,a,s=i?n.ok:n.fail,c=n.resolve,u=n.reject,l=n.domain;try{s?(!i&&(2==t._h&&M(t),t._h=1),!0===s?e=r:(l&&l.enter(),e=s(r),l&&(l.exit(),a=!0)),e===n.promise?u(T("Promise-chain cycle")):(o=L(e))?o.call(e,c,u):c(e)):u(r)}catch(n){l&&!a&&l.exit(),u(n)}};e.length>o;)a(e[o++]);t._c=[],t._n=!1,n&&!t._h&&D(t)}))}},D=function(t){y.call(c,(function(){var n,e,r,i=t._v,o=P(t);if(o&&(n=_((function(){k?C.emit("unhandledRejection",i,t):(e=c.onunhandledrejection)?e({promise:t,reason:i}):(r=c.console)&&r.error&&r.error("Unhandled promise rejection",i)})),t._h=k||P(t)?2:1),t._a=void 0,o&&n.e)throw n.v}))},P=function(t){return 1!==t._h&&0===(t._a||t._c).length},M=function(t){y.call(c,(function(){var n;k?C.emit("rejectionHandled",t):(n=c.onrejectionhandled)&&n({promise:t,reason:t._v})}))},R=function(t){var n=this;n._d||(n._d=!0,(n=n._w||n)._v=t,n._s=2,!n._a&&(n._a=n._c.slice()),F(n,!0))},H=function(t){var n,e=this;if(!e._d){e._d=!0,e=e._w||e;try{if(e===t)throw T("Promise can't be resolved itself");(n=L(t))?m((function(){var r={_w:e,_d:!1};try{n.call(t,u(H,r,1),u(R,r,1))}catch(t){R.call(r,t)}})):(e._v=t,e._s=1,F(e,!1))}catch(n){R.call({_w:e,_d:!1},n)}}};j||(A=function(t){p(this,A,S,"_h"),d(t),r.call(this);try{t(u(H,this,1),u(R,this,1))}catch(t){R.call(this,t)}},(r=function(){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=e(103)(A.prototype,{then:function(t,n){var e=O(v(this,A));return e.ok="function"!=typeof t||t,e.fail="function"==typeof n&&n,e.domain=k?C.domain:void 0,this._c.push(e),this._a&&this._a.push(e),this._s&&F(this,!1),e.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new r;this.promise=t,this.resolve=u(H,t,1),this.reject=u(R,t,1)},b.f=O=function(t){return t===A||t===a?new o(t):i(t)}),f(f.G+f.W+f.F*!j,{Promise:A}),e(32)(A,S),e(104)(S),a=e(16)[S],f(f.S+f.F*!j,S,{reject:function(t){var n=O(this);return(0,n.reject)(t),n.promise}}),f(f.S+f.F*(s||!j),S,{resolve:function(t){return x(s&&this===a?A:this,t)}}),f(f.S+f.F*!(j&&e(66)((function(t){A.all(t).catch(I)}))),S,{all:function(t){var n=this,e=O(n),r=e.resolve,i=e.reject,o=_((function(){var e=[],o=0,a=1;g(t,!1,(function(t){var s=o++,c=!1;e.push(void 0),a++,n.resolve(t).then((function(t){c||(c=!0,e[s]=t,--a||r(e))}),i)})),--a||r(e)}));return o.e&&i(o.v),e.promise},race:function(t){var n=this,e=O(n),r=e.reject,i=_((function(){g(t,!1,(function(t){n.resolve(t).then(e.resolve,r)}))}));return i.e&&r(i.v),e.promise}})},function(t,n,e){var r=e(7),i=e(2).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,n,e){var r=e(1)("unscopables"),i=Array.prototype;null==i[r]&&e(12)(i,r,{}),t.exports=function(t){i[r][t]=!0}},function(t,n,e){var r=e(6).f,i=Function.prototype,o=/^\s*function ([^ (]*)/,a="name";a in i||e(8)&&r(i,a,{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},function(t,n,e){"use strict";var r=e(73)(!0);t.exports=function(t,n,e){return n+(e?r(t,n).length:1)}},function(t,n,e){"use strict";var r=e(28),i=RegExp.prototype.exec;t.exports=function(t,n){var e=t.exec;if("function"==typeof e){var o=e.call(t,n);if("object"!=typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(t))throw new TypeError("RegExp#exec called on incompatible receiver");return i.call(t,n)}},function(t,n,e){"use strict";e(120);var r=e(10),i=e(12),o=e(9),a=e(20),s=e(1),c=e(45),u=s("species"),l=!o((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),f=function(){var t=/(?:)/,n=t.exec;t.exec=function(){return n.apply(this,arguments)};var e="ab".split(t);return 2===e.length&&"a"===e[0]&&"b"===e[1]}();t.exports=function(t,n,e){var h=s(t),d=!o((function(){var n={};return n[h]=function(){return 7},7!=""[t](n)})),p=d?!o((function(){var n=!1,e=/a/;return e.exec=function(){return n=!0,null},"split"===t&&(e.constructor={},e.constructor[u]=function(){return e}),e[h](""),!n})):void 0;if(!d||!p||"replace"===t&&!l||"split"===t&&!f){var g=/./[h],v=e(a,h,""[t],(function(t,n,e,r,i){return n.exec===c?d&&!i?{done:!0,value:g.call(n,e,r)}:{done:!0,value:t.call(e,n,r)}:{done:!1}})),y=v[0],m=v[1];r(String.prototype,t,y),i(RegExp.prototype,h,2==n?function(t,n){return m.call(t,this,n)}:function(t){return m.call(t,this)})}}},function(t,n,e){"use strict";var r=e(46),i=RegExp.prototype.exec,o=String.prototype.replace,a=i,s="lastIndex",c=function(){var t=/a/,n=/b*/g;return i.call(t,"a"),i.call(n,"a"),0!==t[s]||0!==n[s]}(),u=void 0!==/()??/.exec("")[1];(c||u)&&(a=function(t){var n,e,a,l,f=this;return u&&(e=new RegExp("^"+f.source+"$(?!\\s)",r.call(f))),c&&(n=f[s]),a=i.call(f,t),c&&a&&(f[s]=f.global?a.index+a[0].length:n),u&&a&&1<a.length&&o.call(a[0],e,(function(){for(l=1;l<arguments.length-2;l++)void 0===arguments[l]&&(a[l]=void 0)})),a}),t.exports=a},function(t,n,e){"use strict";var r=e(3);t.exports=function(){var t=r(this),n="";return t.global&&(n+="g"),t.ignoreCase&&(n+="i"),t.multiline&&(n+="m"),t.unicode&&(n+="u"),t.sticky&&(n+="y"),n}},function(t){t.exports=function(t){if(!t.webpackPolyfill){var n=Object.create(t);n.children||(n.children=[]),Object.defineProperty(n,"loaded",{enumerable:!0,get:function(){return n.l}}),Object.defineProperty(n,"id",{enumerable:!0,get:function(){return n.i}}),Object.defineProperty(n,"exports",{enumerable:!0}),n.webpackPolyfill=1}return n}},function(t,n,e){var r=e(3),i=e(123),o=e(50),a=e(49)("IE_PROTO"),s=function(){},c="prototype",u=function(){var t,n=e(39)("iframe"),r=o.length;for(n.style.display="none",e(64).appendChild(n),n.src="javascript:",(t=n.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),u=t.F;r--;)delete u[c][o[r]];return u()};t.exports=Object.create||function(t,n){var e;return null===t?e=u():(s[c]=r(t),e=new s,s[c]=null,e[a]=t),void 0===n?e:i(e,n)}},function(t,n,e){var r=e(29)("keys"),i=e(22);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,n,e){"use strict";var r=e(73)(!0);e(75)(String,"String",(function(t){this._t=t+"",this._i=0}),(function(){var t,n=this._t,e=this._i;return e>=n.length?{value:void 0,done:!0}:(t=r(n,e),this._i+=t.length,{value:t,done:!1})}))},function(t,n,e){"use strict";e(126);var r=e(3),i=e(46),o=e(8),a="toString",s=/./[a],c=function(t){e(10)(RegExp.prototype,a,t,!0)};e(9)((function(){return"/a/b"!=s.call({source:"a",flags:"b"})}))?c((function(){var t=r(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?i.call(t):void 0)})):s.name!=a&&c((function(){return s.call(this)}))},function(t,n,e){"use strict";var r=e(2),i=e(13),o=e(8),a=e(5),s=e(10),c=e(127).KEY,u=e(9),l=e(29),f=e(32),h=e(22),d=e(1),p=e(82),g=e(81),v=e(128),y=e(70),m=e(3),b=e(7),_=e(19),w=e(30),x=e(23),S=e(48),T=e(129),C=e(36),E=e(6),N=e(26),A=C.f,k=E.f,I=T.f,O=r.Symbol,j=r.JSON,L=j&&j.stringify,F="prototype",D=d("_hidden"),P=d("toPrimitive"),M={}.propertyIsEnumerable,R=l("symbol-registry"),H=l("symbols"),z=l("op-symbols"),U=Object[F],B="function"==typeof O,V=r.QObject,W=!V||!V[F]||!V[F].findChild,G=o&&u((function(){return 7!=S(k({},"a",{get:function(){return k(this,"a",{value:7}).a}})).a}))?function(t,n,e){var r=A(U,n);r&&delete U[n],k(t,n,e),r&&t!==U&&k(U,n,r)}:k,q=function(t){var n=H[t]=S(O[F]);return n._k=t,n},Y=B&&"symbol"==typeof O.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof O},$=function(t,n,e){return t===U&&$(z,n,e),m(t),n=w(n,!0),m(e),i(H,n)?(e.enumerable?(i(t,D)&&t[D][n]&&(t[D][n]=!1),e=S(e,{enumerable:x(0,!1)})):(!i(t,D)&&k(t,D,x(1,{})),t[D][n]=!0),G(t,n,e)):k(t,n,e)},X=function(t,n){m(t);for(var e,r=v(n=_(n)),i=0,o=r.length;o>i;)$(t,e=r[i++],n[e]);return t},J=function(t){var n=M.call(this,t=w(t,!0));return(this!==U||!i(H,t)||i(z,t))&&(!(n||!i(this,t)||!i(H,t)||i(this,D)&&this[D][t])||n)},Z=function(t,n){if(t=_(t),n=w(n,!0),t!==U||!i(H,n)||i(z,n)){var e=A(t,n);return e&&i(H,n)&&!(i(t,D)&&t[D][n])&&(e.enumerable=!0),e}},Q=function(t){for(var n,e=I(_(t)),r=[],o=0;e.length>o;)i(H,n=e[o++])||n==D||n==c||r.push(n);return r},K=function(t){for(var n,e=t===U,r=I(e?z:_(t)),o=[],a=0;r.length>a;)i(H,n=r[a++])&&(!e||i(U,n))&&o.push(H[n]);return o};B||(s((O=function(){if(this instanceof O)throw TypeError("Symbol is not a constructor!");var t=h(0<arguments.length?arguments[0]:void 0),n=function(e){this===U&&n.call(z,e),i(this,D)&&i(this[D],t)&&(this[D][t]=!1),G(this,t,x(1,e))};return o&&W&&G(U,t,{configurable:!0,set:n}),q(t)})[F],"toString",(function(){return this._k})),C.f=Z,E.f=$,e(35).f=T.f=Q,e(55).f=J,e(54).f=K,o&&!e(21)&&s(U,"propertyIsEnumerable",J,!0),p.f=function(t){return q(d(t))}),a(a.G+a.W+a.F*!B,{Symbol:O});for(var tt=["hasInstance","isConcatSpreadable","iterator","match","replace","search","species","split","toPrimitive","toStringTag","unscopables"],nt=0;tt.length>nt;)d(tt[nt++]);for(var et=N(d.store),rt=0;et.length>rt;)g(et[rt++]);a(a.S+a.F*!B,"Symbol",{for:function(t){return i(R,t+="")?R[t]:R[t]=O(t)},keyFor:function(t){if(!Y(t))throw TypeError(t+" is not a symbol!");for(var n in R)if(R[n]===t)return n},useSetter:function(){W=!0},useSimple:function(){W=!1}}),a(a.S+a.F*!B,"Object",{create:function(t,n){return void 0===n?S(t):X(S(t),n)},defineProperty:$,defineProperties:X,getOwnPropertyDescriptor:Z,getOwnPropertyNames:Q,getOwnPropertySymbols:K}),j&&a(a.S+a.F*(!B||u((function(){var t=O();return"[null]"!=L([t])||"{}"!=L({a:t})||"{}"!=L(Object(t))}))),"JSON",{stringify:function(t){for(var n,e,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);if(e=n=r[1],(b(n)||void 0!==t)&&!Y(t))return y(n)||(n=function(t,n){if("function"==typeof e&&(n=e.call(this,t,n)),!Y(n))return n}),r[1]=n,L.apply(j,r)}}),O[F][P]||e(12)(O[F],P,O[F].valueOf),f(O,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},function(t,n){n.f=Object.getOwnPropertySymbols},function(t,n){n.f={}.propertyIsEnumerable},function(t,n,e){"use strict";(function(t){var r=e(37),i="object"==typeof exports&&exports&&!exports.nodeType&&exports,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=o&&o.exports===i&&r.a.process,s=function(){try{var t=o&&o.require&&o.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(t){}}();n.a=s}).call(this,e(47)(t))},,function(t,n,e){t.exports=!e(8)&&!e(9)((function(){return 7!=Object.defineProperty(e(39)("div"),"a",{get:function(){return 7}}).a}))},function(t,n,e){var r=e(3);t.exports=function(t,n,e,i){try{return i?n(r(e)[0],e[1]):n(e)}catch(e){var o=t.return;throw void 0!==o&&r(o.call(t)),e}}},function(t,n,e){var r=e(24),i=e(1)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[i]===t)}},function(t,n,e){var r=e(28),i=e(1)("iterator"),o=e(24);t.exports=e(16).getIteratorMethod=function(t){if(null!=t)return t[i]||t["@@iterator"]||o[r(t)]}},function(t,n,e){var r=e(3),i=e(27),o=e(1)("species");t.exports=function(t,n){var e,a=r(t).constructor;return void 0===a||null==(e=r(a)[o])?n:i(e)}},function(t,n,e){var r,i,o,a=e(14),s=e(98),c=e(64),u=e(39),l=e(2),f=l.process,h=l.setImmediate,d=l.clearImmediate,p=l.MessageChannel,g=l.Dispatch,v=0,y={},m="onreadystatechange",b=function(){var t=+this;if(y.hasOwnProperty(t)){var n=y[t];delete y[t],n()}},_=function(t){b.call(t.data)};h&&d||(h=function(t){for(var n=[],e=1;arguments.length>e;)n.push(arguments[e++]);return y[++v]=function(){s("function"==typeof t?t:Function(t),n)},r(v),v},d=function(t){delete y[t]},"process"==e(15)(f)?r=function(t){f.nextTick(a(b,t,1))}:g&&g.now?r=function(t){g.now(a(b,t,1))}:p?(o=(i=new p).port2,i.port1.onmessage=_,r=a(o.postMessage,o,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(t){l.postMessage(t+"","*")},l.addEventListener("message",_,!1)):r=m in u("script")?function(t){c.appendChild(u("script"))[m]=function(){c.removeChild(this),b.call(t)}}:function(t){setTimeout(a(b,t,1),0)}),t.exports={set:h,clear:d}},function(t,n,e){var r=e(2).document;t.exports=r&&r.documentElement},function(t,n,e){"use strict";function r(t){var n,e;this.promise=new t((function(t,r){if(void 0!==n||void 0!==e)throw TypeError("Bad Promise constructor");n=t,e=r})),this.resolve=i(n),this.reject=i(e)}var i=e(27);t.exports.f=function(t){return new r(t)}},function(t,n,e){var r=e(1)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,(function(){throw 2}))}catch(n){}t.exports=function(t,n){if(!n&&!i)return!1;var e=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:e=!0}},o[r]=function(){return a},t(o)}catch(n){}return e}},function(t,n,e){(function(n){!function(n){"use strict";function e(t,n,e,r){var o=n&&n.prototype instanceof i?n:i,a=Object.create(o.prototype),s=new d(r||[]);return a._invoke=u(t,e,s),a}function r(t,n,e){try{return{type:"normal",arg:t.call(n,e)}}catch(t){return{type:"throw",arg:t}}}function i(){}function o(){}function a(){}function s(t){["next","throw","return"].forEach((function(n){t[n]=function(t){return this._invoke(n,t)}}))}function c(t){function e(n,i,o,a){var s=r(t[n],t,i);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==typeof u&&y.call(u,"__await")?Promise.resolve(u.__await).then((function(t){e("next",t,o,a)}),(function(t){e("throw",t,o,a)})):Promise.resolve(u).then((function(t){c.value=t,o(c)}),a)}a(s.arg)}var i;"object"==typeof n.process&&n.process.domain&&(e=n.process.domain.bind(e)),this._invoke=function(t,n){function r(){return new Promise((function(r,i){e(t,n,r,i)}))}return i=i?i.then(r,r):r()}}function u(t,n,e){var i=T;return function(o,a){if(i===E)throw new Error("Generator is already running");if(i===N){if("throw"===o)throw a;return{value:void 0,done:!0}}for(e.method=o,e.arg=a;;){var s=e.delegate;if(s){var c=l(s,e);if(c){if(c===A)continue;return c}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(i===T)throw i=N,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);i=E;var u=r(t,n,e);if("normal"===u.type){if(i=e.done?N:C,u.arg===A)continue;return{value:u.arg,done:e.done}}"throw"===u.type&&(i=N,e.method="throw",e.arg=u.arg)}}}function l(t,n){var e=t.iterator[n.method];if(void 0===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=void 0,l(t,n),"throw"===n.method))return A;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return A}var i=r(e,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,A;var o=i.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,A):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,A)}function f(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function h(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function d(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(f,this),this.reset(!0)}function p(t){if(t){var n=t[b];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var e=-1,r=function n(){for(;++e<t.length;)if(y.call(t,e))return n.value=t[e],n.done=!1,n;return n.value=void 0,n.done=!0,n};return r.next=r}}return{next:g}}function g(){return{value:void 0,done:!0}}var v=Object.prototype,y=v.hasOwnProperty,m="function"==typeof Symbol?Symbol:{},b=m.iterator||"@@iterator",_=m.asyncIterator||"@@asyncIterator",w=m.toStringTag||"@@toStringTag",x="object"==typeof t,S=n.regeneratorRuntime;if(S)x&&(t.exports=S);else{(S=n.regeneratorRuntime=x?t.exports:{}).wrap=e;var T="suspendedStart",C="suspendedYield",E="executing",N="completed",A={},k={};k[b]=function(){return this};var I=Object.getPrototypeOf,O=I&&I(I(p([])));O&&O!==v&&y.call(O,b)&&(k=O);var j=a.prototype=i.prototype=Object.create(k);o.prototype=j.constructor=a,a.constructor=o,a[w]=o.displayName="GeneratorFunction",S.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===o||"GeneratorFunction"===(n.displayName||n.name))},S.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,a):(t.__proto__=a,!(w in t)&&(t[w]="GeneratorFunction")),t.prototype=Object.create(j),t},S.awrap=function(t){return{__await:t}},s(c.prototype),c.prototype[_]=function(){return this},S.AsyncIterator=c,S.async=function(t,n,r,i){var o=new c(e(t,n,r,i));return S.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},s(j),j[w]="Generator",j[b]=function(){return this},j.toString=function(){return"[object Generator]"},S.keys=function(t){var n=[];for(var e in t)n.push(e);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},S.values=p,d.prototype={constructor:d,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(h),!t)for(var n in this)"t"===n.charAt(0)&&y.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){function n(n,r){return o.type="throw",o.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}if(this.done)throw t;for(var e=this,r=this.tryEntries.length-1;0<=r;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var a=y.call(i,"catchLoc"),s=y.call(i,"finallyLoc");if(a&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,n){for(var e,r=this.tryEntries.length-1;0<=r;--r)if((e=this.tryEntries[r]).tryLoc<=this.prev&&y.call(e,"finallyLoc")&&this.prev<e.finallyLoc){var i=e;break}i&&("break"===t||"continue"===t)&&i.tryLoc<=n&&n<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=n,i?(this.method="next",this.next=i.finallyLoc,A):this.complete(o)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),A},finish:function(t){for(var n,e=this.tryEntries.length-1;0<=e;--e)if((n=this.tryEntries[e]).finallyLoc===t)return this.complete(n.completion,n.afterLoc),h(n),A},catch:function(t){for(var n,e=this.tryEntries.length-1;0<=e;--e)if((n=this.tryEntries[e]).tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;h(n)}return i}throw new Error("illegal catch attempt")},delegateYield:function(t,n,e){return this.delegate={iterator:p(t),resultName:n,nextLoc:e},"next"===this.method&&(this.arg=void 0),A}}}}("object"==typeof n?n:"object"==typeof window?window:"object"==typeof self?self:this)}).call(this,e(68))},function(t){var n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,n,e){var r=e(15);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,n,e){var r=e(15);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t){"use strict";(t.exports={}).forEach=function(t,n){for(var e,r=0;r<t.length;r++)if(e=n(t[r]))return e}},function(t){"use strict";var n=t.exports={};n.isIE=function(t){if(!function(){var t=navigator.userAgent.toLowerCase();return-1!==t.indexOf("msie")||-1!==t.indexOf("trident")||-1!==t.indexOf(" edge/")}())return!1;if(!t)return!0;var n=function(){var t=3,n=document.createElement("div"),e=n.getElementsByTagName("i");do{n.innerHTML="\x3c!--[if gt IE "+ ++t+"]><i></i><![endif]--\x3e"}while(e[0]);return 4<t?t:void 0}();return t===n},n.isLegacyOpera=function(){return!!window.opera}},function(t,n,e){var r=e(31),i=e(20);t.exports=function(t){return function(n,e){var o,a,s=i(n)+"",c=r(e),u=s.length;return 0>c||c>=u?t?"":void 0:55296>(o=s.charCodeAt(c))||56319<o||c+1===u||56320>(a=s.charCodeAt(c+1))||57343<a?t?s.charAt(c):o:t?s.slice(c,c+2):a-56320+(o-55296<<10)+65536}}},function(t,n,e){"use strict";var r=e(3),i=e(17),o=e(42),a=e(43);e(44)("match",1,(function(t,n,e,s){return[function(e){var r=t(this),i=null==e?void 0:e[n];return void 0===i?new RegExp(e)[n](r+""):i.call(e,r)},function(t){var n=s(e,t,this);if(n.done)return n.value;var c=r(t),u=this+"";if(!c.global)return a(c,u);var l=c.unicode;c.lastIndex=0;for(var f,h=[],d=0;null!==(f=a(c,u));){var p=f[0]+"";h[d]=p,""==p&&(c.lastIndex=o(u,i(c.lastIndex),l)),d++}return 0==d?null:h}]}))},function(t,n,e){"use strict";var r=e(21),i=e(5),o=e(10),a=e(12),s=e(24),c=e(122),u=e(32),l=e(125),f=e(1)("iterator"),h=!([].keys&&"next"in[].keys()),d="keys",p="values",g=function(){return this};t.exports=function(t,n,e,v,y,m,b){c(e,n,v);var _,w,x,S=function(t){return!h&&t in N?N[t]:function(){return new e(this,t)}},T=n+" Iterator",C=y==p,E=!1,N=t.prototype,A=N[f]||N["@@iterator"]||y&&N[y],k=A||S(y),I=y?C?S("entries"):k:void 0,O="Array"==n&&N.entries||A;if(O&&((x=l(O.call(new t)))!==Object.prototype&&x.next&&(u(x,T,!0),!r&&"function"!=typeof x[f]&&a(x,f,g))),C&&A&&A.name!==p&&(E=!0,k=function(){return A.call(this)}),(!r||b)&&(h||E||!N[f])&&a(N,f,k),s[n]=k,s[T]=g,y)if(_={values:C?k:S(p),keys:m?k:S(d),entries:I},b)for(w in _)w in N||o(N,w,_[w]);else i(i.P+i.F*(h||E),n,_);return _}},function(t,n,e){var r=e(13),i=e(19),o=e(77)(!1),a=e(49)("IE_PROTO");t.exports=function(t,n){var e,s=i(t),c=0,u=[];for(e in s)e!=a&&r(s,e)&&u.push(e);for(;n.length>c;)r(s,e=n[c++])&&(~o(u,e)||u.push(e));return u}},function(t,n,e){var r=e(19),i=e(17),o=e(124);t.exports=function(t){return function(n,e,a){var s,c=r(n),u=i(c.length),l=o(a,u);if(t&&e!=e){for(;u>l;)if((s=c[l++])!=s)return!0}else for(;u>l;l++)if((t||l in c)&&c[l]===e)return t||l||0;return!t&&-1}}},function(t,n,e){"use strict";var r=e(14),i=e(5),o=e(25),a=e(59),s=e(60),c=e(17),u=e(79),l=e(61);i(i.S+i.F*!e(66)((function(t){Array.from(t)})),"Array",{from:function(t){var n,e,i,f,h=o(t),d="function"==typeof this?this:Array,p=arguments.length,g=1<p?arguments[1]:void 0,v=void 0!==g,y=0,m=l(h);if(v&&(g=r(g,2<p?arguments[2]:void 0,2)),null==m||d==Array&&s(m))for(e=new d(n=c(h.length));n>y;y++)u(e,y,v?g(h[y],y):h[y]);else for(f=m.call(h),e=new d;!(i=f.next()).done;y++)u(e,y,v?a(f,g,[i.value,y],!0):i.value);return e.length=y,e}})},function(t,n,e){"use strict";var r=e(6),i=e(23);t.exports=function(t,n,e){n in t?r.f(t,n,i(0,e)):t[n]=e}},function(t,n,e){e(81)("asyncIterator")},function(t,n,e){var r=e(2),i=e(16),o=e(21),a=e(82),s=e(6).f;t.exports=function(t){var n=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==t.charAt(0)||t in n||s(n,t,{value:a.f(t)})}},function(t,n,e){n.f=e(1)},function(t,n,e){"use strict";var r=e(84),i=e(3),o=e(62),a=e(42),s=e(17),c=e(43),u=e(45),l=e(9),f=Math.min,h=[].push,d="split",p="length",g="lastIndex",v=4294967295,y=!l((function(){RegExp(v,"y")}));e(44)("split",2,(function(t,n,e,l){var m;return m="c"=="abbc"[d](/(b)*/)[1]||4!="test"[d](/(?:)/,-1)[p]||2!="ab"[d](/(?:ab)*/)[p]||4!="."[d](/(.?)(.?)/)[p]||1<"."[d](/()()/)[p]||""[d](/.?/)[p]?function(t,n){var i=this+"";if(void 0===t&&0===n)return[];if(!r(t))return e.call(i,t,n);for(var o,a,s,c=[],l=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),f=0,d=void 0===n?v:n>>>0,y=new RegExp(t.source,l+"g");(o=u.call(y,i))&&!((a=y[g])>f&&(c.push(i.slice(f,o.index)),1<o[p]&&o.index<i[p]&&h.apply(c,o.slice(1)),s=o[0][p],f=a,c[p]>=d));)y[g]===o.index&&y[g]++;return f===i[p]?(s||!y.test(""))&&c.push(""):c.push(i.slice(f)),c[p]>d?c.slice(0,d):c}:"0"[d](void 0,0)[p]?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,r){var i=t(this),o=null==e?void 0:e[n];return void 0===o?m.call(i+"",e,r):o.call(e,i,r)},function(t,n){var r=l(m,t,this,n,m!==e);if(r.done)return r.value;var u=i(t),h=this+"",d=o(u,RegExp),p=u.unicode,g=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(y?"y":"g"),b=new d(y?u:"^(?:"+u.source+")",g),_=void 0===n?v:n>>>0;if(0==_)return[];if(0===h.length)return null===c(b,h)?[h]:[];for(var w=0,x=0,S=[];x<h.length;){b.lastIndex=y?x:0;var T,C=c(b,y?h:h.slice(x));if(null===C||(T=f(s(b.lastIndex+(y?0:x)),h.length))===w)x=a(h,x,p);else{if(S.push(h.slice(w,x)),S.length===_)return S;for(var E=1;E<=C.length-1;E++)if(S.push(C[E]),S.length===_)return S;x=w=T}}return S.push(h.slice(w)),S}]}))},function(t,n,e){var r=e(7),i=e(15),o=e(1)("match");t.exports=function(t){var n;return r(t)&&(void 0===(n=t[o])?"RegExp"==i(t):!!n)}},function(t,n,e){"use strict";var r=e(2),i=e(13),o=e(15),a=e(130),s=e(30),c=e(9),u=e(35).f,l=e(36).f,f=e(6).f,h=e(132).trim,d="Number",p=r[d],g=p,v=p.prototype,y=o(e(48)(v))==d,m="trim"in String.prototype,b=function(t){var n=s(t,!1);if("string"==typeof n&&2<n.length){var e,r,i,o=(n=m?n.trim():h(n,3)).charCodeAt(0);if(43===o||45===o){if(88===(e=n.charCodeAt(2))||120===e)return NaN}else if(48===o){switch(n.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+n}for(var a,c=n.slice(2),u=0,l=c.length;u<l;u++)if(48>(a=c.charCodeAt(u))||a>i)return NaN;return parseInt(c,r)}}return+n};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(t){var n=1>arguments.length?0:t,e=this;return e instanceof p&&(y?c((function(){v.valueOf.call(e)})):o(e)!=d)?a(new g(b(n)),e,p):b(n)};for(var _,w=e(8)?u(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),x=0;w.length>x;x++)i(g,_=w[x])&&!i(p,_)&&f(p,_,l(g,_));p.prototype=v,v.constructor=p,e(10)(r,d,p)}},function(t,n,e){var r=e(5),i=e(142),o=e(19),a=e(36),s=e(79);r(r.S,"Object",{getOwnPropertyDescriptors:function(t){for(var n,e,r=o(t),c=a.f,u=i(r),l={},f=0;u.length>f;)void 0!==(e=c(r,n=u[f++]))&&s(l,n,e);return l}})},function(t,n,e){var r=e(25),i=e(26);e(143)("keys",(function(){return function(t){return i(r(t))}}))},function(t,n,e){"use strict";function r(t){return Array.isArray(t)||void 0!==t.length}function i(t){if(!Array.isArray(t)){var n=[];return s(t,(function(t){n.push(t)})),n}return t}function o(t){return t&&1===t.nodeType}function a(t,n,e){var r=t[n];return null==r&&void 0!==e?e:r}var s=e(71).forEach,c=e(109),u=e(110),l=e(111),f=e(112),h=e(113),d=e(72),p=e(114),g=e(116),v=e(117),y=e(118);t.exports=function(t){var n;if((t=t||{}).idHandler)n={get:function(n){return t.idHandler.get(n,!0)},set:t.idHandler.set};else{var e=l(),m=f({idGenerator:e,stateHandler:g});n=m}var b=t.reporter;b||(b=h(!1===b));var _=a(t,"batchProcessor",p({reporter:b})),w={};w.callOnAdd=!!a(t,"callOnAdd",!0),w.debug=!!a(t,"debug",!1);var x,S=u(n),T=c({stateHandler:g}),C=a(t,"strategy","object"),E={reporter:b,batchProcessor:_,stateHandler:g,idHandler:n};if("scroll"===C&&(d.isLegacyOpera()?(b.warn("Scroll strategy is not supported on legacy Opera. Changing to object strategy."),C="object"):d.isIE(9)&&(b.warn("Scroll strategy is not supported on IE9. Changing to object strategy."),C="object")),"scroll"===C)x=y(E);else{if("object"!==C)throw new Error("Invalid strategy name: "+C);x=v(E)}var N={};return{listenTo:function(t,e,c){function u(t){var n=S.get(t);s(n,(function(n){n(t)}))}function l(t,n,e){S.add(n,e),t&&e(n)}if(c||(c=e,e=t,t={}),!e)throw new Error("At least one element required.");if(!c)throw new Error("Listener required.");if(o(e))e=[e];else{if(!r(e))return b.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");e=i(e)}var f=0,h=a(t,"callOnAdd",w.callOnAdd),d=a(t,"onReady",(function(){})),p=a(t,"debug",w.debug);s(e,(function(t){g.getState(t)||(g.initState(t),n.set(t));var r=n.get(t);return p&&b.log("Attaching listener to element",r,t),T.isDetectable(t)?(p&&b.log(r,"Already detecable, adding listener."),l(h,t,c),void f++):(p&&b.log(r,"Not detectable."),T.isBusy(t)?(p&&b.log(r,"System busy making it detectable"),l(h,t,c),N[r]=N[r]||[],void N[r].push((function(){++f===e.length&&d()}))):(p&&b.log(r,"Making detectable..."),T.markBusy(t,!0),x.makeDetectable({debug:p},t,(function(t){if(p&&b.log(r,"onElementDetectable"),g.getState(t)){T.markAsDetectable(t),T.markBusy(t,!1),x.addListener(t,u),l(h,t,c);var n=g.getState(t);if(n&&n.startSize){var i=t.offsetWidth,o=t.offsetHeight;(n.startSize.width!==i||n.startSize.height!==o)&&u(t)}N[r]&&s(N[r],(function(t){t()}))}else p&&b.log(r,"Element uninstalled before being detectable.");delete N[r],++f===e.length&&d()}))))})),f===e.length&&d()},removeListener:S.removeListener,removeAllListeners:S.removeAllListeners,uninstall:function(t){if(!t)return b.error("At least one element is required.");if(o(t))t=[t];else{if(!r(t))return b.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");t=i(t)}s(t,(function(t){S.removeAllListeners(t),x.uninstall(t),g.cleanState(t)}))}}}},function(t,n){"use strict";n.a=function(){return!1}},function(t,n,e){"use strict";(function(t){var r=e(0),i="object"==typeof exports&&exports&&!exports.nodeType&&exports,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=o&&o.exports===i?r.a.Buffer:void 0,s=a?a.allocUnsafe:void 0;n.a=function(t,n){if(n)return t.slice();var e=t.length,r=s?s(e):new t.constructor(e);return t.copy(r),r}}).call(this,e(47)(t))},function(t){function n(t,n,e){t.self===t?t.scrollTo(n,e):(t.scrollLeft=n,t.scrollTop=e)}function e(t,n){var e,r,i,o,a,s,l,f=t.align,h=t.target.getBoundingClientRect(),d=f&&null!=f.left?f.left:.5,p=f&&null!=f.top?f.top:.5,g=f&&null!=f.leftOffset?f.leftOffset:0,v=f&&null!=f.topOffset?f.topOffset:0,y=d,m=p;if(t.isWindow(n))s=u(h.width,n.innerWidth),l=u(h.height,n.innerHeight),r=h.left+n.pageXOffset-n.innerWidth*y+s*y,i=h.top+n.pageYOffset-n.innerHeight*m+l*m,i-=v,o=(r-=g)-n.pageXOffset,a=i-n.pageYOffset;else{s=h.width,l=h.height,e=n.getBoundingClientRect();var b=h.left-(e.left-n.scrollLeft),_=h.top-(e.top-n.scrollTop);r=b+s*y-n.clientWidth*y,i=_+l*m-n.clientHeight*m,r=c(u(r,n.scrollWidth-n.clientWidth),0),i=c(u(i,n.scrollHeight-n.clientHeight),0),i-=v,o=(r-=g)-n.scrollLeft,a=i-n.scrollTop}return{x:r,y:i,differenceX:o,differenceY:a}}function r(t){var i=t._scrollSettings;if(i){var o=i.maxSynchronousAlignments,a=e(i,t),s=Date.now()-i.startTime,c=u(1/i.time*s,1);if(i.endIterations>=o)return n(t,a.x,a.y),t._scrollSettings=null,i.end(l);var f=1-i.ease(c);return n(t,a.x-a.differenceX*f,a.y-a.differenceY*f),s>=i.time?(i.endIterations++,r(t)):void function(t){"requestAnimationFrame"in window?window.requestAnimationFrame(t):setTimeout(t,16)}(r.bind(null,t))}}function i(t){return t.self===t}function o(t,n,e,o){function a(t){n._scrollSettings=null,n.parentElement&&n.parentElement._scrollSettings&&n.parentElement._scrollSettings.end(t),o(t),s&&(n.removeEventListener("touchstart",s,h),n.removeEventListener("wheel",s,h))}var s,c=!n._scrollSettings,u=n._scrollSettings,l=Date.now(),h={passive:!0};u&&u.end(f);var d=e.maxSynchronousAlignments;null==d&&(d=3),n._scrollSettings={startTime:u?u.startTime:Date.now(),endIterations:0,target:t,time:e.time+(u?l-u.startTime:0),ease:e.ease,align:e.align,isWindow:e.isWindow||i,maxSynchronousAlignments:d,end:a},(!("cancellable"in e)||e.cancellable)&&(s=a.bind(null,f),n.addEventListener("touchstart",s,h),n.addEventListener("wheel",s,h)),c&&r(n)}function a(t){return"pageXOffset"in t||(t.scrollHeight!==t.clientHeight||t.scrollWidth!==t.clientWidth)&&"hidden"!==getComputedStyle(t).overflow}function s(){return!0}var c=Math.max,u=Math.min,l="complete",f="canceled";t.exports=function(t,n,e){function r(t){!--c&&e&&e(t)}if(t){"function"==typeof n&&(e=n,n=null),n||(n={}),n.time=isNaN(n.time)?1e3:n.time,n.ease=n.ease||function(t){return 1-Math.pow(1-t,t/2)};for(var i=t.parentElement,c=1,u=n.validTarget||s,f=n.isScrollable;i;){if(u(i,c)&&(f?f(i,a):a(i))&&(c++,o(t,i,n,r)),!(i=i.parentElement)){r(l);break}"BODY"===i.tagName&&(i=(i=i.ownerDocument).defaultView||i.ownerWindow)}}}},function(t){var n=Math.max;!function(n,e){t.exports=e()}(0,(function(){"use strict";function t(t){for(var n=t.length,e=[],r=0;r<n;r+=1)e.push(t[r]);return e}function e(n,e){return void 0===e&&(e=document),"string"==typeof n?t(e.querySelectorAll(n)):n instanceof Element?t([n]):n instanceof NodeList?t(n):n instanceof Array?n:[]}function r(t){return"scrollama__debug-offset--"+t.id}function i(t){var n=t.id,e=t.offsetVal,i=t.stepClass,o=document.createElement("div");o.setAttribute("id",r({id:n})),o.setAttribute("class","scrollama__debug-offset"),o.style.position="fixed",o.style.left="0",o.style.width="100%",o.style.height="0px",o.style.borderTop="2px dashed black",o.style.zIndex="9999";var a=document.createElement("p");a.innerText='".'+i+'" trigger: '+e,a.style.fontSize="12px",a.style.fontFamily="monospace",a.style.color="black",a.style.margin="0",a.style.padding="6px",o.appendChild(a),document.body.appendChild(o)}function o(t){i({id:t.id,offsetVal:t.offsetVal,stepClass:t.stepEl[0].getAttribute("class")})}function a(t){var n=t.id,e=t.offsetMargin,i=(t.offsetVal,r({id:n}));document.querySelector("#"+i).style.top=e+"px"}function s(t){var n=t.id,e=(t.stepOffsetHeight,t.offsetMargin);t.offsetVal;a({id:n,offsetMargin:e})}function c(t){var n=t.id,e=t.index,r=t.state,i=function(t){return"scrollama__debug-step--"+t.id+"-"+t.i}({id:n,i:e}),o=document.querySelector("#"+i+"_above"),a=document.querySelector("#"+i+"_below"),s="enter"===r?"block":"none";o&&(o.style.display=s),a&&(a.style.display=s)}return function(){function t(t){return t.getBoundingClientRect().top+window.pageYOffset-(document.body.clientTop||0)}function r(t){return+t.getAttribute("data-scrollama-index")}function i(){window.pageYOffset>D?V="down":window.pageYOffset<D&&(V="up"),D=window.pageYOffset}function a(t){C[t]&&C[t].forEach((function(t){return t.disconnect()}))}function u(){L=window.innerHeight,F=function(){var t=document.body,e=document.documentElement;return n(t.scrollHeight,t.offsetHeight,e.clientHeight,e.scrollHeight,e.offsetHeight)}(),j=O*L,M&&(A=N.map((function(t){return t.getBoundingClientRect().height})),k=N.map(t),R&&w()),H&&s({id:E,stepOffsetHeight:A,offsetMargin:j,offsetVal:O})}function l(t){if(t&&!R){if(!M)return console.error("scrollama error: enable() called before scroller was ready"),void(R=!1);w()}!t&&R&&S.forEach(a),R=t}function f(t,n){var e=r(t);void 0!==n&&(I[e].progress=n);var i={element:t,index:e,progress:I[e].progress};"enter"===I[e].state&&T.stepProgress(i)}function h(t,n){if("above"===n)for(var e,r=0;r<t;r++)"enter"!==(e=I[r]).state&&"down"!==e.direction?(d(N[r],"down",!1),p(N[r],"down")):"enter"===e.state&&p(N[r],"down");else if("below"===n)for(var i,o=I.length-1;o>t;o--)"enter"===(i=I[o]).state&&p(N[o],"up"),"down"===i.direction&&(d(N[o],"up",!1),p(N[o],"up"))}function d(t,n,e){void 0===e&&(e=!0);var i=r(t);I[i].direction=n,I[i].state="enter",U&&e&&"down"===n&&h(i,"above"),U&&e&&"up"===n&&h(i,"below"),T.stepEnter&&!W[i]&&(T.stepEnter({element:t,index:i,direction:n},I),H&&c({id:E,index:i,state:"enter"}),B&&(W[i]=!0)),z&&f(t)}function p(t,n){var e=r(t);z&&("down"===n&&1>I[e].progress?f(t,1):"up"==n&&0<I[e].progress&&f(t,0)),I[e].direction=n,I[e].state="exit",T.stepExit({element:t,index:e,direction:n},I),H&&c({id:E,index:e,state:"exit"})}function g(t){var n=t[0];i();var e=n.isIntersecting,o=n.boundingClientRect,a=n.target,s=o.top,c=o.bottom,u=s-j,l=c-j,f=r(a),h=I[f];e&&0>=u&&0<=l&&"down"==V&&"enter"!==h.state&&d(a,V),!e&&0<u&&"up"==V&&"enter"===h.state&&p(a,V)}function v(t){var n=t[0];i();var e=n.isIntersecting,o=n.boundingClientRect,a=n.target,s=o.top,c=o.bottom,u=s-j,l=c-j,f=r(a),h=I[f];e&&0>=u&&0<=l&&"up"==V&&"enter"!==h.state&&d(a,V),!e&&0>l&&"down"==V&&"enter"===h.state&&p(a,V)}function y(t){var n=t[0];i();var e=n.isIntersecting,o=n.target,a=r(o),s=I[a];e&&"down"==V&&"down"!==s.direction&&"enter"!==s.state&&(d(o,"down"),p(o,"down"))}function m(t){var n=t[0];i();var e=n.isIntersecting,o=n.target,a=r(o),s=I[a];e&&"up"==V&&"down"===s.direction&&"enter"!==s.state&&(d(o,"up"),p(o,"up"))}function b(t){var n=t[0];i();var e=n.isIntersecting,r=n.intersectionRatio,o=n.boundingClientRect,a=n.target,s=o.bottom;e&&0<=s-j&&f(a,+r.toFixed(3))}function _(){C.stepProgress=N.map((function(t,n){var e=A[n]-j,r=-L+j,i=function(t){for(var n=Math.ceil(t/P),e=[],r=0;r<n;r++)e.push(r*(1/n));return e}(A[n]),o=new IntersectionObserver(b,{rootMargin:e+"px 0px "+r+"px 0px",threshold:i});return o.observe(t),o}))}function w(){S.forEach(a),C.viewportAbove=N.map((function(t,n){var e=F-k[n],r=j-L-A[n],i=new IntersectionObserver(y,{rootMargin:e+"px 0px "+r+"px 0px"});return i.observe(t),i})),C.viewportBelow=N.map((function(t,n){var e=-j-A[n],r=j-L+A[n]+F,i=new IntersectionObserver(m,{rootMargin:e+"px 0px "+r+"px 0px"});return i.observe(t),i})),C.stepAbove=N.map((function(t,n){var e=-j+A[n],r=new IntersectionObserver(g,{rootMargin:e+"px 0px "+(j-L)+"px 0px"});return r.observe(t),r})),C.stepBelow=N.map((function(t,n){var e=-j,r=j-L+A[n],i=new IntersectionObserver(v,{rootMargin:e+"px 0px "+r+"px 0px"});return i.observe(t),i})),z&&_()}function x(){H&&o({id:E,stepEl:N,offsetVal:O})}var S=["stepAbove","stepBelow","stepProgress","viewportAbove","viewportBelow"],T={stepEnter:function(){},stepExit:function(){},stepProgress:function(){}},C={},E=null,N=[],A=[],k=[],I=[],O=0,j=0,L=0,F=0,D=0,P=0,M=!1,R=!1,H=!1,z=!1,U=!1,B=!1,V="down",W=[],G={};return G.setup=function(t){var r=t.step,i=t.offset;void 0===i&&(i=.5);var o=t.progress;void 0===o&&(o=!1);var a=t.threshold;void 0===a&&(a=4);var s=t.debug;void 0===s&&(s=!1);var c=t.order;void 0===c&&(c=!0);var l=t.once;return void 0===l&&(l=!1),E=function(){var t="abcdefghijklmnopqrstuv",n=t.length,e=Date.now();return""+[0,0,0].map((function(){return t[Math.floor(Math.random()*n)]})).join("")+e}(),(N=e(r)).length?(H=s,z=o,U=c,B=l,G.offsetTrigger(i),P=n(1,+a),M=!0,x(),N.forEach((function(t,n){return t.setAttribute("data-scrollama-index",n)})),I=N.map((function(){return{direction:null,state:null,progress:0}})),u(),G.enable(),G):(console.error("scrollama error: no step elements"),G)},G.resize=function(){return u(),G},G.enable=function(){return l(!0),G},G.disable=function(){return l(!1),G},G.destroy=function(){l(!1),Object.keys(T).forEach((function(t){return T[t]=null})),Object.keys(C).forEach((function(t){return C[t]=null}))},G.offsetTrigger=function(t){return t&&!isNaN(t)?(1<t&&console.error("scrollama error: offset value is greater than 1. Fallbacks to 1."),0>t&&console.error("scrollama error: offset value is lower than 0. Fallbacks to 0."),O=Math.min(n(0,t),1),G):(isNaN(t)&&console.error("scrollama error: offset value is not a number. Fallbacks to 0."),O)},G.onStepEnter=function(t){return"function"==typeof t?T.stepEnter=t:console.error("scrollama error: onStepEnter requires a function"),G},G.onStepExit=function(t){return"function"==typeof t?T.stepExit=t:console.error("scrollama error: onStepExit requires a function"),G},G.onStepProgress=function(t){return"function"==typeof t?T.stepProgress=t:console.error("scrollama error: onStepProgress requires a function"),G},G}}))},function(t,n,e){t.exports=e(152)},function(){},function(t,n,e){t.exports=e(29)("native-function-to-string",Function.toString)},function(t){t.exports=function(t,n,e,r){if(!(t instanceof n)||void 0!==r&&r in t)throw TypeError(e+": incorrect invocation!");return t}},function(t,n,e){var r=e(14),i=e(59),o=e(60),a=e(3),s=e(17),c=e(61),u={},l={};(n=t.exports=function(t,n,e,f,h){var d,p,g,v,y=h?function(){return t}:c(t),m=r(e,f,n?2:1),b=0;if("function"!=typeof y)throw TypeError(t+" is not iterable!");if(o(y)){for(d=s(t.length);d>b;b++)if((v=n?m(a(p=t[b])[0],p[1]):m(t[b]))===u||v===l)return v}else for(g=y.call(t);!(p=g.next()).done;)if((v=i(g,m,p.value,n))===u||v===l)return v}).BREAK=u,n.RETURN=l},function(t){t.exports=function(t,n,e){var r=void 0===e;switch(n.length){case 0:return r?t():t.call(e);case 1:return r?t(n[0]):t.call(e,n[0]);case 2:return r?t(n[0],n[1]):t.call(e,n[0],n[1]);case 3:return r?t(n[0],n[1],n[2]):t.call(e,n[0],n[1],n[2]);case 4:return r?t(n[0],n[1],n[2],n[3]):t.call(e,n[0],n[1],n[2],n[3])}return t.apply(e,n)}},function(t,n,e){var r=e(2),i=e(63).set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,c="process"==e(15)(a);t.exports=function(){var t,n,e,u=function(){var r,i;for(c&&(r=a.domain)&&r.exit();t;){i=t.fn,t=t.next;try{i()}catch(i){throw t?e():n=void 0,i}}n=void 0,r&&r.enter()};if(c)e=function(){a.nextTick(u)};else if(!o||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var l=s.resolve(void 0);e=function(){l.then(u)}}else e=function(){i.call(r,u)};else{var f=!0,h=document.createTextNode("");new o(u).observe(h,{characterData:!0}),e=function(){h.data=f=!f}}return function(r){var i={fn:r,next:void 0};n&&(n.next=i),t||(t=i,e()),n=i}}},function(t){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,n,e){var r=e(2).navigator;t.exports=r&&r.userAgent||""},function(t,n,e){var r=e(3),i=e(7),o=e(65);t.exports=function(t,n){if(r(t),i(n)&&n.constructor===t)return n;var e=o.f(t);return(0,e.resolve)(n),e.promise}},function(t,n,e){var r=e(10);t.exports=function(t,n,e){for(var i in n)r(t,i,n[i],e);return t}},function(t,n,e){"use strict";var r=e(2),i=e(6),o=e(8),a=e(1)("species");t.exports=function(t){var n=r[t];o&&n&&!n[a]&&i.f(n,a,{configurable:!0,get:function(){return this}})}},function(t,n,e){"use strict";var r=e(5),i=e(106)(6),o="findIndex",a=!0;o in[]&&[,][o]((function(){a=!1})),r(r.P+r.F*a,"Array",{findIndex:function(t){return i(this,t,1<arguments.length?arguments[1]:void 0)}}),e(40)(o)},function(t,n,e){var r=e(14),i=e(69),o=e(25),a=e(17),s=e(107);t.exports=function(t,n){var e=1==t,c=4==t,u=6==t,l=n||s;return function(n,s,f){for(var h,d,p=o(n),g=i(p),v=r(s,f,3),y=a(g.length),m=0,b=e?l(n,y):2==t?l(n,0):void 0;y>m;m++)if((5==t||u||m in g)&&(d=v(h=g[m],m,p),t))if(e)b[m]=d;else if(d)switch(t){case 3:return!0;case 5:return h;case 6:return m;case 2:b.push(h)}else if(c)return!1;return u?-1:3==t||c?c:b}}},function(t,n,e){var r=e(108);t.exports=function(t,n){return new(r(t))(n)}},function(t,n,e){var r=e(7),i=e(70),o=e(1)("species");t.exports=function(t){var n;return i(t)&&("function"==typeof(n=t.constructor)&&(n===Array||i(n.prototype))&&(n=void 0),r(n)&&(null===(n=n[o])&&(n=void 0))),void 0===n?Array:n}},function(t){"use strict";t.exports=function(t){var n=t.stateHandler.getState;return{isDetectable:function(t){var e=n(t);return e&&!!e.isDetectable},markAsDetectable:function(t){n(t).isDetectable=!0},isBusy:function(t){return!!n(t).busy},markBusy:function(t,e){n(t).busy=!!e}}}},function(t){"use strict";t.exports=function(t){function n(n){var r=t.get(n);return void 0===r?[]:e[r]||[]}var e={};return{get:n,add:function(n,r){var i=t.get(n);e[i]||(e[i]=[]),e[i].push(r)},removeListener:function(t,e){for(var r=n(t),i=0,o=r.length;i<o;++i)if(r[i]===e){r.splice(i,1);break}},removeAllListeners:function(t){var e=n(t);e&&(e.length=0)}}}},function(t){"use strict";t.exports=function(){var t=1;return{generate:function(){return t++}}}},function(t){"use strict";t.exports=function(t){var n=t.idGenerator,e=t.stateHandler.getState;return{get:function(t){var n=e(t);return n&&void 0!==n.id?n.id:null},set:function(t){var r=e(t);if(!r)throw new Error("setId required the element to have a resize detection state.");var i=n.generate();return r.id=i,i}}}},function(t){"use strict";t.exports=function(t){function n(){}var e={log:n,warn:n,error:n};if(!t&&window.console){var r=function(t,n){t[n]=function(){var t=console[n];if(t.apply)t.apply(console,arguments);else for(var e=0;e<arguments.length;e++)t(arguments[e])}};r(e,"log"),r(e,"warn"),r(e,"error")}return e}},function(t,n,e){"use strict";function r(){var t={},n=0,e=0,r=0;return{add:function(i,o){o||(o=i,i=0),i>e?e=i:i<r&&(r=i),t[i]||(t[i]=[]),t[i].push(o),n++},process:function(){for(var n,i=r;i<=e;i++){n=t[i];for(var o=0;o<n.length;o++)(0,n[o])()}},size:function(){return n}}}var i=e(115);t.exports=function(t){function n(){for(l=!0;u.size();){var t=u;u=r(),t.process()}l=!1}function e(){c=function(t){return function(t){return setTimeout(t,0)}(t)}(n)}var o=(t=t||{}).reporter,a=i.getOption(t,"async",!0),s=i.getOption(t,"auto",!0);s&&!a&&(o&&o.warn("Invalid options combination. auto=true and async=false is invalid. Setting async=true."),a=!0);var c,u=r(),l=!1;return{add:function(t,n){!l&&s&&a&&0===u.size()&&e(),u.add(t,n)},force:function(t){l||(void 0===t&&(t=a),c&&(function(t){clearTimeout(t)}(c),c=null),t?e():n())}}}},function(t){"use strict";(t.exports={}).getOption=function(t,n,e){var r=t[n];return null==r&&void 0!==e?e:r}},function(t){"use strict";function n(t){return t[e]}var e="_erd";t.exports={initState:function(t){return t[e]={},n(t)},getState:n,cleanState:function(t){delete t[e]}}},function(t,n,e){"use strict";var r=e(72);t.exports=function(t){function n(t){return o(t).object}var e=(t=t||{}).reporter,i=t.batchProcessor,o=t.stateHandler.getState;if(!e)throw new Error("Missing required dependency: reporter.");return{makeDetectable:function(t,n,a){a||(a=n,n=t,t=null),(t=t||{}).debug,r.isIE(8)?a(n):function(t,n){function a(){function i(){if("static"===u.position){t.style.position="relative";var n=function(t,n,e,r){var i=e[r];"auto"!==i&&"0"!==function(t){return t.replace(/[^-\d\.]/g,"")}(i)&&(t.warn("An element that is positioned static has style."+r+"="+i+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+r+" will be set to 0. Element: ",n),n.style[r]=0)};n(e,t,u,"top"),n(e,t,u,"right"),n(e,t,u,"bottom"),n(e,t,u,"left")}}""!==u.position&&(i(),c=!0);var a=document.createElement("object");a.style.cssText=s,a.tabIndex=-1,a.type="text/html",a.setAttribute("aria-hidden","true"),a.onload=function(){c||i(),function t(n,e){return n.contentDocument?void e(n.contentDocument):void setTimeout((function(){t(n,e)}),100)}(this,(function(){n(t)}))},r.isIE()||(a.data="about:blank"),t.appendChild(a),o(t).object=a,r.isIE()&&(a.data="about:blank")}var s="display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: none; padding: 0; margin: 0; opacity: 0; z-index: -1000; pointer-events: none;",c=!1,u=window.getComputedStyle(t),l=t.offsetWidth,f=t.offsetHeight;o(t).startSize={width:l,height:f},i?i.add(a):a()}(n,a)},addListener:function(t,e){function i(){e(t)}if(!n(t))throw new Error("Element is not detectable by this strategy.");r.isIE(8)?(o(t).object={proxy:i},t.attachEvent("onresize",i)):n(t).contentDocument.defaultView.addEventListener("resize",i)},uninstall:function(t){r.isIE(8)?t.detachEvent("onresize",o(t).object.proxy):t.removeChild(n(t)),delete o(t).object}}}},function(t,n,e){"use strict";var r=e(71).forEach;t.exports=function(t){function n(t,n,e){if(t.addEventListener)t.addEventListener(n,e);else{if(!t.attachEvent)return a.error("[scroll] Don't know how to add event listeners.");t.attachEvent("on"+n,e)}}function e(t,n,e){if(t.removeEventListener)t.removeEventListener(n,e);else{if(!t.detachEvent)return a.error("[scroll] Don't know how to remove event listeners.");t.detachEvent("on"+n,e)}}function i(t){return c(t).container.childNodes[0].childNodes[0].childNodes[0]}function o(t){return c(t).container.childNodes[0].childNodes[0].childNodes[1]}var a=(t=t||{}).reporter,s=t.batchProcessor,c=t.stateHandler.getState,u=(t.stateHandler.hasState,t.idHandler);if(!s)throw new Error("Missing required dependency: batchProcessor");if(!a)throw new Error("Missing required dependency: reporter.");var l=function(){var t=500,n=500,e=document.createElement("div");e.style.cssText="position: absolute; width: 1000px; height: 1000px; visibility: hidden; margin: 0; padding: 0;";var r=document.createElement("div");r.style.cssText="position: absolute; width: 500px; height: 500px; overflow: scroll; visibility: none; top: -1500px; left: -1500px; visibility: hidden; margin: 0; padding: 0;",r.appendChild(e),document.body.insertBefore(r,document.body.firstChild);var i=t-r.clientWidth,o=n-r.clientHeight;return document.body.removeChild(r),{width:i,height:o}}(),f="erd_scroll_detection_container";return function(t,n){if(!document.getElementById(t)){var e=n+"_animation",r="/* Created by the element-resize-detector library. */\n";r+="."+n+" > div::-webkit-scrollbar { display: none; }\n\n",r+="."+n+"_animation_active { -webkit-animation-duration: 0.1s; animation-duration: 0.1s; -webkit-animation-name: "+e+"; animation-name: "+e+"; }\n",r+="@-webkit-keyframes "+e+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }\n",function(n,e){e=e||function(t){document.head.appendChild(t)};var r=document.createElement("style");r.innerHTML=n,r.id=t,e(r)}(r+="@keyframes "+e+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }")}}("erd_scroll_detection_scrollbar_style",f),{makeDetectable:function(t,e,h){function d(){if(t.debug){var n=Array.prototype.slice.call(arguments);if(n.unshift(u.get(e),"Scroll: "),a.log.apply)a.log.apply(null,n);else for(var r=0;r<n.length;r++)a.log(n[r])}}function p(t){var n=c(t).container.childNodes[0],e=window.getComputedStyle(n);return!e.width||-1===e.width.indexOf("px")}function g(){var t=window.getComputedStyle(e),n={};return n.position=t.position,n.width=e.offsetWidth,n.height=e.offsetHeight,n.top=t.top,n.right=t.right,n.bottom=t.bottom,n.left=t.left,n.widthCSS=t.width,n.heightCSS=t.height,n}function v(){if(d("storeStyle invoked."),c(e)){var t=g();c(e).style=t}else d("Aborting because element has been uninstalled")}function y(t,n,e){c(t).lastWidth=n,c(t).lastHeight=e}function m(t){return i(t).childNodes[0]}function b(){return 2*l.width+1}function _(){return 2*l.height+1}function w(t){return t+10+b()}function x(t){return t+10+_()}function S(t,n,e){var r=i(t),a=o(t),s=w(n),c=x(e),u=function(t){return 2*t+b()}(n),l=function(t){return 2*t+_()}(e);r.scrollLeft=s,r.scrollTop=c,a.scrollLeft=u,a.scrollTop=l}function T(){var t=c(e).container;if(!t){(t=document.createElement("div")).className=f,t.style.cssText="visibility: hidden; display: inline; width: 0px; height: 0px; z-index: -1; overflow: hidden; margin: 0; padding: 0;",c(e).container=t,function(t){t.className+=" "+f+"_animation_active"}(t),e.appendChild(t);var r=function(){c(e).onRendered&&c(e).onRendered()};n(t,"animationstart",r),c(e).onAnimationStart=r}return t}function C(){function t(){c(e).onExpand&&c(e).onExpand()}function r(){c(e).onShrink&&c(e).onShrink()}if(d("Injecting elements"),c(e)){!function(){var t=c(e).style;if("static"===t.position){e.style.position="relative";var n=function(t,n,e,r){var i=e[r];"auto"!==i&&"0"!==function(t){return t.replace(/[^-\d\.]/g,"")}(i)&&(t.warn("An element that is positioned static has style."+r+"="+i+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+r+" will be set to 0. Element: ",n),n.style[r]=0)};n(a,e,t,"top"),n(a,e,t,"right"),n(a,e,t,"bottom"),n(a,e,t,"left")}}();var i=c(e).container;i||(i=T());var o=l.width,s=l.height,u="position: absolute; flex: none; overflow: hidden; z-index: -1; visibility: hidden; "+function(t,n,e,r){return"left: "+(t=t?t+"px":"0")+"; top: "+(n=n?n+"px":"0")+"; right: "+(r=r?r+"px":"0")+"; bottom: "+(e=e?e+"px":"0")+";"}(-(1+o),-(1+s),-s,-o),h=document.createElement("div"),p=document.createElement("div"),g=document.createElement("div"),v=document.createElement("div"),y=document.createElement("div"),m=document.createElement("div");h.dir="ltr",h.style.cssText="position: absolute; flex: none; overflow: hidden; z-index: -1; visibility: hidden; width: 100%; height: 100%; left: 0px; top: 0px;",h.className=f,p.className=f,p.style.cssText=u,g.style.cssText="position: absolute; flex: none; overflow: scroll; z-index: -1; visibility: hidden; width: 100%; height: 100%;",v.style.cssText="position: absolute; left: 0; top: 0;",y.style.cssText="position: absolute; flex: none; overflow: scroll; z-index: -1; visibility: hidden; width: 100%; height: 100%;",m.style.cssText="position: absolute; width: 200%; height: 200%;",g.appendChild(v),y.appendChild(m),p.appendChild(g),p.appendChild(y),h.appendChild(p),i.appendChild(h),n(g,"scroll",t),n(y,"scroll",r),c(e).onExpandScroll=t,c(e).onShrinkScroll=r}else d("Aborting because element has been uninstalled")}function E(){function n(t,n,e){var r=m(t),i=w(n),o=x(e);r.style.width=i+"px",r.style.height=o+"px"}function l(r){var i=e.offsetWidth,o=e.offsetHeight;d("Storing current size",i,o),y(e,i,o),s.add(0,(function(){if(c(e))if(f()){if(t.debug){var r=e.offsetWidth,s=e.offsetHeight;(r!==i||s!==o)&&a.warn(u.get(e),"Scroll: Size changed before updating detector elements.")}n(e,i,o)}else d("Aborting because element container has not been initialized");else d("Aborting because element has been uninstalled")})),s.add(1,(function(){return c(e)?f()?void S(e,i,o):void d("Aborting because element container has not been initialized"):void d("Aborting because element has been uninstalled")})),r&&s.add(2,(function(){return c(e)?f()?void r():void d("Aborting because element container has not been initialized"):void d("Aborting because element has been uninstalled")}))}function f(){return!!c(e).container}function h(){d("notifyListenersIfNeeded invoked");var t=c(e);return void 0===c(e).lastNotifiedWidth&&t.lastWidth===t.startSize.width&&t.lastHeight===t.startSize.height?d("Not notifying: Size is the same as the start size, and there has been no notification yet."):t.lastWidth===t.lastNotifiedWidth&&t.lastHeight===t.lastNotifiedHeight?d("Not notifying: Size already notified"):(d("Current size not notified, notifying..."),t.lastNotifiedWidth=t.lastWidth,t.lastNotifiedHeight=t.lastHeight,void r(c(e).listeners,(function(t){t(e)})))}function g(){if(d("Scroll detected."),p(e))d("Scroll event fired while unrendered. Ignoring...");else{var t=e.offsetWidth,n=e.offsetHeight;t!==c(e).lastWidth||n!==c(e).lastHeight?(d("Element size changed."),l(h)):d("Element size has not changed ("+t+"x"+n+").")}}if(d("registerListenersAndPositionElements invoked."),c(e)){c(e).onRendered=function(){if(d("startanimation triggered."),p(e))d("Ignoring since element is still unrendered...");else{d("Element rendered.");var t=i(e),n=o(e);(0===t.scrollLeft||0===t.scrollTop||0===n.scrollLeft||0===n.scrollTop)&&(d("Scrollbars out of sync. Updating detector elements..."),l(h))}},c(e).onExpand=g,c(e).onShrink=g;var v=c(e).style;n(e,v.width,v.height)}else d("Aborting because element has been uninstalled")}function N(){if(d("finalizeDomMutation invoked."),c(e)){var t=c(e).style;y(e,t.width,t.height),S(e,t.width,t.height)}else d("Aborting because element has been uninstalled")}function A(){h(e)}function k(){d("Installing..."),c(e).listeners=[],function(){var t=g();c(e).startSize={width:t.width,height:t.height},d("Element start size",c(e).startSize)}(),s.add(0,v),s.add(1,C),s.add(2,E),s.add(3,N),s.add(4,A)}h||(h=e,e=t,t=null),t=t||{},d("Making detectable..."),function(t){return!function(t){return t===t.ownerDocument.body||t.ownerDocument.body.contains(t)}(t)||null===window.getComputedStyle(t)}(e)?(d("Element is detached"),T(),d("Waiting until element is attached..."),c(e).onRendered=function(){d("Element is now attached"),k()}):k()},addListener:function(t,n){if(!c(t).listeners.push)throw new Error("Cannot add listener to an element that is not detectable.");c(t).listeners.push(n)},uninstall:function(t){var n=c(t);n&&(n.onExpandScroll&&e(i(t),"scroll",n.onExpandScroll),n.onShrinkScroll&&e(o(t),"scroll",n.onShrinkScroll),n.onAnimationStart&&e(n.container,"animationstart",n.onAnimationStart),n.container&&t.removeChild(n.container))}}}},function(t,n,e){"use strict";var r=e(3),i=e(25),o=e(17),a=e(31),s=e(42),c=e(43),u=Math.max,l=Math.min,f=Math.floor,h=/\$([$&`']|\d\d?|<[^>]*>)/g,d=/\$([$&`']|\d\d?)/g,p=function(t){return void 0===t?t:t+""};e(44)("replace",2,(function(t,n,e,g){function v(t,n,r,o,a,s){var c=r+t.length,u=o.length,l=d;return void 0!==a&&(a=i(a),l=h),e.call(s,l,(function(e,i){var s;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return n.slice(0,r);case"'":return n.slice(c);case"<":s=a[i.slice(1,-1)];break;default:var l=+i;if(0==l)return e;if(l>u){var h=f(l/10);return 0===h?e:h<=u?void 0===o[h-1]?i.charAt(1):o[h-1]+i.charAt(1):e}s=o[l-1]}return void 0===s?"":s}))}return[function(r,i){var o=t(this),a=null==r?void 0:r[n];return void 0===a?e.call(o+"",r,i):a.call(r,o,i)},function(t,n){var i=g(e,t,this,n);if(i.done)return i.value;var f=r(t),h=this+"",d="function"==typeof n;d||(n+="");var y=f.global;if(y){var m=f.unicode;f.lastIndex=0}for(var b,_=[];null!==(b=c(f,h))&&(_.push(b),y);){""==b[0]+""&&(f.lastIndex=s(h,o(f.lastIndex),m))}for(var w="",x=0,S=0;S<_.length;S++){for(var T=(b=_[S])[0]+"",C=u(l(a(b.index),h.length),0),E=[],N=1;N<b.length;N++)E.push(p(b[N]));var A=b.groups;if(d){var k=[T].concat(E,C,h);void 0!==A&&k.push(A);var I=n.apply(void 0,k)+""}else I=v(T,h,C,E,A,n);C>=x&&(w+=h.slice(x,C)+I,x=C+T.length)}return w+h.slice(x)}]}))},function(t,n,e){"use strict";var r=e(45);e(5)({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},function(t){t.exports=function(t,n){return{value:n,done:!!t}}},function(t,n,e){"use strict";var r=e(48),i=e(23),o=e(32),a={};e(12)(a,e(1)("iterator"),(function(){return this})),t.exports=function(t,n,e){t.prototype=r(a,{next:i(1,e)}),o(t,n+" Iterator")}},function(t,n,e){var r=e(6),i=e(3),o=e(26);t.exports=e(8)?Object.defineProperties:function(t,n){i(t);for(var e,a=o(n),s=a.length,c=0;s>c;)r.f(t,e=a[c++],n[e]);return t}},function(t,n,e){var r=e(31),i=Math.max,o=Math.min;t.exports=function(t,n){return 0>(t=r(t))?i(t+n,0):o(t,n)}},function(t,n,e){var r=e(13),i=e(25),o=e(49)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,n,e){e(8)&&"g"!=/./g.flags&&e(6).f(RegExp.prototype,"flags",{configurable:!0,get:e(46)})},function(t,n,e){var r=e(22)("meta"),i=e(7),o=e(13),a=e(6).f,s=0,c=Object.isExtensible||function(){return!0},u=!e(9)((function(){return c(Object.preventExtensions({}))})),l=function(t){a(t,r,{value:{i:"O"+ ++s,w:{}}})},f=t.exports={KEY:r,NEED:!1,fastKey:function(t,n){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,r)){if(!c(t))return"F";if(!n)return"E";l(t)}return t[r].i},getWeak:function(t,n){if(!o(t,r)){if(!c(t))return!0;if(!n)return!1;l(t)}return t[r].w},onFreeze:function(t){return u&&f.NEED&&c(t)&&!o(t,r)&&l(t),t}}},function(t,n,e){var r=e(26),i=e(54),o=e(55);t.exports=function(t){var n=r(t),e=i.f;if(e)for(var a,s=e(t),c=o.f,u=0;s.length>u;)c.call(t,a=s[u++])&&n.push(a);return n}},function(t,n,e){var r=e(19),i=e(35).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?function(t){try{return i(t)}catch(t){return a.slice()}}(t):i(r(t))}},function(t,n,e){var r=e(7),i=e(131).set;t.exports=function(t,n,e){var o,a=n.constructor;return a!==e&&"function"==typeof a&&(o=a.prototype)!==e.prototype&&r(o)&&i&&i(t,o),t}},function(t,n,e){var r=e(7),i=e(3),o=function(t,n){if(i(t),!r(n)&&null!==n)throw TypeError(n+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,n,r){try{(r=e(14)(Function.call,e(36).f(Object.prototype,"__proto__").set,2))(t,[]),n=!(t instanceof Array)}catch(t){n=!0}return function(t,e){return o(t,e),n?t.__proto__=e:r(t,e),t}}({},!1):void 0),check:o}},function(t,n,e){var r=e(5),i=e(20),o=e(9),a=e(133),s="["+a+"]",c=RegExp("^"+s+s+"*"),u=RegExp(s+s+"*$"),l=function(t,n,e){var i={},s=o((function(){return!!a[t]()||"âÂ"!="âÂ"[t]()})),c=i[t]=s?n(f):a[t];e&&(i[e]=c),r(r.P+r.F*s,"String",i)},f=l.trim=function(t,n){return t=i(t)+"",1&n&&(t=t.replace(c,"")),2&n&&(t=t.replace(u,"")),t};t.exports=l},function(t){t.exports="\t\n\v\f\r Â áá ââââââââââââ¯âã\u2028\u2029\ufeff"},function(){var t=Math.max,n=Math.min;!function(){"use strict";function e(t){this.time=t.time,this.target=t.target,this.rootBounds=t.rootBounds,this.boundingClientRect=t.boundingClientRect,this.intersectionRect=t.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0},this.isIntersecting=!!t.intersectionRect;var n=this.boundingClientRect,e=n.width*n.height,r=this.intersectionRect,i=r.width*r.height;this.intersectionRatio=e?+(i/e).toFixed(4):this.isIntersecting?1:0}function r(t,n){var e=n||{};if("function"!=typeof t)throw new Error("callback must be a function");if(e.root&&1!=e.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=function(t,n){var e=null;return function(){e||(e=setTimeout((function(){t(),e=null}),n))}}(this._checkForIntersections.bind(this),this.THROTTLE_TIMEOUT),this._callback=t,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(e.rootMargin),this.thresholds=this._initThresholds(e.threshold),this.root=e.root||null,this.rootMargin=this._rootMarginValues.map((function(t){return t.value+t.unit})).join(" ")}function i(t,n,e,r){"function"==typeof t.addEventListener?t.addEventListener(n,e,r||!1):"function"==typeof t.attachEvent&&t.attachEvent("on"+n,e)}function o(t,n,e,r){"function"==typeof t.removeEventListener?t.removeEventListener(n,e,r||!1):"function"==typeof t.detatchEvent&&t.detatchEvent("on"+n,e)}function a(e,r){var i=t(e.top,r.top),o=n(e.bottom,r.bottom),a=t(e.left,r.left),s=n(e.right,r.right),c=s-a,u=o-i;return 0<=c&&0<=u&&{top:i,bottom:o,left:a,right:s,width:c,height:u}}function s(t){var n;try{n=t.getBoundingClientRect()}catch(t){}return n?(n.width&&n.height||(n={top:n.top,right:n.right,bottom:n.bottom,left:n.left,width:n.right-n.left,height:n.bottom-n.top}),n):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function c(t,n){for(var e=n;e;){if(e==t)return!0;e=u(e)}return!1}function u(t){var n=t.parentNode;return n&&11==n.nodeType&&n.host?n.host:n&&n.assignedSlot?n.assignedSlot.parentNode:n}if("object"==typeof window){if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)return void("isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return 0<this.intersectionRatio}}));var l=window.document,f=[];r.prototype.THROTTLE_TIMEOUT=100,r.prototype.POLL_INTERVAL=null,r.prototype.USE_MUTATION_OBSERVER=!0,r.prototype.observe=function(t){if(!this._observationTargets.some((function(n){return n.element==t}))){if(!t||1!=t.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:t,entry:null}),this._monitorIntersections(),this._checkForIntersections()}},r.prototype.unobserve=function(t){this._observationTargets=this._observationTargets.filter((function(n){return n.element!=t})),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},r.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},r.prototype.takeRecords=function(){var t=this._queuedEntries.slice();return this._queuedEntries=[],t},r.prototype._initThresholds=function(t){var n=t||[0];return Array.isArray(n)||(n=[n]),n.sort().filter((function(t,n,e){if("number"!=typeof t||isNaN(t)||0>t||1<t)throw new Error("threshold must be a number between 0 and 1 inclusively");return t!==e[n-1]}))},r.prototype._parseRootMargin=function(t){var n=(t||"0px").split(/\s+/).map((function(t){var n=/^(-?\d*\.?\d+)(px|%)$/.exec(t);if(!n)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(n[1]),unit:n[2]}}));return n[1]=n[1]||n[0],n[2]=n[2]||n[0],n[3]=n[3]||n[1],n},r.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(i(window,"resize",this._checkForIntersections,!0),i(l,"scroll",this._checkForIntersections,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in window&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(l,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},r.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,o(window,"resize",this._checkForIntersections,!0),o(l,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},r.prototype._checkForIntersections=function(){var t=this._rootIsInDom(),n=t?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach((function(r){var i=r.element,o=s(i),a=this._rootContainsTarget(i),c=r.entry,u=t&&a&&this._computeTargetAndRootIntersection(i,n),l=r.entry=new e({time:window.performance&&performance.now&&performance.now(),target:i,boundingClientRect:o,rootBounds:n,intersectionRect:u});c?t&&a?this._hasCrossedThreshold(c,l)&&this._queuedEntries.push(l):c&&c.isIntersecting&&this._queuedEntries.push(l):this._queuedEntries.push(l)}),this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},r.prototype._computeTargetAndRootIntersection=function(t,n){if("none"!=window.getComputedStyle(t).display){for(var e=s(t),r=u(t),i=!1;!i;){var o=null,c=1==r.nodeType?window.getComputedStyle(r):{};if("none"==c.display)return;if(r==this.root||r==l?(i=!0,o=n):r!=l.body&&r!=l.documentElement&&"visible"!=c.overflow&&(o=s(r)),o&&!(e=a(o,e)))break;r=u(r)}return e}},r.prototype._getRootRect=function(){var t;if(this.root)t=s(this.root);else{var n=l.documentElement,e=l.body;t={top:0,left:0,right:n.clientWidth||e.clientWidth,width:n.clientWidth||e.clientWidth,bottom:n.clientHeight||e.clientHeight,height:n.clientHeight||e.clientHeight}}return this._expandRectByRootMargin(t)},r.prototype._expandRectByRootMargin=function(t){var n=this._rootMarginValues.map((function(n,e){return"px"==n.unit?n.value:n.value*(e%2?t.width:t.height)/100})),e={top:t.top-n[0],right:t.right+n[1],bottom:t.bottom+n[2],left:t.left-n[3]};return e.width=e.right-e.left,e.height=e.bottom-e.top,e},r.prototype._hasCrossedThreshold=function(t,n){var e=t&&t.isIntersecting?t.intersectionRatio||0:-1,r=n.isIntersecting?n.intersectionRatio||0:-1;if(e!==r)for(var i,o=0;o<this.thresholds.length;o++)if((i=this.thresholds[o])==e||i==r||i<e!=i<r)return!0},r.prototype._rootIsInDom=function(){return!this.root||c(l,this.root)},r.prototype._rootContainsTarget=function(t){return c(this.root||l,t)},r.prototype._registerInstance=function(){0>f.indexOf(this)&&f.push(this)},r.prototype._unregisterInstance=function(){var t=f.indexOf(this);-1!=t&&f.splice(t,1)},window.IntersectionObserver=r,window.IntersectionObserverEntry=e}}()},function(t){t.exports=[["narrationId","narrationClass","marginTopVh","marginBottomVh","minHeightVh","h2Text","paragraphText","hRef","hRefText","trigger","graphTitle","graphCaption"],["introStart","intro","40","40","50","So you want to build a scrollytelling data story?","","","",'{\n\t"svgFileName": "slide1"\n}',"",""],["","intro","40","40","50","And <strong>animate</strong> your charts as you <strong>narrate</strong> the story with scrolling text?","","","",'{\n\t"svgFileName": "slide2"\n}',"",""],["","intro","40","40","50","But you don't want to write a lot of HTML boilerplate...","","","",'{\n\t"svgFileName": "slide3"\n}',"",""],["","intro","40","40","50","ScrollyTeller can help you put it all together!","","","",'{\n\t"svgFileName": "slide4"\n}',"",""],["","intro","40","40","50","How does it work?",'ScrollyTeller uses a JavaScript configuration object (<pre style="display: inline-block;"><code>{ ... }</code></pre>) to define data resources like <strong>chart data</strong> and <strong>text narration</strong>, and builds the HTML layout of the page.<br><br>The configuration also defines functions to <strong>pre-process data</strong>, <strong>build your chart</strong> and <strong>event handlers</strong> to respond to scrolling and resize events.',"","",'{\n\t"svgFileName": "slide5"\n}',"",""]]},function(){},function(t,n,e){t.exports=e.p+"images/slide1.svg"},function(t,n,e){t.exports=e.p+"images/slide2.svg"},function(t,n,e){t.exports=e.p+"images/slide3.svg"},function(t,n,e){t.exports=e.p+"images/slide4.svg"},function(t,n,e){t.exports=e.p+"images/slide5.svg"},function(t,n,e){var r=e(35),i=e(54),o=e(3),a=e(2).Reflect;t.exports=a&&a.ownKeys||function(t){var n=r.f(o(t)),e=i.f;return e?n.concat(e(t)):n}},function(t,n,e){var r=e(5),i=e(16),o=e(9);t.exports=function(t,n){var e=(i.Object||{})[t]||Object[t],a={};a[t]=n(e),r(r.S+r.F*o((function(){e(1)})),"Object",a)}},function(t,n,e){"use strict";var r=e(5),i=e(77)(!0);r(r.P,"Array",{includes:function(t){return i(this,t,1<arguments.length?arguments[1]:void 0)}}),e(40)("includes")},function(t,n,e){"use strict";var r=e(5),i=e(146),o="includes";r(r.P+r.F*e(147)(o),"String",{includes:function(t){return!!~i(this,t,o).indexOf(t,1<arguments.length?arguments[1]:void 0)}})},function(t,n,e){var r=e(84),i=e(20);t.exports=function(t,n,e){if(r(n))throw TypeError("String#"+e+" doesn't accept regex!");return i(t)+""}},function(t,n,e){var r=e(1)("match");t.exports=function(t){var n=/./;try{"/./"[t](n)}catch(e){try{return n[r]=!1,!"/./"[t](n)}catch(t){}}return!0}},function(){},function(t){t.exports=[["narrationId","narrationClass","marginTopVh","marginBottomVh","minHeightVh","h2Text","paragraphText","hRef","hRefText","trigger","graphTitle","graphCaption"],["","intro","40","40","50","Building a data story with ScrollyTeller",'To demonstrate ScrollyTeller\'s functionality we\'ll implement a simple data story using Hans Rosling\'s famous "Wealth and Health of Nations" animated bubble plot.<br><br>This data is from <a style="display: inline;" target="blank" href="https://www.gapminder.org/">gapminder.org,</a> and the chart was modified from <a  style="display: inline;" href="https://robisateam.github.io/courses/d3-course/" target="blank">this excellent d3 tutorial.</a>',"","",'{\n\t"containerStyle": {\n\t\t"opacity": 1\n\t},\n\t"year": 1950\n}',"The Wealth and Health of Nations",'See Hans Rosling\'s excellent summary video on this chart (with updated data) <a href="https://www.gapminder.org/answers/how-does-income-relate-to-life-expectancy/" target=blank>here.</a>'],["","intro","40","40","50","The chart",'We\'ll assume that you can create your own chart that can respond to changes with <strong>render()</strong> or <strong>update()</strong> functions.<br><br>For example, this chart component has a constructor function that creates the chart, <br><pre class="prettyprint lang-js">new WealthAndHealthOfNations({ data })</pre><br>and a render function that updates the chart with data for the specified year,<br><pre class="prettyprint lang-js">render({ year })</pre>',"","",'{\n\t"snippet": null\n}',"The Wealth and Health of Nations",'See Hans Rosling\'s excellent summary video on this chart (with updated data) <a href="https://www.gapminder.org/answers/how-does-income-relate-to-life-expectancy/" target=blank>here.</a>'],["","intro","40","40","50","The final result","Eventually, we'll want to animate this chart to tell an exciting story, so here's what we're going for: triggering some chart actions based on scroll events or scroll progress.<br><br>(if you're using the spacebar/arrow keys, scroll through this to see the chart smoothly update)","","",'{\n\t"year": null,\n\t"yearDomain": [1950, 2008],\n\t"svgFileName": null,\n\t"snippet": null\n}',"The Wealth and Health of Nations",'See Hans Rosling\'s excellent summary video on this chart (with updated data) <a href="https://www.gapminder.org/answers/how-does-income-relate-to-life-expectancy/" target=blank>here.</a>'],["storyConfigStart","storyConfig","40","40","50","Configuring ScrollyTeller","Let's look at how we can use ScrollyTeller configuration to create a chart-based data story like this.","","",'{\n\t"containerStyle": {\n\t\t"opacity": 1\n\t},\n\t"svgFileName": "slide5",\n\t"snippet": null,\n\t"yearDomain": null,\n\t"snippet": null,\n\t"highlight":  null\n}',"",""],["","storyConfig","40","40","50","Configuring ScrollyTeller","The code snippet to the right shows the JavaScript configuration object that specifies how the data story is constructed.","","",'{\n\t"containerStyle": {\n\t\t"opacity": 1\n\t},\n\t"svgFileName": null,\n\t"snippet": "scrollyTellerConfig",\n\t"highlight":  "4"\n}',"",""],["","storyConfig","40","40","50","Configuring ScrollyTeller","This sample data story has 2 different 'sections':  'intro' and 'wealthAndHealth'.<br><br>Each section contains a configuration object that encapsulates narration (the scrolling text boxes that narrate the story), data, graph rendering code, and event handling code to trigger graph events when narration scrolls into view.","","",'{\n\t"containerStyle": {\n\t\t"opacity": 1\n\t},\n\t"snippet": "scrollyTellerConfig",\n\t"highlight":  "1,2"\n}',"",""],["","storyConfig","40","40","50","App Container Id","The <strong>storyConfig</strong> object contains two properties: 1) an <strong>appContainerId</strong>, which defines the <strong>div</strong> id to render the scrolling content into, and . . .","","",'{\n\t"containerStyle": {\n\t\t"opacity": 1\n\t},\n\t"snippet": "scrollyTellerConfig",\n\t"highlight": "5"\n}',"",""],["","storyConfig","40","40","50","Section List","2) a <strong>sectionList</strong> object that contains configurations for each of the different sections.","","",'{\n\t"containerStyle": {\n\t\t"opacity": 1\n\t},\n\t"snippet": "scrollyTellerConfig",\n\t"highlight": "7,8,9,10,11"\n}',"",""],["","storyConfig","40","40","50","Rendering the story","To build the HTML for the story, we create a ScrollyTeller instance and call the render() function to create the DOM elements.","","",'{\n\t"containerStyle": {\n\t\t"opacity": 1\n\t},\n\t"snippet": "scrollyTellerConfig",\n\t"highlight": "13,14,15"\n}',"",""],["sectionConfigStart","sectionConfig","40","40","50","Section Configuration","Next, we'll look at how we define the <strong>wealthAndHealth</strong> object defined on line 2 and included in the story's <strong>sectionList</strong>.","","",'{\n\t"containerStyle": {\n\t\t"opacity": 1\n\t},\n\t"snippet": "scrollyTellerConfig",\n\t"highlight": null,\n\t"highlight": "2,9"\n}',"",""],["","sectionConfig","40","40","50","Section configuration","This code snippet expands the wealthAndHealth section configuration from the previous story rendering code.","","",'{\n\t"containerStyle": {\n\t\t"opacity": 1\n\t},\n\t"snippet": "sectionConfigSummary",\n\t"highlight": "1"\n}',"",""],["","sectionConfig","40","40","50","Section Configuration",'The section config object must contain a unique <strong>sectionIdentifier</strong> (string), which is useful for creating css selectors and uniquely identifying each section.<br><br>For example, ScrollyTeller builds this section within: &lt;div id="<strong>section_wealthAndHealth</strong> /&gt;, and our graph will be contained within: &lt;div id="<strong>graph_wealthAndHealth</strong>" /&gt;.',"","",'{\n\t"containerStyle": {\n\t\t"opacity": 1\n\t},\n\t"snippet": "sectionConfigSummary",\n\t"highlight": "2"\n}',"",""],["","sectionConfig","40","40","50","Section Configuration","The section config object also contains:<br><br>1) <strong>Data Paths/Promises</strong> for the narration and graph-specific data,<br><br>2) <strong>Initial render functions</strong> called upon ScrollyTeller.render(), and<br><br>3) <strong>Event based functions</strong> that respond to scroll and resize events.","","",'{\n\t"containerStyle": {\n\t\t"opacity": 1\n\t},\n\t"snippet": "sectionConfigSummary",\n\t"highlight": "4,8,12"\n}',"",""],["fetchNarrationStart","fetchNarration","40","40","50","Fetch & Render","Let's walk through what happens when ScrollyTeller.render() is called for our Wealth and Health of Nations story.  The same process occurs for each section in the data story.","","",'{\n\t"containerStyle": {\n\t\t"opacity": 1\n\t},\n\t"snippet": "sectionConfigSummary",\n\t"highlight": "4,8"\n}',"",""],["","fetchNarration","40","40","50","Fetch & Render: Narration",'First, ScrollyTeller asynchronously fetches the contents of <strong>narration.csv</strong>, which contains the scrollng text that "narrates" the story.<br><br>Narration is immediately rendered to create a "stack" of <strong>narration blocks</strong> containing text that the user can scroll through.',"","",'{\n\t"containerStyle": {\n\t\t"opacity": 1\n\t},\n\t"snippet": "sectionConfigFlow",\n\t"highlight": "2,3,4,5,6"\n}',"",""],["","fetchNarration","40","40","80","Narration Blocks","Each <strong>narration block</strong> contains several DOM elements derived from 1 row of a csv file or other tabular data format.<br><br>The part of the narration table structure that defines the <strong>narration block</strong> DOM elements is shown to the right. <strong>Each column maps to a part of the DOM</strong> as follows...","","",'{\n\t"containerStyle": {\n\t\t"opacity": 1\n\t},\n            "svgFileName": null,\n\t"snippet": "narrationTableHTML"\n}',"",""],["outline","fetchNarration","40","40","80","h2Text -> Title","paragraphText -> Summary","http://link.com","hRefText -> linked text",'{\n\t"containerStyle": {\n\t\t"opacity": 1\n\t},\n            "svgFileName": null,\n\t"snippet": "narrationTableHTML"\n}',"",""],["","fetchNarration","40","40","80","Customizing text","Both <strong>h2Text</strong> and <strong>paragraphText</strong> can contain HTML, so you can customize these two fields with links and other formatting.<br><br>However, keep in mind that any HTML will be rendered inside the corresponding <strong>&lt;h2&gt;</strong> and <strong>&lt;p&gt;</strong> tags.","","",'{\n\t"containerStyle": {\n\t\t"opacity": 1\n\t},\n            "svgFileName": null,\n\t"snippet": "narrationTableHTML"\n}',"",""],["","fetchNarration","40","40","80","Narration Properties","Several other properties customize the behavior of each narration block:<br><br><strong>narrationId</strong> adds a unique <strong>&lt;div&gt; id</strong> to the narration block,<br><br><strong>narrationClass</strong> adds a class to the narration block, and <br><br><strong>graphTitle</strong> and <strong>graphCaption</strong> add titles/captions above and below the graph.","","",'{\n\t"containerStyle": {\n\t\t"opacity": 1\n\t},\n            "svgFileName": null,\n\t"snippet": "narrationRestHTML"\n}',"",""],["","fetchNarration","40","40","80","Narration Sizing",'<strong>marginTopVh</strong> and <strong>marginBottomVh</strong> control the amount of space above and below the narration <strong>&lt;div&gt; id</strong>, which controls scroll "velocity".  <strong>minHeightVh</strong> controls the total height of the narration block and its margins, which can be used in conjunction or as a replacement for the previous two properties.<br><br><em>Although all three properties are specified in vh (viewport height) units, ScrollyTeller dynamically converts these values to pixels to prevent various issues with viewport heights and scrolling.</em>',"","",'{\n\t"containerStyle": {\n\t\t"opacity": 1\n\t},\n            "svgFileName": null,\n\t"snippet": "narrationSizingHTML"\n}',"",""],["","fetchNarration","40","40","80","Narration <strong>triggers</strong>","Each table row also contains a <strong>trigger</strong> column that can contain any valid JSON string.<br><br>The JSON is converted to a JavaScript object and passed to event handler functions to allow the chart to respond when each narration scrolls into view and become <strong>active</strong>.<br><br>We'll revisit this more in a later section. First lets see how to fetch data and render the graph.","","",'{\n\t"containerStyle": {\n\t\t"opacity": 1\n\t},\n            "svgFileName": null,\n\t"snippet": "narrationTriggerHTML"\n}',"",""],["fetchDataStart","fetchData","40","40","50","Fetch & Render: Graph Data","While fetching narration, ScrollyTeller also fetches the contents of <strong>wealthAndHealthData.json</strong> for the graph.<br><br>Graph data can be one of:<br>1) a path to any file format readable by d3-fetch (csv, json, tsv, xml, html),<br>2) an array of data, or<br>3) a Promise, which can resolve to return any format you choose.","","",'{\n\t"containerStyle": {\n\t\t"opacity": 1\n\t},\n\t"snippet": "sectionConfigFlow",\n\t"highlight": "8"\n}',"",""],["","fetchData","40","40","50","Fetch & Render: Reshaping data","The graph-specific data is passed to <strong>reshapeDataFunction()</strong>, which can perfom operations like converting strings to numbers, computing data ranges, etc.","","",'{\n\t"containerStyle": {\n\t\t"opacity": 1\n\t},\n\t"snippet": "sectionConfigFlow",\n\t"highlight": "8,9,10,11,12"\n}',"",""],["","fetchData","40","40","50","Reshape Data Function","Let's look in more depth at the <strong>reshapeDataFunction()</strong>.","","",'{\n\t"containerStyle": {\n\t\t"opacity": 1\n\t},\n\t"snippet": "sectionConfigFlow",\n\t"highlight": "11,12,13,14"\n}',"",""],["","fetchData","40","40","50","Reshape Data Function","Once the DOM elements exist, <strong>reshapeDataFunction()</strong> is passed the results of the data fetch (<strong>rawData</strong>). (If you specified the <strong>data</strong> property as a Promise, the <strong>rawData</strong> argment will contain whatever your Promise resolves to.)<br><br>In the code example here, <strong>we compute min and max values for the data ranges</strong> to pass to our graph component.","","",'{\n\t"containerStyle": {\n\t\t"opacity": 1\n\t},\n\t"snippet": "sectionConfigReshapeDemoData",\n\t"highlight": "2,3,4"\n}',"",""],["","fetchData","40","40","50","Reshape Data","Notice that we return the results of the data as an object with some useful properties. This result is attached to a <strong>sectionConfig.data</strong> property that is passed to subsequent functions for easy access.<br><br>Next, we'll look at building the graph.","","",'{\n\t"containerStyle": {\n\t\t"opacity": 1\n\t},\n\t"snippet": "sectionConfigReshapeDemoData",\n\t"highlight": "10,11,12,13,14,15,16"\n}',"",""],["renderGraphStart","renderGraph","40","40","50","Fetch & Render: Graph construction","The data returned from <strong>reshapeDataFunction()</strong> is then passed to <strong>buildGraphFunction()</strong>, which builds the chart or charts for the section.","","",'{\n\t"containerStyle": {\n\t\t"opacity": 1\n\t},\n\t"snippet": "sectionConfigFlow",\n\t"highlight": "13,14,15,16"\n}',"",""],["","renderGraph","40","40","50","Building the Chart","In the code snippet, <strong>buildGraphFunction</strong> receives <strong>graphId</strong> and <strong>sectionConfig</strong> arguments.<br><br><strong>graphId</strong> is the id of the div to target to build the graph.<br><br><strong>sectionConfig</strong> is an object containing a variety of props, but most importantly, the <strong>data</strong> prop, which is the return value of <strong>reshapeDataFunction</strong>.","","",'{\n\t"containerStyle": {\n\t\t"opacity": 1\n\t},\n\t"snippet": "sectionConfigBuildGraph",\n\t"highlight": "3"\n}',"",""],["","renderGraph","40","40","50","Building the Chart","Next, we use some object destructuring (ES6 fanciness) to get data props from <strong>sectionConfig.data</strong>. Notice that we're using <strong>dataArray</strong>, which was computed in <strong>reshapeDataFunction()</strong> and returned as a property (<strong>sectionConfig.data.dataArray</strong>)","","",'{\n\t"containerStyle": {\n\t\t"opacity": 1\n\t},\n\t"snippet": "sectionConfigBuildGraph",\n\t"highlight": "4,5,6,7"\n}',"",""],["","renderGraph","40","40","50","Building the Chart","Finally, we build our chart component with the data.  Here we gloss over the details and just create an instance of a custom component called <strong>WealthAndHealthOfNations</strong>, which takes a css selector to target the <strong>graphId</strong> div and builds the graph using the data and properties we calculated in <strong>reshapeDataFunction()</strong>.","","",'{\t\n            "year": 1950,\n            "yearDomain": null,\n\t"containerStyle": {\n\t\t"opacity": 1\n\t},\n\t"snippet": "sectionConfigBuildGraph",\n\t"highlight": "9,10,11,12,13,14"\n}',"",""],["","renderGraph","40","40","50","The rendered chart","At this point, the basic structure of the DOM should be rendered, along with the chart that we created.","","",'{\n\t"year": 1950,\n\t"containerStyle": {\n\t\t"opacity": 1\n\t},\n\t"snippet": null,\n\t"highlight": null,\n\t"svgFileName": null\n}',"",""],["","renderGraph","40","40","50","Building the Chart","<strong>Remember to return the graph instance!</strong>","","",'{\n\t"year": 1950,\n\t"containerStyle": {\n\t\t"opacity": 1\n\t},\n\t"snippet": "sectionConfigBuildGraph",\n\t"highlight": "16,17",\n\t"svgFileName": null\n}',"",""],["","renderGraph","40","40","50","Building the Chart"," The return value of <strong>buildGraphFunction</strong> is available as <strong>sectionConfig.graph</strong> when passed to each of the event handlers:<br><br><strong>onActivateNarrationFunction()</strong>,<br><strong>onScrollFunction()</strong>, and<br><strong>onResizeFunction()</strong>,<br><br>which are discussed in the next section.","","",'{\n\t"containerStyle": {\n\t\t"opacity": 1\n\t},\n\t"snippet": "sectionConfigFlow",\n\t"highlight": "17,18,19,20,21",\n\t"svgFileName": null\n}',"",""],["eventHandlersStart","eventHandlers","40","40","50","Triggering narration events","Now let's look at how to trigger events in the chart when narration scrolls into view.","","",'{\n\t"year": 1950,\n\t"containerStyle": {\n\t\t"opacity": 1\n\t},\n\t"snippet": null,\n\t"highlight": null,\n\t"svgFileName": "slide2"\n}',"",""],["","eventHandlers","40","40","50","Triggering narration events","Recall that event handlers are are found in the section configuration, and are only available after <strong> buildGraphFunction()</strong> has been called.","","",'{\n\t"containerStyle": {\n\t\t"opacity": 1\n\t},\n\t"snippet": "sectionConfigSummary",\n\t"highlight": null,\n\t"highlight": "12,13,14,15",\n\t"svgFileName": null\n}',"",""],["","eventHandlers","40","40","50","Trigger example: 1950","Let's imagine we want to advance the chart year from the default value of 1950 to 2008.","","",'{\n\t"year": 1950,\n\t"containerStyle": {\n\t\t"opacity": 1\n\t},\n\t"snippet": null,\n\t"highlight": "",\n\t"svgFileName": null\n}',"",""],["","eventHandlers","40","40","50","Trigger example: 2008","This is the result we're expecting.","","",'{\n\t"year": 2008,\n\t"containerStyle": {\n\t\t"opacity": 1\n\t},\n\t"snippet": null,\n\t"highlight": "",\n\t"svgFileName": null\n}',"",""],["","eventHandlers","40","40","50","Narration <strong>triggers</strong>","To change the graph's year, we'll use the custom JSON trigger that we added to the <strong>trigger</strong> column of the narration file (remember that each row represents a block of narration text).","","",'{\n\t"year": 1990,\n\t"containerStyle": {\n\t\t"opacity": 1\n\t},\n\t"snippet": "narrationTriggerHTML",\n\t"highlight": "",\n\t"svgFileName": null\n}',"",""],["","eventHandlers","40","40","50","onActivateNarrationFunction",'ScrollyTeller uses the excellent JavaScript library <a href="https://github.com/russellgoldenberg/scrollama" target=_blank style="display: inline-block; padding: 0;">Scrollama</a> to detect when each narration block intersects the midle of the page an becomes active. When the narration block becomes active, <strong>onActivateNarrationFunction()</strong> receives:<br><br>an object with <strong>sectionConfig.graph</strong>, which is the graph that we returned from <strong>buildGraphFunction</strong><br><br>and a <strong>state</strong> object with the <strong>state.year</strong> property from the trigger JSON.',"","",'{\n\t"year": 2008,\n\t"containerStyle": {\n\t\t"opacity": 1\n\t},\n\t"snippet": "onActivateNarrationExample",\n\t"highlight": "4,5,6,8,9",\n\t"svgFileName": null\n}',"",""],["","eventHandlers","40","40","50","onActivateNarrationFunction","To render, we simply check for a valid <strong>chart</strong> and <strong>year</strong>, and pass the current year to the <strong>WealthAndHealthOfNations</strong> graph, which handles the rest.","","",'{\n\t"year": 2008,\n\t"containerStyle": {\n\t\t"opacity": 1\n\t},\n\t"snippet": "onActivateNarrationExample",\n\t"highlight": "11,12,13",\n\t"svgFileName": null\n}',"",""],["","eventHandlers","40","40","50","Trigger to state conversion","ScrollyTeller manages the <strong>state</strong> of each narration block by <em>deep merging all preceding <strong>trigger</strong> objects</em>.<br><br>Thus, unchanged <strong>state</strong> properties do not need to be re-defined in each <strong>trigger</strong>, and properties can override preceding properties with the same name.","","",'{\n\t"year": 2008,\n\t"containerStyle": {\n\t\t"opacity": 1\n\t},\n\t"snippet": "triggerToStateHTML",\n\t"highlight": "",\n\t"svgFileName": null\n}',"",""],["","eventHandlers","40","40","100","Smoothly handling progress","We can also continuously handle scroll progress with the <strong>onScrollFunction()</strong>, which allows us to smoothly transition across years. Let's look at one way to do that.","","",'{\n   "year": null,\n   "yearDomain": [1950, 1999],\n     "snippet": null\n}',"The Wealth and Health of Nations",""],["","eventHandlers","40","40","50","Interpolating years with progress","The <strong>onScroll</strong> function receives a <strong>progress</strong> property that varies from 0 -> 1 as the user scrolls through each narration block.","","",'{\n   "yearDomain": null,\n   "highlight": "4",\n     "snippet": "onScrollExample"\n}',"",""],["","eventHandlers","40","40","50","Interpolating years with progress",'To define the boundaries (the domain) of the years to scroll through, we\'ll create a new trigger property called <strong>yearDomain</strong> that will be an array of start/end years.<br><br><pre class="trigger">{\n             "yearDomain": [1950, 1999],\n             "year": null\n}</pre>',"","",'{\n   "yearDomain": null,\n   "highlight": "6",\n     "snippet": "onScrollExample"\n}',"",""],["","eventHandlers","40","40","50","Interpolating years with progress",'Notice that we have separate properties that are handled by different functions: <strong>year</strong> is only handled by <strong>onActivateNarrationFunction</strong>, and <strong>yearDomain</strong> is only handled by the <strong>onScrollFunction</strong>.  Both event handlers are structured in such a way that their specific property only triggers a graph update when the value is <strong>non-null</strong>, so we can be sure that only one event handler operates in a given narration block at a time.<br><br><pre class="trigger">{\n             "yearDomain": [1950, 1999],\n             "year": null\n}</pre>',"","",'{\n   "yearDomain": null,\n   "highlight": "8",\n     "snippet": "onScrollExample"\n}',"",""],["","eventHandlers","40","40","40","Interpolating years with progress","Interpolating between years is relatively simple. Here we've used <strong>d3.js</strong>'s <strong>interpolate</strong> function to convert the progress (0 to 1) to a year between 1950 and 1999.","","",'{\n   "yearDomain": null,\n   "highlight": "9,10,11,12",\n     "snippet": "onScrollExample"\n}',"",""],["","eventHandlers","40","40","40","onResizeFunction",'The <strong>onResizeFunction</strong> is the final event handler in each section, and is triggered when EITHER the window resizes OR when the graph container resizes (using the excellent <a href="https://www.npmjs.com/package/element-resize-detector" target=_blank style="display: inline-block; padding: 0;">Element Resize Detector</a> library). Graph container resizes can occur for various reasons, so check to make sure that the resize function isn\'t being called more often than you would expect.',"","",'{\n     "snippet": "sectionConfigSummary",\n     "highlight": "15"\n}',"",""],["","eventHandlers","50","50","80","Go Forth and Scroll!","Now you should have most of the tools you need to build your own data story! Please see the rest of the ScrollyTeller documentation for more details, or keep scrolling for some more useful information about custom trigger properties that you can use to add graph titles, captions, and styling. ","https://stash.ihme.washington.edu/projects/VIZ/repos/scrolly-teller/browse","Here's a link to the scrolly-teller repo",'{\n   "year": null,\n   "yearDomain": [1950, 2008],\n     "containerStyle": {\n\t\t"opacity": "calc(1 - $progress)"\n\t},\n\t"snippet": null\n}',"The Wealth and Health of Nations",""]]},function(t){t.exports=[["narrationId","narrationClass","marginTopVh","marginBottomVh","minHeightVh","h2Text","paragraphText","hRef","hRefText","trigger","imageUrl","graphTitle","graphCaption","imageUrl"],["builtInTriggersStart","builtInTriggers","40","40","80","Built in Triggers","This section outlines some custom triggers you can use to modify the graph and change graph styles.","","",'{\n\t"containerStyle": {\n\t\t"opacity": 0\n\t}\n}',"","","",""],["","builtInTriggers","40","40","80","Graph Container","Let's look at the DOM structure of the graph area. To the right (or wherever your CSS places it) is a graph area consisting of a container div (class=graph_container), which is shown in the dashed outline.","","",'{\n\t"containerStyle": {\n\t\t"opacity": 1\n\t},\n\t"containerClass": "dashed",\n\t"graphStyle": {\n\t\t"opacity": 0\n\t}\n}',"","","",""],["","builtInTriggers","40","40","80","Graph","And a graph div (class=graph_default), shown by the solid box.","","",'{\n\t"containerStyle": {\n\t\t"opacity": 1\n\t},\n\t"containerClass": "dashed",\n\t"graphStyle": {\n\t\t"opacity": 1,\n\t\t"background-color": "lightgray"\n\t}\n}',"","","",""],["","builtInTriggers","40","40","80","Titles and Captions","Titles (class=graph_title) and captions (class=graph_caption) can be optionally added in the container div, and changed per-narration block.","","","{\n}","","This is a title","This is a caption",""],["","builtInTriggers","40","40","80","Triggers","Remember the JSON triggers that we used to change the year values? Similarly, triggers can be used to style the graph and graph elements.","","",'{ "containerClass": null }',"","This is a title","This is a caption",""],["","builtInTriggers","40","40","80","Styling with Triggers",'ScrollyTeller has some built in triggers that can be used to change styles of the the graph_container and its contents.<br><br><pre class="trigger">{\n\t"graphStyle": {\n\t\t"background-color": "purple"\n        }\n}</pre>',"","",'{\n           "containerStyle": {\n                        "background-color": null\n           },\n\t"graphStyle": {\n\t\t"background-color": "purple"\n\t}\n}',"","This is a title","This is a caption",""],["","builtInTriggers","40","40","80","Graph Container Styling",'This trigger uses the <strong>containerStyle</strong> variable to turn the graph container\'s background color to light gray.<br><br><pre class="trigger">{\n\t"containerStyle": {\n\t\t"background-color": "lightgray"\n        }\n}</pre>',"","",'{\n\t"containerStyle": {\n\t\t"background-color": "lightgray",\n\t\t"border": null,\n\t\t"border-width": null,\n\t\t"border-style": null\n\t}\n}',"","This is a title","This is a caption",""],["","builtInTriggers","40","40","80","Graph Container Styling",'Multiple styles can be set in one trigger.<br><br><pre class="trigger">{\n\t"containerStyle": {\n\t\t"background-color": "lightgray",\n\t\t"border": "black",\n\t\t"border-width": "thick",\n\t\t"border-style": "solid"\n\t}\n}</pre>',"","",'{\n\t"containerStyle": {\n\t\t"background-color": "lightgray",\n\t\t"border": "black",\n\t\t"border-width": "thick",\n\t\t"border-style": "solid"\n\t}\n}',"","This is a title","This is a caption",""],["","builtInTriggers","40","40","80","Graph Styling",'The following trigger turns the graph\'s background color (not the graph container) back to transparent.<br><br><pre  class="trigger">{\n  \t"graphStyle": {\n\t\t"background-color": "transparent"\n\t}\n}</pre><br><br>(Note that ALL styles that have previously been set up to a given point in the narration will be applied in sequence up to this narration block, so when we scroll back up, the graph turns back to purple, which was applied in a trigger that was narration blocks above the previous one).',"","",'{\n\t"titleStyle": {\n\t\t"font-size": null,\n\t\t"color": null\n\t},\n\t"graphStyle": {\n\t\t"background-color": "transparent"\n\t}\n}',"","This is a title","This is a caption",""],["","builtInTriggers","40","40","80","Title and Caption Styling",'Titles and captions can be styled using the special trigger keywords <strong>titleStyle</strong> and <strong>captionStyle</strong>.  Here we\'ve changed the title font size and changed the font color to gray using the trigger string <br><br><pre  class="trigger">{\n\t"titleStyle": {\n\t\t"font-size": "2.1rem",\n\t\t"color": "darkgray"\n\t}\n}</pre>',"","",'{\n\t"titleStyle": {\n\t\t"font-size": "2.1rem",\n\t\t"color": "darkgray"\n\t}\n}',"","Title styled by trigger","This is a caption",""],["","builtInTriggers","40","40","80","Classing graph elements",'Classnames can be added to each of the graph container, graph, title and captions using the following trigger pattern: <br><br><pre  class="trigger">{\n\t"containerClass": "myClassName",\n\t"graphClass": "myGraphClassName",\n\t"titleClass": "myTitleClassName",\n\t"captionClass": "myCaptionClassName"\n}</pre><br><br><em>Right-click and inspect the graph element to see the class names being added in your browser\'s dev tools. </em>',"","",'{\n\t"containerClass": "myClassName",\n\t"graphClass": "myGraphClassName",\n\t"titleClass": "myTitleClassName",\n\t"captionClass": "myCaptionClassName"\n}',"","","",""],["","builtInTriggers","40","40","80","Un-setting variables and removing classnames",'Classnames can be removed from the graph container, graph, title and captions by un-setting the variable name in the trigger (set variable to <strong>null</strong>): <br><br><pre  class="trigger">{\n\t"containerClass": null,\n\t"graphClass": null,\n\t"titleClass": null,\n\t"captionClass": null\n}</pre>',"","",'{\n\t"containerClass": null,\n\t"graphClass": null,\n\t"titleClass": null,\n\t"captionClass": null\n}',"","","",""],["","builtInTriggers","40","40","80","Referring to progress in styles",'You can also refer to the current progress using <strong>$progress</strong> in any trigger. To fade in the container with the CSS <strong>opacity</strong> property, we would use a trigger like this:<br><br> <pre  class="trigger">{\n\t"containerStyle": {\n\t\t"opacity": "$progress"\n\t}\n}</pre>',"","",'{\n\t"containerStyle": {\n\t\t"opacity": "$progress"\n\t}\n}',"","","",""],["","builtInTriggers","40","40","80","Referring to progress in styles",'And to fade the container out a scrolling progresses downward, we would use a trigger like this:<br><br> <pre  class="trigger">{\n\t"containerStyle": {\n\t\t"opacity": "calc(1 - $progress)"\n\t}\n}</pre><br><br>(Notice that this special case requires spaces within the calc() function, which is just the CSS calc() function.  $progress is replaced by the current progress value)',"","",'{\n\t"containerStyle": {\n\t\t"opacity": "calc(1 - $progress)"\n\t}\n}',"","","",""],["","builtInTriggers","40","40","50","The End","Good luck with your data story!","","",'{\n\t"containerStyle": {\n\t\t"opacity": 0\n\t}\n}',"","","",""],["","centered-narration","50","0","50","",'Illustrations in this story were modified from <a href="https://undraw.co/illustrations"\n                  target="_blank">unDraw.co</a>. The Wealth and Health of Nations chart was modified from\n                    <a href="https://robisateam.github.io/courses/d3-course/" target="_blank">this\n                        tutorial</a>. ScrollyTeller was created at the\n                    <a href="http://www.healthdata.org/results/data-visualizations">Institute for\n                        Health Metrics and Evaluation</a> and has been used to tell visual stories about\n                    <a href="https://vizhub.healthdata.org/child-mortality">Child Mortality</a> and\n                    Tobacco Control (coming soon).',"","","","","","",""]]},function(){},function(t,n,e){"use strict";function r(t,n,e){var r=(n-t)/Us(0,e),i=Bs(Rs(r)/Ms),o=r/zs(10,i);return 0<=i?(o>=Qs?10:o>=Ks?5:o>=tc?2:1)*zs(10,i):-zs(10,-i)/(o>=Qs?10:o>=Ks?5:o>=tc?2:1)}function i(t,n,e){var r=Ps(n-t)/Us(0,e),i=zs(10,Bs(Rs(r)/Ms)),o=r/i;return o>=Qs?i*=10:o>=Ks?i*=5:o>=tc&&(i*=2),n<t?-i:i}function o(t){return"translate("+(t+.5)+",0)"}function a(t){return"translate(0,"+(t+.5)+")"}function s(t){return function(n){return+t(n)}}function c(t){var n=Us(0,t.bandwidth()-1)/2;return t.round()&&(n=Ds(n)),function(e){return+t(e)+n}}function u(){return!this.__axis}function l(t,n){function e(e){var o=null==i?n.ticks?n.ticks.apply(n,r):n.domain():i,a=null==l?n.tickFormat?n.tickFormat.apply(n,r):ic:l,y=Us(f,0)+d,m=n.range(),b=+m[0]+.5,_=+m[m.length-1]+.5,w=(n.bandwidth?c:s)(n.copy()),x=e.selection?e.selection():e,S=x.selectAll(".domain").data([null]),T=x.selectAll(".tick").data(o,n).order(),C=T.exit(),E=T.enter().append("g").attr("class","tick"),N=T.select("line"),A=T.select("text");S=S.merge(S.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),T=T.merge(E),N=N.merge(E.append("line").attr("stroke","currentColor").attr(g+"2",p*f)),A=A.merge(E.append("text").attr("fill","currentColor").attr(g,p*y).attr("dy",t===oc?"0em":t===sc?"0.71em":"0.32em")),e!==x&&(S=S.transition(e),T=T.transition(e),N=N.transition(e),A=A.transition(e),C=C.transition(e).attr("opacity",uc).attr("transform",(function(t){return isFinite(t=w(t))?v(t):this.getAttribute("transform")})),E.attr("opacity",uc).attr("transform",(function(t){var n=this.parentNode.__axis;return v(n&&isFinite(n=n(t))?n:w(t))}))),C.remove(),S.attr("d",t===cc||t==ac?h?"M"+p*h+","+b+"H0.5V"+_+"H"+p*h:"M0.5,"+b+"V"+_:h?"M"+b+","+p*h+"V0.5H"+_+"V"+p*h:"M"+b+",0.5H"+_),T.attr("opacity",1).attr("transform",(function(t){return v(w(t))})),N.attr(g+"2",p*f),A.attr(g,p*y).text(a),x.filter(u).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===ac?"start":t===cc?"end":"middle"),x.each((function(){this.__axis=w}))}var r=[],i=null,l=null,f=6,h=6,d=3,p=t===oc||t===cc?-1:1,g=t===cc||t===ac?"x":"y",v=t===oc||t===sc?o:a;return e.scale=function(t){return arguments.length?(n=t,e):n},e.ticks=function(){return r=rc.call(arguments),e},e.tickArguments=function(t){return arguments.length?(r=null==t?[]:rc.call(t),e):r.slice()},e.tickValues=function(t){return arguments.length?(i=null==t?null:rc.call(t),e):i&&i.slice()},e.tickFormat=function(t){return arguments.length?(l=t,e):l},e.tickSize=function(t){return arguments.length?(f=h=+t,e):f},e.tickSizeInner=function(t){return arguments.length?(f=+t,e):f},e.tickSizeOuter=function(t){return arguments.length?(h=+t,e):h},e.tickPadding=function(t){return arguments.length?(d=+t,e):d},e}function f(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new h(r)}function h(t){this._=t}function d(t,n){return t.trim().split(/^|\s+/).map((function(t){var e="",r=t.indexOf(".");if(0<=r&&(e=t.slice(r+1),t=t.slice(0,r)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))}function p(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function g(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=lc,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}function v(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===hc&&n.documentElement.namespaceURI===hc?n.createElement(t):n.createElementNS(e,t)}}function y(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function m(){}function b(){return[]}function _(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}function w(t,n,e,r,i,o){for(var a,s=0,c=n.length,u=o.length;s<u;++s)(a=n[s])?(a.__data__=o[s],r[s]=a):e[s]=new _(t,o[s]);for(;s<c;++s)(a=n[s])&&(i[s]=a)}function x(t,n,e,r,i,o,a){var s,c,u,l={},f=n.length,h=o.length,d=Array(f);for(s=0;s<f;++s)(c=n[s])&&(d[s]=u=_c+a.call(c,c.__data__,s,n),u in l?i[s]=c:l[u]=c);for(s=0;s<h;++s)(c=l[u=_c+a.call(t,o[s],s,o)])?(r[s]=c,c.__data__=o[s],l[u]=null):e[s]=new _(t,o[s]);for(s=0;s<f;++s)(c=n[s])&&l[d[s]]===c&&(i[s]=c)}function S(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function T(t){return function(){this.removeAttribute(t)}}function C(t){return function(){this.removeAttributeNS(t.space,t.local)}}function E(t,n){return function(){this.setAttribute(t,n)}}function N(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function A(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function k(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function I(t){return function(){this.style.removeProperty(t)}}function O(t,n,e){return function(){this.style.setProperty(t,n,e)}}function j(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function L(t,n){return t.style.getPropertyValue(n)||wc(t).getComputedStyle(t,null).getPropertyValue(n)}function F(t){return function(){delete this[t]}}function D(t,n){return function(){this[t]=n}}function P(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function M(t){return t.trim().split(/^|\s+/)}function R(t){return t.classList||new H(t)}function H(t){this._node=t,this._names=M(t.getAttribute("class")||"")}function z(t,n){for(var e=R(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function U(t,n){for(var e=R(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function B(t){return function(){z(this,t)}}function V(t){return function(){U(this,t)}}function W(t,n){return function(){(n.apply(this,arguments)?z:U)(this,t)}}function G(){this.textContent=""}function q(t){return function(){this.textContent=t}}function Y(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function $(){this.innerHTML=""}function X(t){return function(){this.innerHTML=t}}function J(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function Z(){this.nextSibling&&this.parentNode.appendChild(this)}function Q(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function K(){return null}function tt(){var t=this.parentNode;t&&t.removeChild(this)}function nt(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function et(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}function rt(t,n,e){return t=it(t,n,e),function(n){var e=n.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||t.call(this,n)}}function it(t,n,e){return function(r){var i=Sc;Sc=r;try{t.call(this,this.__data__,n,e)}finally{Sc=i}}}function ot(t){return t.trim().split(/^|\s+/).map((function(t){var n="",e=t.indexOf(".");return 0<=e&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}}))}function at(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,o=n.length;r<o;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.capture);++i?n.length=i:delete this.__on}}}function st(t,n,e){var r=xc.hasOwnProperty(t.type)?rt:it;return function(i,o,a){var s,c=this.__on,u=r(n,o,a);if(c)for(var l=0,f=c.length;l<f;++l)if((s=c[l]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=u,s.capture=e),void(s.value=n);this.addEventListener(t.type,u,e),s={type:t.type,name:t.name,value:n,listener:u,capture:e},c?c.push(s):this.__on=[s]}}function ct(t,n,e){var r=wc(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function ut(t,n){return function(){return ct(this,t,n)}}function lt(t,n){return function(){return ct(this,t,n.apply(this,arguments))}}function ft(t,n){this._groups=t,this._parents=n}function ht(){return new ft([[document.documentElement]],Tc)}function dt(){this._="@"+(++Nc).toString(36)}function pt(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function gt(){}function vt(t){var n;return t=(t+"").trim().toLowerCase(),(n=Oc.exec(t))?new wt(15&(n=parseInt(n[1],16))>>8|240&n>>4,15&n>>4|240&n,(15&n)<<4|15&n,1):(n=jc.exec(t))?yt(parseInt(n[1],16)):(n=Lc.exec(t))?new wt(n[1],n[2],n[3],1):(n=Fc.exec(t))?new wt(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=Dc.exec(t))?mt(n[1],n[2],n[3],n[4]):(n=Pc.exec(t))?mt(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=Mc.exec(t))?St(n[1],n[2]/100,n[3]/100,1):(n=Rc.exec(t))?St(n[1],n[2]/100,n[3]/100,n[4]):Hc.hasOwnProperty(t)?yt(Hc[t]):"transparent"===t?new wt(NaN,NaN,NaN,0):null}function yt(t){return new wt(255&t>>16,255&t>>8,255&t,1)}function mt(t,n,e,r){return 0>=r&&(t=n=e=NaN),new wt(t,n,e,r)}function bt(t){return t instanceof gt||(t=vt(t)),t?new wt((t=t.rgb()).r,t.g,t.b,t.opacity):new wt}function _t(t,n,e,r){return 1===arguments.length?bt(t):new wt(t,n,e,null==r?1:r)}function wt(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function xt(t){return(16>(t=Us(0,Ws(255,Ds(t)||0)))?"0":"")+t.toString(16)}function St(t,n,e,r){return 0>=r?t=n=e=NaN:0>=e||1<=e?t=n=NaN:0>=n&&(t=NaN),new Ct(t,n,e,r)}function Tt(t,n,e,r){return 1===arguments.length?function(t){if(t instanceof Ct)return new Ct(t.h,t.s,t.l,t.opacity);if(t instanceof gt||(t=vt(t)),!t)return new Ct;if(t instanceof Ct)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,i=Ws(n,e,r),o=Us(n,e,r),a=NaN,s=o-i,c=(o+i)/2;return s?(a=n===o?(e-r)/s+6*(e<r):e===o?(r-n)/s+2:(n-e)/s+4,s/=.5>c?o+i:2-o-i,a*=60):s=0<c&&1>c?0:a,new Ct(a,s,c,t.opacity)}(t):new Ct(t,n,e,null==r?1:r)}function Ct(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function Et(t,n,e){return 255*(60>t?n+(e-n)*t/60:180>t?e:240>t?n+(e-n)*(240-t)/60:n)}function Nt(t){if(t instanceof At)return new At(t.l,t.a,t.b,t.opacity);if(t instanceof Ft){if(isNaN(t.h))return new At(t.l,0,0,t.opacity);var n=t.h*zc;return new At(t.l,Ls(n)*t.c,js(n)*t.c,t.opacity)}t instanceof wt||(t=bt(t));var e,r,i=jt(t.r),o=jt(t.g),a=jt(t.b),s=kt((.2225045*i+.7168786*o+.0606169*a)/Vc);return i===o&&o===a?e=r=s:(e=kt((.4360747*i+.3850649*o+.1430804*a)/Bc),r=kt((.0139322*i+.0971045*o+.7141733*a)/Wc)),new At(116*s-16,500*(e-s),200*(s-r),t.opacity)}function At(t,n,e,r){this.l=+t,this.a=+n,this.b=+e,this.opacity=+r}function kt(t){return t>$c?zs(t,1/3):t/Yc+Gc}function It(t){return t>qc?t*t*t:Yc*(t-Gc)}function Ot(t){return 255*(.0031308>=t?12.92*t:1.055*zs(t,1/2.4)-.055)}function jt(t){return.04045>=(t/=255)?t/12.92:zs((t+.055)/1.055,2.4)}function Lt(t,n,e,r){return 1===arguments.length?function(t){if(t instanceof Ft)return new Ft(t.h,t.c,t.l,t.opacity);if(t instanceof At||(t=Nt(t)),0===t.a&&0===t.b)return new Ft(NaN,0,t.l,t.opacity);var n=Os(t.b,t.a)*Uc;return new Ft(0>n?n+360:n,Hs(t.a*t.a+t.b*t.b),t.l,t.opacity)}(t):new Ft(t,n,e,null==r?1:r)}function Ft(t,n,e,r){this.h=+t,this.c=+n,this.l=+e,this.opacity=+r}function Dt(t,n,e,r){return 1===arguments.length?function(t){if(t instanceof Pt)return new Pt(t.h,t.s,t.l,t.opacity);t instanceof wt||(t=bt(t));var n=t.r/255,e=t.g/255,r=t.b/255,i=(nu*r+Kc*n-tu*e)/(nu+Kc-tu),o=r-i,a=(Qc*(e-i)-Jc*o)/Zc,s=Hs(a*a+o*o)/(Qc*i*(1-i)),c=s?Os(a,o)*Uc-120:NaN;return new Pt(0>c?c+360:c,s,i,t.opacity)}(t):new Pt(t,n,e,null==r?1:r)}function Pt(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function Mt(t,n,e,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*n+(4-6*o+3*a)*e+(1+3*t+3*o-3*a)*r+a*i)/6}function Rt(t,n){return function(e){return t+e*n}}function Ht(t,n){var e=n-t;return e?Rt(t,180<e||-180>e?e-360*Ds(e/360):e):cu(isNaN(t)?n:t)}function zt(t){return 1==(t=+t)?Ut:function(n,e){return e-n?function(t,n,e){return t=zs(t,e),n=zs(n,e)-t,e=1/e,function(r){return zs(t+r*n,e)}}(n,e,t):cu(isNaN(n)?e:n)}}function Ut(t,n){var e=n-t;return e?Rt(t,e):cu(isNaN(t)?n:t)}function Bt(t){return function(n){var e,r,i=n.length,o=Array(i),a=Array(i),s=Array(i);for(e=0;e<i;++e)r=_t(n[e]),o[e]=r.r||0,a[e]=r.g||0,s[e]=r.b||0;return o=t(o),a=t(a),s=t(s),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=s(t),r+""}}}function Vt(t,n,e,r){function i(t){return t.length?t.pop()+" ":""}function o(t,r,i,o,a,s){if(t!==i||r!==o){var c=a.push("translate(",null,n,null,e);s.push({i:c-4,x:hu(t,i)},{i:c-2,x:hu(r,o)})}else(i||o)&&a.push("translate("+i+n+o+e)}function a(t,n,e,o){t===n?n&&e.push(i(e)+"rotate("+n+r):(180<t-n?n+=360:180<n-t&&(t+=360),o.push({i:e.push(i(e)+"rotate(",null,r)-2,x:hu(t,n)}))}function s(t,n,e,o){t===n?n&&e.push(i(e)+"skewX("+n+r):o.push({i:e.push(i(e)+"skewX(",null,r)-2,x:hu(t,n)})}return function(n,e){var r=[],c=[];return n=t(n),e=t(e),o(n.translateX,n.translateY,e.translateX,e.translateY,r,c),a(n.rotate,e.rotate,r,c),s(n.skewX,e.skewX,r,c),function(t,n,e,r,o,a){if(t!==e||n!==r){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:hu(t,e)},{i:s-2,x:hu(n,r)})}else(1!==e||1!==r)&&o.push(i(o)+"scale("+e+","+r+")")}(n.scaleX,n.scaleY,e.scaleX,e.scaleY,r,c),n=e=null,function(t){for(var n,e=-1,i=c.length;++e<i;)r[(n=c[e]).i]=n.x(t);return r.join("")}}}function Wt(t){return function(n,e){var r=t((n=Tt(n)).h,(e=Tt(e)).h),i=Ut(n.s,e.s),o=Ut(n.l,e.l),a=Ut(n.opacity,e.opacity);return function(t){return n.h=r(t),n.s=i(t),n.l=o(t),n.opacity=a(t),n+""}}}function Gt(t){return function(n,e){var r=t((n=Lt(n)).h,(e=Lt(e)).h),i=Ut(n.c,e.c),o=Ut(n.l,e.l),a=Ut(n.opacity,e.opacity);return function(t){return n.h=r(t),n.c=i(t),n.l=o(t),n.opacity=a(t),n+""}}}function qt(t){return function n(e){function r(n,r){var i=t((n=Dt(n)).h,(r=Dt(r)).h),o=Ut(n.s,r.s),a=Ut(n.l,r.l),s=Ut(n.opacity,r.opacity);return function(t){return n.h=i(t),n.s=o(t),n.l=a(zs(t,e)),n.opacity=s(t),n+""}}return e=+e,r.gamma=n,r}(1)}function Yt(){return Iu||(Lu($t),Iu=ju.now()+Ou)}function $t(){Iu=0}function Xt(){this._call=this._time=this._next=null}function Jt(t,n,e){var r=new Xt;return r.restart(t,n,e),r}function Zt(){Iu=(ku=ju.now())+Ou,Cu=Eu=0;try{!function(){Yt(),++Cu;for(var t,n=au;n;)0<=(t=Iu-n._time)&&n._call.call(null,t),n=n._next;--Cu}()}finally{Cu=0,function(){for(var t,n,e=au,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:au=n);su=t,Kt(r)}(),Iu=0}}function Qt(){var t=ju.now(),n=t-ku;n>Au&&(Ou-=n,ku=t)}function Kt(t){Cu||(Eu&&(Eu=clearTimeout(Eu)),24<t-Iu?(t<1/0&&(Eu=setTimeout(Zt,t-ju.now()-Ou)),Nu&&(Nu=clearInterval(Nu))):(!Nu&&(ku=ju.now(),Nu=setInterval(Qt,Au)),Cu=1,Lu(Zt)))}function tn(t,n){var e=en(t,n);if(e.state>Mu)throw new Error("too late; already scheduled");return e}function nn(t,n){var e=en(t,n);if(e.state>zu)throw new Error("too late; already running");return e}function en(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function rn(t,n){var e,r;return function(){var i=nn(this,t),o=i.tween;if(o!==e)for(var a=0,s=(r=e=o).length;a<s;++a)if(r[a].name===n){(r=r.slice()).splice(a,1);break}i.tween=r}}function on(t,n,e){var r,i;if("function"!=typeof e)throw new Error;return function(){var o=nn(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:n,value:e},c=0,u=i.length;c<u;++c)if(i[c].name===n){i[c]=s;break}c===u&&i.push(s)}o.tween=i}}function an(t,n,e){var r=t._id;return t.each((function(){var t=nn(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)})),function(t){return en(t,r).value[n]}}function sn(t){return function(){this.removeAttribute(t)}}function cn(t){return function(){this.removeAttributeNS(t.space,t.local)}}function un(t,n,e){var r,i;return function(){var o=this.getAttribute(t);return o===e+""?null:o===r?i:i=n(r=o,e)}}function ln(t,n,e){var r,i;return function(){var o=this.getAttributeNS(t.space,t.local);return o===e+""?null:o===r?i:i=n(r=o,e)}}function fn(t,n,e){var r,i,o;return function(){var a,s,c=e(this);return null==c?void this.removeAttribute(t):(a=this.getAttribute(t))===(s=c+"")?null:a===r&&s==i?o:(i=s,o=n(r=a,c))}}function hn(t,n,e){var r,i,o;return function(){var a,s,c=e(this);return null==c?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local))===(s=c+"")?null:a===r&&s==i?o:(i=s,o=n(r=a,c))}}function dn(t,n){function e(){var e=n.apply(this,arguments);return e!==i&&(r=(i=e)&&function(t,n){return function(e){this.setAttributeNS(t.space,t.local,n(e))}}(t,e)),r}var r,i;return e._value=n,e}function pn(t,n){function e(){var e=n.apply(this,arguments);return e!==i&&(r=(i=e)&&function(t,n){return function(e){this.setAttribute(t,n(e))}}(t,e)),r}var r,i;return e._value=n,e}function gn(t,n){return function(){tn(this,t).delay=+n.apply(this,arguments)}}function vn(t,n){return n=+n,function(){tn(this,t).delay=n}}function yn(t,n){return function(){nn(this,t).duration=+n.apply(this,arguments)}}function mn(t,n){return n=+n,function(){nn(this,t).duration=n}}function bn(t,n){if("function"!=typeof n)throw new Error;return function(){nn(this,t).ease=n}}function _n(t,n,e){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var n=t.indexOf(".");return 0<=n&&(t=t.slice(0,n)),!t||"start"===t}))}(n)?tn:nn;return function(){var a=o(this,t),s=a.on;s!==r&&(i=(r=s).copy()).on(n,e),a.on=i}}function wn(t){return function(){this.style.removeProperty(t)}}function xn(t,n,e){function r(){var r=n.apply(this,arguments);return r!==o&&(i=(o=r)&&function(t,n,e){return function(r){this.style.setProperty(t,n(r),e)}}(t,r,e)),i}var i,o;return r._value=n,r}function Sn(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function Tn(t){return Cc().transition(t)}function Cn(){return++$u}function En(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))return Qu.time=Yt(),Qu;return e}function Nn(t){return{type:t}}function An(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function kn(){return new An}function In(){}function On(t,n){var e=new In;if(t instanceof In)t.each((function(t,n){e.set(n,t)}));else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==n)for(;++i<o;)e.set(i,t[i]);else for(;++i<o;)e.set(n(r=t[i],i,t),r)}else if(t)for(var a in t)e.set(a,t[a]);return e}function jn(){}function Ln(t){return new Function("d","return {"+t.map((function(t,n){return JSON.stringify(t)+": d["+n+"]"})).join(",")+"}")}function Fn(t){var n=Object.create(null),e=[];return t.forEach((function(t){for(var r in t)r in n||e.push(n[r]=r)})),e}function Dn(t,n){var e=t+"",r=e.length;return r<n?Array(n-r+1).join(0)+e:e}function Pn(t){var n=t.getUTCHours(),e=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":function(t){return 0>t?"-"+Dn(-t,6):9999<t?"+"+Dn(t,6):Dn(t,4)}(t.getUTCFullYear())+"-"+Dn(t.getUTCMonth()+1,2)+"-"+Dn(t.getUTCDate(),2)+(i?"T"+Dn(n,2)+":"+Dn(e,2)+":"+Dn(r,2)+"."+Dn(i,3)+"Z":r?"T"+Dn(n,2)+":"+Dn(e,2)+":"+Dn(r,2)+"Z":e||n?"T"+Dn(n,2)+":"+Dn(e,2)+"Z":"")}function Mn(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function Rn(t){return function(n,e,r){return 2===arguments.length&&"function"==typeof e&&(r=e,e=void 0),gl(n,e).then((function(n){return t(n,r)}))}}function Hn(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.json()}function zn(t){return function(n,e){return gl(n,e).then((function(n){return(new DOMParser).parseFromString(n,t)}))}}function Un(t,n,e,r){if(isNaN(n)||isNaN(e))return t;var i,o,a,s,c,u,l,f,h,d=t._root,p={data:r},g=t._x0,v=t._y0,y=t._x1,m=t._y1;if(!d)return t._root=p,t;for(;d.length;)if((u=n>=(o=(g+y)/2))?g=o:y=o,(l=e>=(a=(v+m)/2))?v=a:m=a,i=d,!(d=d[f=l<<1|u]))return i[f]=p,t;if(s=+t._x.call(null,d.data),c=+t._y.call(null,d.data),n===s&&e===c)return p.next=d,i?i[f]=p:t._root=p,t;do{i=i?i[f]=[,,,,]:t._root=[,,,,],(u=n>=(o=(g+y)/2))?g=o:y=o,(l=e>=(a=(v+m)/2))?v=a:m=a}while((f=l<<1|u)==(h=(c>=a)<<1|s>=o));return i[h]=d,i[f]=p,t}function Bn(t){return t[0]}function Vn(t){return t[1]}function Wn(t,n,e,r,i,o){this._x=t,this._y=n,this._x0=e,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function Gn(t){for(var n={data:t.data},e=n;t=t.next;)e=e.next={data:t.data};return n}function qn(t){if(!(n=Cl.exec(t)))throw new Error("invalid format: "+t);var n;return new Yn({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}function Yn(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function $n(){this.reset()}function Xn(t,n,e){var r=t.s=n+e,i=r-n;t.t=n-(r-i)+(e-i)}function Jn(t){return 1<t?0:-1>t?zl:Ns(t)}function Zn(t){return 1<t?Ul:-1>t?-Ul:As(t)}function Qn(){}function Kn(t){var n=t[0],e=t[1],r=$l(e);return[r*$l(n),r*Zl(n),Zl(e)]}function te(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function ne(t){var n=Kl(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}function ee(t,n){return[Gl(t)>zl?t+Ds(-t/Vl)*Vl:t,n]}function re(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function ie(t){if(n=t.length){for(var n,e,r=0,i=t[0];++r<n;)i.n=e=t[r],e.p=i,i=e;i.n=e=t[0],e.p=i}}function oe(t){return Gl(t[0])<=zl?t[0]:Ql(t[0])*((Gl(t[0])+zl)%Vl-zl)}function ae(t){return 1<t.length}function se(t,n){return(0>(t=t.x)[0]?t[1]-Ul-Hl:Ul-t[1])-(0>(n=n.x)[0]?n[1]-Ul-Hl:Ul-n[1])}function ce(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function ue(t){return function(n){var e=new le;for(var r in t)e[r]=t[r];return e.stream=n,e}}function le(){}function fe(t){return function(n,e){var r=$l(n),i=$l(e),o=t(r*i);return[o*i*Zl(n),o*Zl(e)]}}function he(t){return function(n,e){var r=Kl(n*n+e*e),i=t(r),o=Zl(i),a=$l(i);return[Yl(n*o,r*a),Zn(r&&e*o/r)]}}function de(t,n){return[t,Jl(tf((Ul+n)/2))]}function pe(t,n){return[t,n]}function ge(t){var n=0,e=t.children,r=e&&e.length;if(r)for(;0<=--r;)n+=e[r].value;else n=1;t.value=n}function ve(t,n){var e,r,i,o,a,s=new _e(t),c=+t.value&&(s.value=t.value),u=[s];for(null==n&&(n=ye);e=u.pop();)if(c&&(e.value=+e.data.value),(i=n(e.data))&&(a=i.length))for(e.children=Array(a),o=a-1;0<=o;--o)u.push(r=e.children[o]=new _e(i[o])),r.parent=e,r.depth=e.depth+1;return s.eachBefore(be)}function ye(t){return t.children}function me(t){t.data=t.data.data}function be(t){var n=0;do{t.height=n}while((t=t.parent)&&t.height<++n)}function _e(t){this.data=t,this.depth=this.height=0,this.parent=null}function we(t,n){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=n}function xe(t,n,e,r,i,o){for(var a,s,c,u,l,f,h,d,p,g,v,y=[],m=n.children,b=0,_=0,w=m.length,x=n.value;b<w;){c=i-e,u=o-r;do{l=m[_++].value}while(!l&&_<w);for(f=h=l,g=Us(u/c,c/u)/(x*t),p=Us(h/(v=l*l*g),v/f);_<w;++_){if(l+=s=m[_].value,s<f&&(f=s),s>h&&(h=s),(d=Us(h/(v=l*l*g),v/f))>p){l-=s;break}p=d}y.push(a={value:l,dice:c<u,children:m.slice(b,_)}),a.dice?cf(a,e,r,i,x?r+=u*l/x:o):uf(a,e,r,x?e+=c*l/x:i,o),x-=l,b=_}return y}function Se(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t)}return this}function Te(t){return t}function Ce(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:mf(isNaN(n)?NaN:.5)}function Ee(t){var n,e=t[0],r=t[t.length-1];return e>r&&(n=e,e=r,r=n),function(t){return Us(e,Ws(r,t))}}function Ne(t,n,e){var r=t[0],i=t[1],o=n[0],a=n[1];return i<r?(r=Ce(i,r),o=e(a,o)):(r=Ce(r,i),o=e(o,a)),function(t){return o(r(t))}}function Ae(t,n,e){var r=Ws(t.length,n.length)-1,i=Array(r),o=Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++a<r;)i[a]=Ce(t[a],t[a+1]),o[a]=e(n[a],n[a+1]);return function(n){var e=Xs(t,n,1,r)-1;return o[e](i[e](n))}}function ke(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Ie(){function t(){return o=2<Ws(c.length,u.length)?Ae:Ne,a=s=null,n}function n(t){return isNaN(t=+t)?i:(a||(a=o(c.map(e),u,l)))(e(f(t)))}var e,r,i,o,a,s,c=_f,u=_f,l=yu,f=Te;return n.invert=function(t){return f(r((s||(s=o(u,c.map(e),hu)))(t)))},n.domain=function(n){return arguments.length?(c=gf.call(n,bf),f===Te||(f=Ee(c)),t()):c.slice()},n.range=function(n){return arguments.length?(u=vf.call(n),t()):u.slice()},n.rangeRound=function(n){return u=vf.call(n),l=mu,t()},n.clamp=function(t){return arguments.length?(f=t?Ee(c):Te,n):f!==Te},n.interpolate=function(n){return arguments.length?(l=n,t()):l},n.unknown=function(t){return arguments.length?(i=t,n):i},function(n,i){return e=n,r=i,t()}}function Oe(t,n){return Ie()(t,n)}function je(t){var n=t.domain;return t.ticks=function(t){var e=n();return nc(e[0],e[e.length-1],null==t?10:t)},t.tickFormat=function(t,e){var r=n();return wf(r[0],r[r.length-1],null==t?10:t,e)},t.nice=function(e){null==e&&(e=10);var i,o=n(),a=0,s=o.length-1,c=o[a],u=o[s];return u<c&&(i=c,c=u,u=i,i=a,a=s,s=i),0<(i=r(c,u,e))?i=r(c=Bs(c/i)*i,u=Vs(u/i)*i,e):0>i&&(i=r(c=Vs(c*i)/i,u=Bs(u*i)/i,e)),0<i?(o[a]=Bs(c/i)*i,o[s]=Vs(u/i)*i,n(o)):0>i&&(o[a]=Vs(c*i)/i,o[s]=Bs(u*i)/i,n(o)),t},t}function Le(){var t=Oe(Te,Te);return t.copy=function(){return ke(t,Le())},Se.apply(t,arguments),je(t)}function Fe(t){return Rs(t)}function De(t){return ks(t)}function Pe(t){return-Rs(-t)}function Me(t){return-ks(-t)}function Re(t){return isFinite(t)?+("1e"+t):0>t?0:t}function He(t){return function(n){return-t(-n)}}function ze(t){function n(){return e=function(t){return t===Ts?Rs:10===t&&Ss||2===t&&xs||(t=Rs(t),function(n){return Rs(n)/t})}(a),r=function(t){return 10===t?Re:t===Ts?ks:function(n){return zs(t,n)}}(a),0>o()[0]?(e=He(e),r=He(r),t(Pe,Me)):t(Fe,De),i}var e,r,i=t(Fe,De),o=i.domain,a=10;return i.base=function(t){return arguments.length?(a=+t,n()):a},i.domain=function(t){return arguments.length?(o(t),n()):o()},i.ticks=function(t){var n,i=o(),s=i[0],c=i[i.length-1];(n=c<s)&&(h=s,s=c,c=h);var u,l,f,h=e(s),d=e(c),p=null==t?10:+t,g=[];if(a%1||!(d-h<p))g=nc(h,d,Ws(d-h,p)).map(r);else if(h=Ds(h)-1,d=Ds(d)+1,0<s){for(;h<d;++h)for(l=1,u=r(h);l<a;++l)if(!((f=u*l)<s)){if(f>c)break;g.push(f)}}else for(;h<d;++h)for(l=a-1,u=r(h);1<=l;--l)if(!((f=u*l)<s)){if(f>c)break;g.push(f)}return n?g.reverse():g},i.tickFormat=function(t,n){if(null==n&&(n=10==a?".0e":","),"function"!=typeof n&&(n=Al(n)),t===1/0)return n;null==t&&(t=10);var o=Us(1,a*t/i.ticks().length);return function(t){var i=t/r(Ds(e(t)));return i*a<a-.5&&(i*=a),i<=o?n(t):""}},i.nice=function(){return o(xf(o(),{floor:function(t){return r(Bs(e(t)))},ceil:function(t){return r(Vs(e(t)))}}))},i}function Ue(t){return function(n){return 0>n?-zs(-n,t):zs(n,t)}}function Be(t){return 0>t?-Hs(-t):Hs(t)}function Ve(t){return 0>t?-t*t:t*t}function We(){var t=function(t){function n(){return 1===r?t(Te,Te):.5===r?t(Be,Ve):t(Ue(r),Ue(1/r))}var e=t(Te,Te),r=1;return e.exponent=function(t){return arguments.length?(r=+t,n()):r},je(e)}(Ie());return t.copy=function(){return ke(t,We()).exponent(t.exponent())},Se.apply(t,arguments),t}function Ge(t,n,e,r){function i(n){return t(n=new Date(+n)),n}return i.floor=i,i.ceil=function(e){return t(e=new Date(e-1)),n(e,1),t(e),e},i.round=function(t){var n=i(t),e=i.ceil(t);return t-n<e-t?n:e},i.offset=function(t,e){return n(t=new Date(+t),null==e?1:Bs(e)),t},i.range=function(e,r,o){var a,s=[];if(e=i.ceil(e),o=null==o?1:Bs(o),!(e<r&&0<o))return s;do{s.push(a=new Date(+e)),n(e,o),t(e)}while(a<e&&e<r);return s},i.filter=function(e){return Ge((function(n){if(n>=n)for(;t(n),!e(n);)n.setTime(n-1)}),(function(t,r){if(t>=t)if(0>r)for(;0>=++r;)for(;n(t,-1),!e(t););else for(;0<=--r;)for(;n(t,1),!e(t););}))},e&&(i.count=function(n,r){return Sf.setTime(+n),Tf.setTime(+r),t(Sf),t(Tf),Bs(e(Sf,Tf))},i.every=function(t){return t=Bs(t),isFinite(t)&&0<t?1<t?i.filter(r?function(n){return 0==r(n)%t}:function(n){return 0==i.count(0,n)%t}):i:null}),i}function qe(t){return Ge((function(n){n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)}),(function(t,n){t.setDate(t.getDate()+7*n)}),(function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Ef)/Nf}))}function Ye(t){return Ge((function(n){n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCDate(t.getUTCDate()+7*n)}),(function(t,n){return(n-t)/Nf}))}function $e(t){if(0<=t.y&&100>t.y){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Xe(t){if(0<=t.y&&100>t.y){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Je(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function Ze(t,n,e){var r=0>t?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<e?Array(e-o+1).join(n)+i:i)}function Qe(t){return t.replace(uh,"\\$&")}function Ke(t){return new RegExp("^(?:"+t.map(Qe).join("|")+")","i")}function tr(t){for(var n={},e=-1,r=t.length;++e<r;)n[t[e].toLowerCase()]=e;return n}function nr(t,n,e){var r=sh.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function er(t,n,e){var r=sh.exec(n.slice(e,e+1));return r?(t.u=+r[0],e+r[0].length):-1}function rr(t,n,e){var r=sh.exec(n.slice(e,e+2));return r?(t.U=+r[0],e+r[0].length):-1}function ir(t,n,e){var r=sh.exec(n.slice(e,e+2));return r?(t.V=+r[0],e+r[0].length):-1}function or(t,n,e){var r=sh.exec(n.slice(e,e+2));return r?(t.W=+r[0],e+r[0].length):-1}function ar(t,n,e){var r=sh.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function sr(t,n,e){var r=sh.exec(n.slice(e,e+2));return r?(t.y=+r[0]+(68<+r[0]?1900:2e3),e+r[0].length):-1}function cr(t,n,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function ur(t,n,e){var r=sh.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function lr(t,n,e){var r=sh.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function fr(t,n,e){var r=sh.exec(n.slice(e,e+3));return r?(t.m=0,t.d=+r[0],e+r[0].length):-1}function hr(t,n,e){var r=sh.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function dr(t,n,e){var r=sh.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function pr(t,n,e){var r=sh.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function gr(t,n,e){var r=sh.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function vr(t,n,e){var r=sh.exec(n.slice(e,e+6));return r?(t.L=Bs(r[0]/1e3),e+r[0].length):-1}function yr(t,n,e){var r=ch.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function mr(t,n,e){var r=sh.exec(n.slice(e));return r?(t.Q=+r[0],e+r[0].length):-1}function br(t,n,e){var r=sh.exec(n.slice(e));return r?(t.Q=1e3*+r[0],e+r[0].length):-1}function _r(t,n){return Ze(t.getDate(),n,2)}function wr(t,n){return Ze(t.getHours(),n,2)}function xr(t,n){return Ze(t.getHours()%12||12,n,2)}function Sr(t,n){return Ze(1+jf.count(Bf(t),t),n,3)}function Tr(t,n){return Ze(t.getMilliseconds(),n,3)}function Cr(t,n){return Tr(t,n)+"000"}function Er(t,n){return Ze(t.getMonth()+1,n,2)}function Nr(t,n){return Ze(t.getMinutes(),n,2)}function Ar(t,n){return Ze(t.getSeconds(),n,2)}function kr(t){var n=t.getDay();return 0===n?7:n}function Ir(t,n){return Ze(Lf.count(Bf(t),t),n,2)}function Or(t,n){var e=t.getDay();return t=4<=e||0===e?Mf(t):Mf.ceil(t),Ze(Mf.count(Bf(t),t)+(4===Bf(t).getDay()),n,2)}function jr(t){return t.getDay()}function Lr(t,n){return Ze(Ff.count(Bf(t),t),n,2)}function Fr(t,n){return Ze(t.getFullYear()%100,n,2)}function Dr(t,n){return Ze(t.getFullYear()%1e4,n,4)}function Pr(t){var n=t.getTimezoneOffset();return(0<n?"-":(n*=-1,"+"))+Ze(0|n/60,"0",2)+Ze(n%60,"0",2)}function Mr(t,n){return Ze(t.getUTCDate(),n,2)}function Rr(t,n){return Ze(t.getUTCHours(),n,2)}function Hr(t,n){return Ze(t.getUTCHours()%12||12,n,2)}function zr(t,n){return Ze(1+qf.count(oh(t),t),n,3)}function Ur(t,n){return Ze(t.getUTCMilliseconds(),n,3)}function Br(t,n){return Ur(t,n)+"000"}function Vr(t,n){return Ze(t.getUTCMonth()+1,n,2)}function Wr(t,n){return Ze(t.getUTCMinutes(),n,2)}function Gr(t,n){return Ze(t.getUTCSeconds(),n,2)}function qr(t){var n=t.getUTCDay();return 0===n?7:n}function Yr(t,n){return Ze(Yf.count(oh(t),t),n,2)}function $r(t,n){var e=t.getUTCDay();return t=4<=e||0===e?Zf(t):Zf.ceil(t),Ze(Zf.count(oh(t),t)+(4===oh(t).getUTCDay()),n,2)}function Xr(t){return t.getUTCDay()}function Jr(t,n){return Ze($f.count(oh(t),t),n,2)}function Zr(t,n){return Ze(t.getUTCFullYear()%100,n,2)}function Qr(t,n){return Ze(t.getUTCFullYear()%1e4,n,4)}function Kr(){return"+0000"}function ti(){return"%"}function ni(t){return+t}function ei(t){return Bs(+t/1e3)}function ri(t){this._context=t}function ii(t){this._curve=t}function oi(t){function n(n){return new ii(t(n))}return n._curve=t,n}function ai(t,n,e){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+n)/6,(t._y0+4*t._y1+e)/6)}function si(t){this._context=t}function ci(t,n){this._basis=new si(t),this._beta=n}function ui(t,n,e){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-n),t._y2+t._k*(t._y1-e),t._x2,t._y2)}function li(t,n){this._context=t,this._k=(1-n)/6}function fi(t,n){this._context=t,this._k=(1-n)/6}function hi(t,n){this._context=t,this._k=(1-n)/6}function di(t,n,e){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>fh){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,c=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/c,i=(i*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/c}if(t._l23_a>fh){var u=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,l=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*u+t._x1*t._l23_2a-n*t._l12_2a)/l,a=(a*u+t._y1*t._l23_2a-e*t._l12_2a)/l}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function pi(t,n){this._context=t,this._alpha=n}function gi(t,n){this._context=t,this._alpha=n}function vi(t,n){this._context=t,this._alpha=n}function yi(t){return 0>t?-1:1}function mi(t,n,e){var r=t._x1-t._x0,i=n-t._x1,o=(t._y1-t._y0)/(r||0>i&&-0),a=(e-t._y1)/(i||0>r&&-0);return(yi(o)+yi(a))*Ws(Ps(o),Ps(a),.5*Ps((o*i+a*r)/(r+i)))||0}function bi(t,n){var e=t._x1-t._x0;return e?(3*(t._y1-t._y0)/e-n)/2:n}function _i(t,n,e){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*n,o-s,a-s*e,o,a)}function wi(t){this._context=t}function xi(t){this._context=t}function Si(){this._=null}function Ti(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Ci(t,n){var e=n,r=n.R,i=e.U;i?i.L===e?i.L=r:i.R=r:t._=r,r.U=i,e.U=r,e.R=r.L,e.R&&(e.R.U=e),r.L=e}function Ei(t,n){var e=n,r=n.L,i=e.U;i?i.L===e?i.L=r:i.R=r:t._=r,r.U=i,e.U=r,e.L=r.R,e.L&&(e.L.U=e),r.R=e}function Ni(t){for(;t.L;)t=t.L;return t}function Ai(t,n,e,r){var i=[null,null],o=wh.push(i)-1;return i.left=t,i.right=n,e&&Ii(i,t,n,e),r&&Ii(i,n,t,r),bh[t.index].halfedges.push(o),bh[n.index].halfedges.push(o),i}function ki(t,n,e){var r=[n,e];return r.left=t,r}function Ii(t,n,e,r){t[0]||t[1]?t.left===e?t[1]=r:t[0]=r:(t[0]=r,t.left=n,t.right=e)}function Oi(t,n,e,r,i){var o,a=t[0],s=t[1],c=a[0],u=a[1],l=0,f=1,h=s[0]-c,d=s[1]-u;if(o=n-c,h||!(0<o)){if(o/=h,0>h){if(o<l)return;o<f&&(f=o)}else if(0<h){if(o>f)return;o>l&&(l=o)}if(o=r-c,h||!(0>o)){if(o/=h,0>h){if(o>f)return;o>l&&(l=o)}else if(0<h){if(o<l)return;o<f&&(f=o)}if(o=e-u,d||!(0<o)){if(o/=d,0>d){if(o<l)return;o<f&&(f=o)}else if(0<d){if(o>f)return;o>l&&(l=o)}if(o=i-u,d||!(0>o)){if(o/=d,0>d){if(o>f)return;o>l&&(l=o)}else if(0<d){if(o<l)return;o<f&&(f=o)}return!(0<l||1>f)||(0<l&&(t[0]=[c+l*h,u+l*d]),1>f&&(t[1]=[c+f*h,u+f*d]),!0)}}}}}function ji(t,n,e,r,i){var o=t[1];if(o)return!0;var a,s,c=t[0],u=t.left,l=t.right,f=u[0],h=u[1],d=l[0],p=l[1],g=(f+d)/2;if(p===h){if(g<n||g>=r)return;if(f>d){if(c){if(c[1]>=i)return}else c=[g,e];o=[g,i]}else{if(c){if(c[1]<e)return}else c=[g,i];o=[g,e]}}else if(s=(h+p)/2-(a=(f-d)/(p-h))*g,-1>a||1<a)if(f>d){if(c){if(c[1]>=i)return}else c=[(e-s)/a,e];o=[(i-s)/a,i]}else{if(c){if(c[1]<e)return}else c=[(i-s)/a,i];o=[(e-s)/a,e]}else if(h<p){if(c){if(c[0]>=r)return}else c=[n,a*n+s];o=[r,a*r+s]}else{if(c){if(c[0]<n)return}else c=[r,a*r+s];o=[n,a*n+s]}return t[0]=c,t[1]=o,!0}function Li(t,n){var e=t.site,r=n.left,i=n.right;return e===i&&(i=r,r=e),i?Os(i[1]-r[1],i[0]-r[0]):(e===r?(r=n[1],i=n[0]):(r=n[0],i=n[1]),Os(r[0]-i[0],i[1]-r[1]))}function Fi(t,n){return n[+(n.left!==t.site)]}function Di(t,n){return n[+(n.left===t.site)]}function Pi(){Ti(this),this.x=this.y=this.arc=this.site=this.cy=null}function Mi(t){var n=t.P,e=t.N;if(n&&e){var r=n.site,i=t.site,o=e.site;if(r!==o){var a=i[0],s=i[1],c=r[0]-a,u=r[1]-s,l=o[0]-a,f=o[1]-s,h=2*(c*f-u*l);if(!(h>=-Eh)){var d=c*c+u*u,p=l*l+f*f,g=(f*d-u*p)/h,v=(c*p-l*d)/h,y=Sh.pop()||new Pi;y.arc=t,y.site=i,y.x=g+a,y.y=(y.cy=v+s)+Hs(g*g+v*v),t.circle=y;for(var m=null,b=_h._;b;)if(y.y<b.y||y.y===b.y&&y.x<=b.x){if(!b.L){m=b.P;break}b=b.L}else{if(!b.R){m=b;break}b=b.R}_h.insert(m,y),m||(yh=y)}}}}function Ri(t){var n=t.circle;n&&(!n.P&&(yh=n.N),_h.remove(n),Sh.push(n),Ti(n),t.circle=null)}function Hi(){Ti(this),this.edge=this.site=this.circle=null}function zi(t){var n=Th.pop()||new Hi;return n.site=t,n}function Ui(t){Ri(t),mh.remove(t),Th.push(t),Ti(t)}function Bi(t){var n=t.circle,e=n.x,r=n.cy,i=[e,r],o=t.P,a=t.N,s=[t];Ui(t);for(var c=o;c.circle&&Ps(e-c.circle.x)<Ch&&Ps(r-c.circle.cy)<Ch;)o=c.P,s.unshift(c),Ui(c),c=o;s.unshift(c),Ri(c);for(var u=a;u.circle&&Ps(e-u.circle.x)<Ch&&Ps(r-u.circle.cy)<Ch;)a=u.N,s.push(u),Ui(u),u=a;s.push(u),Ri(u);var l,f=s.length;for(l=1;l<f;++l)u=s[l],c=s[l-1],Ii(u.edge,c.site,u.site,i);c=s[0],(u=s[f-1]).edge=Ai(c.site,u.site,null,i),Mi(c),Mi(u)}function Vi(t){for(var n,e,r,i,o=t[0],a=t[1],s=mh._;s;)if((r=Wi(s,a)-o)>Ch)s=s.L;else{if(!((i=o-Gi(s,a))>Ch)){r>-Ch?(n=s.P,e=s):i>-Ch?(n=s,e=s.N):n=e=s;break}if(!s.R){n=s;break}s=s.R}!function(t){bh[t.index]={site:t,halfedges:[]}}(t);var c=zi(t);if(mh.insert(n,c),n||e){if(n===e)return Ri(n),e=zi(n.site),mh.insert(c,e),c.edge=e.edge=Ai(n.site,c.site),Mi(n),void Mi(e);if(!e)return void(c.edge=Ai(n.site,c.site));Ri(n),Ri(e);var u=n.site,l=u[0],f=u[1],h=t[0]-l,d=t[1]-f,p=e.site,g=p[0]-l,v=p[1]-f,y=2*(h*v-d*g),m=h*h+d*d,b=g*g+v*v,_=[(v*m-d*b)/y+l,(h*b-g*m)/y+f];Ii(e.edge,u,p,_),c.edge=Ai(u,t,null,_),e.edge=Ai(t,p,null,_),Mi(n),Mi(e)}}function Wi(t,n){var e=t.site,r=e[0],i=e[1],o=i-n;if(!o)return r;var a=t.P;if(!a)return-1/0;var s=(e=a.site)[0],c=e[1],u=c-n;if(!u)return s;var l=s-r,f=1/o-1/u,h=l/u;return f?(-h+Hs(h*h-2*f*(l*l/(-2*u)-c+u/2+i-o/2)))/f+r:(r+s)/2}function Gi(t,n){var e=t.N;if(e)return Wi(e,n);var r=t.site;return r[1]===n?r[0]:1/0}function qi(t,n,e){return(t[0]-e[0])*(n[1]-t[1])-(t[0]-n[0])*(e[1]-t[1])}function Yi(t,n){return n[1]-t[1]||n[0]-t[0]}function $i(t,n){var e,r,i,o=t.sort(Yi).pop();for(wh=[],bh=Array(t.length),mh=new xh,_h=new xh;;)if(i=yh,o&&(!i||o[1]<i.y||o[1]===i.y&&o[0]<i.x))(o[0]!==e||o[1]!==r)&&(Vi(o),e=o[0],r=o[1]),o=t.pop();else{if(!i)break;Bi(i.arc)}if(function(){for(var t,n,e,r,i=0,o=bh.length;i<o;++i)if((t=bh[i])&&(r=(n=t.halfedges).length)){var a=Array(r),s=Array(r);for(e=0;e<r;++e)a[e]=e,s[e]=Li(t,wh[n[e]]);for(a.sort((function(t,n){return s[n]-s[t]})),e=0;e<r;++e)s[e]=n[a[e]];for(e=0;e<r;++e)n[e]=s[e]}}(),n){var a=+n[0][0],s=+n[0][1],c=+n[1][0],u=+n[1][1];(function(t,n,e,r){for(var i,o=wh.length;o--;)ji(i=wh[o],t,n,e,r)&&Oi(i,t,n,e,r)&&(Ps(i[0][0]-i[1][0])>Ch||Ps(i[0][1]-i[1][1])>Ch)||delete wh[o]})(a,s,c,u),function(t,n,e,r){var i,o,a,s,c,u,l,f,h,d,p,g,v=bh.length,y=!0;for(i=0;i<v;++i)if(o=bh[i]){for(a=o.site,s=(c=o.halfedges).length;s--;)wh[c[s]]||c.splice(s,1);for(s=0,u=c.length;s<u;)p=(d=Di(o,wh[c[s]]))[0],g=d[1],f=(l=Fi(o,wh[c[++s%u]]))[0],h=l[1],(Ps(p-f)>Ch||Ps(g-h)>Ch)&&(c.splice(s,0,wh.push(ki(a,d,Ps(p-t)<Ch&&r-g>Ch?[t,Ps(f-t)<Ch?h:r]:Ps(g-r)<Ch&&e-p>Ch?[Ps(h-r)<Ch?f:e,r]:Ps(p-e)<Ch&&g-n>Ch?[e,Ps(f-e)<Ch?h:n]:Ps(g-n)<Ch&&p-t>Ch?[Ps(h-n)<Ch?f:t,n]:null))-1),++u);u&&(y=!1)}if(y){var m,b,_,w=1/0;for(i=0,y=null;i<v;++i)(o=bh[i])&&((_=(m=(a=o.site)[0]-t)*m+(b=a[1]-n)*b)<w&&(w=_,y=o));if(y){var x=[t,n],S=[t,r],T=[e,r],C=[e,n];y.halfedges.push(wh.push(ki(a=y.site,x,S))-1,wh.push(ki(a,S,T))-1,wh.push(ki(a,T,C))-1,wh.push(ki(a,C,x))-1)}}for(i=0;i<v;++i)(o=bh[i])&&(o.halfedges.length||delete bh[i])}(a,s,c,u)}this.edges=wh,this.cells=bh,mh=_h=wh=bh=null}function Xi(t,n,e){this.k=t,this.x=n,this.y=e}function Ji(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}function Zi(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}function Qi(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}function Ki(t,n){if("function"!=typeof t||null!=n&&"function"!=typeof n)throw new TypeError(yd);var e=function(){var r=arguments,i=n?n.apply(this,r):r[0],o=e.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return e.cache=o.set(i,a)||o,a};return e.cache=new(Ki.Cache||vd),e}function to(t){if("string"==typeof t)return t;if(Nh(t))return wd(t,to)+"";if(Bh(t))return Td?Td.call(t):"";var n=t+"";return"0"==n&&1/t==-xd?"-0":n}function no(t){var n=this.__data__=new dd(t);this.size=n.size}function eo(t){var n=-1,e=null==t?0:t.length;for(this.__data__=new vd;++n<e;)this.add(t[n])}function ro(t,n){return null!=t&&n in Object(t)}function io(){var t=window,n=t.navigator,e=t.matchMedia,r=!1;if("maxTouchPoints"in n&&0<n.maxTouchPoints||"msMaxTouchPoints"in n&&0<n.msMaxTouchPoints)r=!0;else{var i=e&&e("(pointer:coarse)");if(i&&"(pointer:coarse)"===i.media)r=!!i.matches;else if("orientation"in window)r=!0;else{var o=n.userAgent;r=/\b(BlackBerry|webOS|iPhone|IEMobile)\b/i.test(o)||/\b(Android|Windows Phone|iPad|iPod)\b/i.test(o)}}return r}function oo(t){if(rg(t)){var n=t.match(/\.(\w{3,4})$/g);return 1===n.length?n[0].replace(".",""):""}return""}function ao(t){var n=function(t){var n=oo(t);return-1!==vg(["csv","tsv","json","html","txt","xml"],(function(t){return t===n}))}(t),e=qh(t)&&!ag(t),r=function(t){return Promise.resolve(t)===t}(t);return e||r||n}function so(t){var n=t.cssNames;if(n&&"CSSNames"!==n.constructor.name)throw Error("ScrollyTeller.validateSectionConfig() cssNames must be a CSSNames object.")}function co(t){var n=t.sectionIdentifier,e=t.narration,r=t.buildGraphFunction,i=t.onScrollFunction,o=t.onActivateNarrationFunction;if(Kp(n)||!n.length)throw Error("ScrollyTeller.validateSectionConfig() sectionArray is empty.");if(so(t),!ao(e))throw Error("ScrollyTeller.validateSectionConfig() narration must be an array or a promise.");if(!Yh(r))throw Error("ScrollyTeller.validateSectionConfig() buildGraphFunction must be a function.");if(!Yh(i))throw Error("ScrollyTeller.validateSectionConfig() onScrollFunction must be a function.");if(!Yh(o))throw Error("ScrollyTeller.validateSectionConfig() onActivateNarrationFunction must be a function.")}function uo(t){if("string"!=typeof t&&(t+=""),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function lo(t){return"string"!=typeof t&&(t+=""),t}function fo(t){var n={next:function(){var n=t.shift();return{done:void 0===n,value:n}}};return mg.iterable&&(n[Symbol.iterator]=function(){return n}),n}function ho(t){this.map={},t instanceof ho?t.forEach((function(t,n){this.append(n,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(n){this.append(n,t[n])}),this)}function po(t){return t.bodyUsed?Promise.reject(new TypeError("Already read")):void(t.bodyUsed=!0)}function go(t){return new Promise((function(n,e){t.onload=function(){n(t.result)},t.onerror=function(){e(t.error)}}))}function vo(t){var n=new FileReader,e=go(n);return n.readAsArrayBuffer(t),e}function yo(t){if(t.slice)return t.slice(0);var n=new Uint8Array(t.byteLength);return n.set(new Uint8Array(t)),n.buffer}function mo(){return this.bodyUsed=!1,this._initBody=function(t){this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:mg.blob&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:mg.formData&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:mg.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():mg.arrayBuffer&&mg.blob&&function(t){return t&&DataView.prototype.isPrototypeOf(t)}(t)?(this._bodyArrayBuffer=yo(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):mg.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(t)||_g(t))?this._bodyArrayBuffer=yo(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):mg.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},mg.blob&&(this.blob=function(){var t=po(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?po(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(vo)}),this.text=function(){var t=po(this);if(t)return t;if(this._bodyBlob)return function(t){var n=new FileReader,e=go(n);return n.readAsText(t),e}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var n=new Uint8Array(t),e=Array(n.length),r=0;r<n.length;r++)e[r]=String.fromCharCode(n[r]);return e.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},mg.formData&&(this.formData=function(){return this.text().then(_o)}),this.json=function(){return this.text().then(JSON.parse)},this}function bo(t,n){var e=(n=n||{}).body;if(t instanceof bo){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,n.headers||(this.headers=new ho(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,e||null==t._bodyInit||(e=t._bodyInit,t.bodyUsed=!0)}else this.url=t+"";if(this.credentials=n.credentials||this.credentials||"same-origin",(n.headers||!this.headers)&&(this.headers=new ho(n.headers)),this.method=function(t){var n=t.toUpperCase();return-1<wg.indexOf(n)?n:t}(n.method||this.method||"GET"),this.mode=n.mode||this.mode||null,this.signal=n.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&e)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(e)}function _o(t){var n=new FormData;return t.trim().split("&").forEach((function(t){if(t){var e=t.split("="),r=e.shift().replace(/\+/g," "),i=e.join("=").replace(/\+/g," ");n.append(decodeURIComponent(r),decodeURIComponent(i))}})),n}function wo(t){var n=new ho;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var e=t.split(":"),r=e.shift().trim();if(r){var i=e.join(":").trim();n.append(r,i)}})),n}function xo(t,n){n||(n={}),this.type="default",this.status=void 0===n.status?200:n.status,this.ok=200<=this.status&&300>this.status,this.statusText="statusText"in n?n.statusText:"OK",this.headers=new ho(n.headers),this.url=n.url||"",this._initBody(t)}function So(t,n){return new Promise((function(e,r){function i(){a.abort()}var o=new bo(t,n);if(o.signal&&o.signal.aborted)return r(new Sg("Aborted","AbortError"));var a=new XMLHttpRequest;a.onload=function(){var t={status:a.status,statusText:a.statusText,headers:wo(a.getAllResponseHeaders()||"")};t.url="responseURL"in a?a.responseURL:t.headers.get("X-Request-URL");var n="response"in a?a.response:a.responseText;e(new xo(n,t))},a.onerror=function(){r(new TypeError("Network request failed"))},a.ontimeout=function(){r(new TypeError("Network request failed"))},a.onabort=function(){r(new Sg("Aborted","AbortError"))},a.open(o.method,o.url,!0),"include"===o.credentials?a.withCredentials=!0:"omit"===o.credentials&&(a.withCredentials=!1),"responseType"in a&&mg.blob&&(a.responseType="blob"),o.headers.forEach((function(t,n){a.setRequestHeader(n,t)})),o.signal&&(o.signal.addEventListener("abort",i),a.onreadystatechange=function(){4===a.readyState&&o.signal.removeEventListener("abort",i)}),a.send(void 0===o._bodyInit?null:o._bodyInit)}))}function To(t,n,e,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void e(t)}s.done?n(c):Promise.resolve(c).then(r,i)}function Co(t){return function(){var n=this,e=arguments;return new Promise((function(r,i){function o(t){To(s,r,i,o,a,"next",t)}function a(t){To(s,r,i,o,a,"throw",t)}var s=t.apply(n,e);o(void 0)}))}}function Eo(t,n){var e=kd(t,n);if(rg(e)){var r=oo(e),i=kd({csv:vl,json:ml,tsv:yl,xml:bl,html:_l},r);if(Yh(i))return i(e);throw Error("ScrollyTeller.convertURLToPromise(). URL must have a file extension of .csv, .tsv, .json, .html, .txt, or .xml")}return e}function No(){return Ao.apply(this,arguments)}function Ao(){return(Ao=Co(regeneratorRuntime.mark((function t(n){var e,r,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=Ig(n),r=jg(e,(function(t){return Promise.resolve(Eo(t,"narration"))})),t.next=4,Promise.all(r);case 4:i=t.sent,ng(e,(function(t,e){var r=t.sectionIdentifier;n[r].narration=i[e]}));case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ko(){return Io.apply(this,arguments)}function Io(){return(Io=Co(regeneratorRuntime.mark((function t(n){var e,r,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=Ig(n),r=jg(e,(function(t){return Promise.resolve(Eo(t,"data"))})),t.next=4,Promise.all(r);case 4:i=t.sent,ng(e,(function(t,e){var r=t.sectionIdentifier,o=t.reshapeDataFunction,a=t.functionBindingContext;n[r].data=Yh(o)?o.apply(a,[i[e]]):i[e]}));case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Oo(t,n){return"".concat(function(t,n){return Array(+n+1-t.toString().length).join("0")+t}(t,4),"--").concat(n)}function jo(t){var n=t.maxTimeInSeconds,e=t.startTime,r=Ds((new Date-e)/1e3);return r>=n?n:r}function Lo(t){var n=t.enteringSectionId,e=t.enteringSectionIndex,r=t.enteringNarrationIndex,i=t.maxTimeInSeconds,o=t.pageLoadStartTime,a=t.exitedSectionId,s=t.exitedSectionIndex,c=t.exitedNarrationIndex;window.ga("send",{hitType:"event",eventCategory:"Scroll From-To (SectionIndex---SectionId---NarrationIndex)",eventAction:"From ".concat(Oo(s,a),"--").concat(c),eventLabel:"To ".concat(Oo(e,n),"--").concat(r),eventValue:jo({maxTimeInSeconds:i,startTime:o})}),window.ga("send",{hitType:"event",eventCategory:"Scroll To-From (SectionIndex---SectionId---NarrationIndex)",eventAction:"To ".concat(Oo(e,n),"--").concat(c),eventLabel:"From ".concat(Oo(s,a),"--").concat(r),eventValue:jo({maxTimeInSeconds:i,startTime:o})})}function Fo(t,n){return t.each((function(){var t=n.apply(this,arguments),e=Ec(this);for(var r in t)e.attr(r,t[r])}))}function Do(t,n){for(var e in n)t.attr(e,n[e]);return t}function Po(t,n,e){return t.each((function(){var t=n.apply(this,arguments),r=Ec(this);for(var i in t)r.style(i,t[i],e)}))}function Mo(t,n,e){for(var r in n)t.style(r,n[r],e);return t}function Ro(t,n){return t.each((function(){var t=n.apply(this,arguments),e=Ec(this);for(var r in t)e.property(r,t[r])}))}function Ho(t,n){for(var e in n)t.property(e,n[e]);return t}function zo(t,n){return t.each((function(){var e=n.apply(this,arguments),r=Ec(this).transition(t);for(var i in e)r.attr(i,e[i])}))}function Uo(t,n){for(var e in n)t.attr(e,n[e]);return t}function Bo(t,n,e){return t.each((function(){var r=n.apply(this,arguments),i=Ec(this).transition(t);for(var o in r)i.style(o,r[o],e)}))}function Vo(t,n,e){for(var r in n)t.style(r,n[r],e);return t}function Wo(t){return function(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Go(t){var n=t.graph,e=t.graphContainer,r=t.names,i=t.sectionIdentifier,o=t.state;n.styles(o.graphStyle).attr("class",[r.graphClassNames(i)].concat(Wo(o.graphClass?o.graphClass.split(" "):"")).join(" ")),e.styles(o.containerStyle).attr("class",[r.graphContainerClassNames(i),"active"].concat(Wo(o.containerClass?o.containerClass.split(" "):"")).join(" ")),e.select(".".concat(r.graphCaptionClass())).attr("class",[r.graphCaptionClass()].concat(Wo(o.captionClass?o.captionClass.split(" "):"")).join(" ")).select("text").styles(o.captionStyle),e.select(".".concat(r.graphTitleClass())).attr("class",[r.graphTitleClass()].concat(Wo(o.titleClass?o.titleClass.split(" "):"")).join(" ")).select("text").styles(o.titleStyle)}function qo(t){return"".concat(function(t){if(!eg(t))return document.documentElement.clientHeight*(parseFloat(t)/100)}(t),"px")}function Yo(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;return function(n){return qo(n.marginTopVh*t)}}function $o(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;return function(n){return qo(n.marginBottomVh*t)}}function Xo(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;return function(n){var e=n.minHeightVh,r=n.marginTopVh,i=n.marginBottomVh;return qo(e*t||+r*t+ +i*t)}}function Jo(t,n){var e=t.sectionIdentifier,r=t.cssNames,i=t.narration,o=Ec(".".concat(r.scrollContainer())).append("div").attr("class",r.sectionClass()).attr("id",r.sectionId(e));o.append("div").attr("id",r.graphContainerId(e)).attr("class",r.graphContainerClassNames(e)).append("div").attr("class",r.graphClassNames(e)).attr("id",r.graphId(e)),function(t,n,e){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,i=e.cssNames,o=kd(e,["cssNames","css"]);n.forEach((function(n){var e=n.narrationId,a=n.narrationClass,s=void 0===a?"":a,c=n.h2Text,u=n.paragraphText,l=n.hRefText,f=n.hRef,h="".concat(i.narrationId(e)),d=t.append("div").datum(n).attr("class",o.narrationBlock).attr("id",h).classed(s,!0).style("margin-top",Yo(r)).style("margin-bottom",$o(r)).style("min-height",Xo(r)).append("div").datum(n).attr("class",o.narrationContent);ag(c)||d.append("h2").html(c),ag(u)||d.append("p").html(u),ag(l)||ag(f)||d.append("div").attr("class",o.linkContainer).append("a").attr("href",f).attr("target","_blank").html(l)}))}(o.append("div").attr("class",r.narrationList()),i,t,n)}function Zo(t,n,e){var r=t[n];Jg.call(t,n)&&ld(r,e)&&(void 0!==e||n in t)||Od(t,n,e)}function Qo(t,n,e,r,i){t===n||Ld(n,(function(o,a){if(i||(i=new op),qh(o))nv(t,n,a,e,Qo,r,i);else{var s=r?r(Xg(t,a),o,a+"",t,n,i):void 0;void 0===s&&(s=o),Rg(t,a,s)}}),Kg)}function Ko(t,n){var e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r=function(t,n){if(!rg(t))return t;var e=t.match(/\$(\w+)/g);return e?Pg(e,(function(t,e){return Mg(t,e,n[e.substring(1)])}),t):t}(t,n);try{return ag(r)?e:lv(e,JSON.parse(r))}catch(n){console.warn("malformed JSON in trigger ".concat(t))}return{}}function ta(t,n){for(var e,r=0;r<n.length;r++)(e=n[r]).enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}function na(t,n,e,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void e(t)}s.done?n(c):Promise.resolve(c).then(r,i)}function ea(t){return function(){var n=this,e=arguments;return new Promise((function(r,i){function o(t){na(s,r,i,o,a,"next",t)}function a(t){na(s,r,i,o,a,"throw",t)}var s=t.apply(n,e);o(void 0)}))}}function ra(t,n){for(var e,r=0;r<n.length;r++)(e=n[r]).enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}function ia(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===Sv&&n.documentElement.namespaceURI===Sv?n.createElement(t):n.createElementNS(e,t)}}function oa(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function aa(){this._="@"+(++Nv).toString(36)}function sa(t,n,e){return t=ca(t,n,e),function(n){var e=n.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||t.call(this,n)}}function ca(t,n,e){return function(r){var i=Lv;Lv=r;try{t.call(this,this.__data__,n,e)}finally{Lv=i}}}function ua(t){return t.trim().split(/^|\s+/).map((function(t){var n="",e=t.indexOf(".");return 0<=e&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}}))}function la(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,o=n.length;r<o;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.capture);++i?n.length=i:delete this.__on}}}function fa(t,n,e){var r=jv.hasOwnProperty(t.type)?sa:ca;return function(i,o,a){var s,c=this.__on,u=r(n,o,a);if(c)for(var l=0,f=c.length;l<f;++l)if((s=c[l]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=u,s.capture=e),void(s.value=n);this.addEventListener(t.type,u,e),s={type:t.type,name:t.name,value:n,listener:u,capture:e},c?c.push(s):this.__on=[s]}}function ha(){}function da(){return[]}function pa(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}function ga(t,n,e,r,i,o){for(var a,s=0,c=n.length,u=o.length;s<u;++s)(a=n[s])?(a.__data__=o[s],r[s]=a):e[s]=new pa(t,o[s]);for(;s<c;++s)(a=n[s])&&(i[s]=a)}function va(t,n,e,r,i,o,a){var s,c,u,l={},f=n.length,h=o.length,d=Array(f);for(s=0;s<f;++s)(c=n[s])&&(d[s]=u=Pv+a.call(c,c.__data__,s,n),u in l?i[s]=c:l[u]=c);for(s=0;s<h;++s)(c=l[u=Pv+a.call(t,o[s],s,o)])?(r[s]=c,c.__data__=o[s],l[u]=null):e[s]=new pa(t,o[s]);for(s=0;s<f;++s)(c=n[s])&&l[d[s]]===c&&(i[s]=c)}function ya(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function ma(t){return function(){this.removeAttribute(t)}}function ba(t){return function(){this.removeAttributeNS(t.space,t.local)}}function _a(t,n){return function(){this.setAttribute(t,n)}}function wa(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function xa(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function Sa(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function Ta(t){return function(){this.style.removeProperty(t)}}function Ca(t,n,e){return function(){this.style.setProperty(t,n,e)}}function Ea(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function Na(t){return function(){delete this[t]}}function Aa(t,n){return function(){this[t]=n}}function ka(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function Ia(t){return t.trim().split(/^|\s+/)}function Oa(t){return t.classList||new ja(t)}function ja(t){this._node=t,this._names=Ia(t.getAttribute("class")||"")}function La(t,n){for(var e=Oa(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function Fa(t,n){for(var e=Oa(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function Da(t){return function(){La(this,t)}}function Pa(t){return function(){Fa(this,t)}}function Ma(t,n){return function(){(n.apply(this,arguments)?La:Fa)(this,t)}}function Ra(){this.textContent=""}function Ha(t){return function(){this.textContent=t}}function za(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function Ua(){this.innerHTML=""}function Ba(t){return function(){this.innerHTML=t}}function Va(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function Wa(){this.nextSibling&&this.parentNode.appendChild(this)}function Ga(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function qa(){return null}function Ya(){var t=this.parentNode;t&&t.removeChild(this)}function $a(t,n,e){var r=Mv(t),i=r.CustomEvent;i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function Xa(t,n){return function(){return $a(this,t,n)}}function Ja(t,n){return function(){return $a(this,t,n.apply(this,arguments))}}function Za(t,n){this._groups=t,this._parents=n}function Qa(t){if(!(n=Wv.exec(t)))throw new Error("invalid format: "+t);var n,e=n[1]||" ",r=n[2]||">",i=n[3]||"-",o=n[4]||"",a=!!n[5],s=n[6]&&+n[6],c=!!n[7],u=n[8]&&+n[8].slice(1),l=n[9]||"";"n"===l?(c=!0,l="g"):!Vv[l]&&(l=""),(a||"0"===e&&"="===r)&&(a=!0,e="0",r="="),this.fill=e,this.align=r,this.sign=i,this.symbol=o,this.zero=a,this.width=s,this.comma=c,this.precision=u,this.type=l}function Ka(t){return t}function ts(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new ns(r)}function ns(t){this._=t}function es(t,n){return t.trim().split(/^|\s+/).map((function(t){var e="",r=t.indexOf(".");if(0<=r&&(e=t.slice(r+1),t=t.slice(0,r)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))}function rs(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function is(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=Zv,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}function os(t,n,e){var r=Ps(n-t)/Us(0,e),i=zs(10,Bs(Rs(r)/Ms)),o=r/i;return o>=oy?i*=10:o>=ay?i*=5:o>=sy&&(i*=2),n<t?-i:i}function as(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:dy(n)}function ss(t,n,e,r){var i=t[0],o=t[1],a=n[0],s=n[1];return o<i?(i=e(o,i),a=r(s,a)):(i=e(i,o),a=r(a,s)),function(t){return a(i(t))}}function cs(t,n,e,r){var i=Ws(t.length,n.length)-1,o=Array(i),a=Array(i),s=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++s<i;)o[s]=e(t[s],t[s+1]),a[s]=r(n[s],n[s+1]);return function(n){var e=ry(t,n,1,i)-1;return a[e](o[e](n))}}function us(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function ls(t,n){function e(){return i=2<Ws(s.length,c.length)?cs:ss,o=a=null,r}function r(n){return(o||(o=i(s,c,l?function(t){return function(n,e){var r=t(n=+n,e=+e);return function(t){return t<=n?0:t>=e?1:r(t)}}}(t):t,u)))(+n)}var i,o,a,s=gy,c=gy,u=yu,l=!1;return r.invert=function(t){return(a||(a=i(c,s,as,l?function(t){return function(n,e){var r=t(n=+n,e=+e);return function(t){return 0>=t?n:1<=t?e:r(t)}}}(n):n)))(+t)},r.domain=function(t){return arguments.length?(s=fy.call(t,py),e()):s.slice()},r.range=function(t){return arguments.length?(c=hy.call(t),e()):c.slice()},r.rangeRound=function(t){return c=hy.call(t),u=mu,e()},r.clamp=function(t){return arguments.length?(l=!!t,e()):l},r.interpolate=function(t){return arguments.length?(u=t,e()):u},e()}function fs(){var t=ls(as,hu);return t.copy=function(){return us(t,fs())},function(t){var n=t.domain;return t.ticks=function(t){var e=n();return cy(e[0],e[e.length-1],null==t?10:t)},t.tickFormat=function(t,e){return vy(n(),t,e)},t.nice=function(e){var r=n(),i=r.length-1,o=null==e?10:e,a=r[0],s=r[i],c=os(a,s,o);return c&&(c=os(Bs(a/c)*c,Vs(s/c)*c,o),r[0]=Bs(a/c)*c,r[i]=Vs(s/c)*c,n(r)),t},t}(t)}function hs(t){var n=t.length;return function(e){return t[Us(0,Ws(n-1,Bs(e*n)))]}}function ds(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function ps(t){for(var n,e=1;e<arguments.length;e++)n=null==arguments[e]?{}:arguments[e],e%2?ds(n,!0).forEach((function(e){gs(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ds(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}));return t}function gs(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function vs(t,n){for(var e,r=0;r<n.length;r++)(e=n[r]).enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}function ys(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function ms(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function bs(t,n){if(null==t)return{};var e,r,i=function(t,n){if(null==t)return{};var e,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)e=o[r],0<=n.indexOf(e)||(i[e]=t[e]);return i}(t,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)e=o[r],!(0<=n.indexOf(e))&&Object.prototype.propertyIsEnumerable.call(t,e)&&(i[e]=t[e])}return i}function _s(t){return function(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ws(t){var n=t.graphId,e=t.state,r=e.year,i=e.snippet,o=e.highlight,a=e.svgFileName,s=t.sectionConfig.graph,c=s.$codeSnippetSelection,u=s.wealthAndHealthSelector,l=s.wealthAndHealthGraph,f=t.width,h=t.height,d="";i&&(d=i.includes("HTML")?Cy[i]:'<pre class="prettyprint lang-js linenums:5">'.concat(Cy[i],"</pre>")),c.html(d),PR.prettyPrint(),i&&o&&mv(c,o.toString().split(","),Ny),bv(n,{svgFileName:a},Ey.svgFileName),Ey.svgFileName=a,i||a?Ec(u).style("opacity",0):(Ec(u).style("opacity",1),f&&h?l.resize({width:f,height:h}):!eg(r)&&l.render({year:+r,duration:1e3}))}var xs=Math.log2,Ss=Math.log10,Ts=Math.E,Cs=Math.sign,Es=Math.tan,Ns=Math.acos,As=Math.asin,ks=Math.exp,Is=Math.atan,Os=Math.atan2,js=Math.sin,Ls=Math.cos,Fs=Math.PI,Ds=Math.round,Ps=(Math.LN2,Math.abs),Ms=Math.LN10,Rs=Math.log,Hs=Math.sqrt,zs=Math.pow,Us=Math.max,Bs=Math.floor,Vs=Math.ceil,Ws=Math.min;e.r(n);var Gs=function(t,n){return t<n?-1:t>n?1:t>=n?0:NaN},qs=function(t){return 1===t.length&&(t=function(t){return function(n,e){return Gs(t(n),e)}}(t)),{left:function(n,e,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){var o=r+i>>>1;0>t(n[o],e)?r=o+1:i=o}return r},right:function(n,e,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){var o=r+i>>>1;0<t(n[o],e)?i=o:r=o+1}return r}}},Ys=qs(Gs),$s=Ys.right,Xs=(Ys.left,$s),Js=function(t,n){var e,r,i,o=t.length,a=-1;if(null==n){for(;++a<o;)if(null!=(e=t[a])&&e>=e)for(r=i=e;++a<o;)null!=(e=t[a])&&(r>e&&(r=e),i<e&&(i=e))}else for(;++a<o;)if(null!=(e=n(t[a],a,t))&&e>=e)for(r=i=e;++a<o;)null!=(e=n(t[a],a,t))&&(r>e&&(r=e),i<e&&(i=e));return[r,i]},Zs=Array.prototype,Qs=(Zs.slice,Zs.map,7.0710678118654755),Ks=3.1622776601683795,tc=1.4142135623730951,nc=function(t,n,e){var i,o,a,s,c=-1;if(e=+e,(t=+t)===(n=+n)&&0<e)return[t];if((i=n<t)&&(o=t,t=n,n=o),0===(s=r(t,n,e))||!isFinite(s))return[];if(0<s)for(t=Vs(t/s),n=Bs(n/s),a=Array(o=Vs(n-t+1));++c<o;)a[c]=(t+c)*s;else for(t=Bs(t*s),n=Vs(n*s),a=Array(o=Vs(t-n+1));++c<o;)a[c]=(t-c)/s;return i&&a.reverse(),a},ec=function(t){for(var n,e,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(e=Array(a);0<=--i;)for(n=(r=t[i]).length;0<=--n;)e[--a]=r[n];return e},rc=Array.prototype.slice,ic=function(t){return t},oc=1,ac=2,sc=3,cc=4,uc=1e-6,lc={value:function(){}};h.prototype=f.prototype={constructor:h,on:function(t,n){var e,r=this._,i=d(t+"",r),o=-1,a=i.length;if(!(2>arguments.length)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++o<a;)if(e=(t=i[o]).type)r[e]=g(r[e],t.name,n);else if(null==n)for(e in r)r[e]=g(r[e],t.name,null);return this}for(;++o<a;)if((e=(t=i[o]).type)&&(e=p(r[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new h(t)},call:function(t,n){if(0<(e=arguments.length-2))for(var e,r,i=Array(e),o=0;o<e;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,e=(r=this._[t]).length;o<e;++o)r[o].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};var fc=f,hc="http://www.w3.org/1999/xhtml",dc={svg:"http://www.w3.org/2000/svg",xhtml:hc,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},pc=function(t){var n=t+="",e=n.indexOf(":");return 0<=e&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),dc.hasOwnProperty(n)?{space:dc[n],local:t}:t},gc=function(t){var n=pc(t);return(n.local?y:v)(n)},vc=function(t){return null==t?m:function(){return this.querySelector(t)}},yc=function(t){return null==t?b:function(){return this.querySelectorAll(t)}},mc=function(t){return function(){return this.matches(t)}},bc=function(t){return Array(t.length)};_.prototype={constructor:_,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var _c="$",wc=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};H.prototype={add:function(t){0>this._names.indexOf(t)&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);0<=n&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return 0<=this._names.indexOf(t)}};var xc={},Sc=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(xc={mouseenter:"mouseover",mouseleave:"mouseout"}));var Tc=[null];ft.prototype=ht.prototype={constructor:ft,select:function(t){"function"!=typeof t&&(t=vc(t));for(var n=this._groups,e=n.length,r=Array(e),i=0;i<e;++i)for(var o,a,s=n[i],c=s.length,u=r[i]=Array(c),l=0;l<c;++l)(o=s[l])&&(a=t.call(o,o.__data__,l,s))&&("__data__"in o&&(a.__data__=o.__data__),u[l]=a);return new ft(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=yc(t));for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var a,s=n[o],c=s.length,u=0;u<c;++u)(a=s[u])&&(r.push(t.call(a,a.__data__,u,s)),i.push(a));return new ft(r,i)},filter:function(t){"function"!=typeof t&&(t=mc(t));for(var n=this._groups,e=n.length,r=Array(e),i=0;i<e;++i)for(var o,a=n[i],s=a.length,c=r[i]=[],u=0;u<s;++u)(o=a[u])&&t.call(o,o.__data__,u,a)&&c.push(o);return new ft(r,this._parents)},data:function(t,n){if(!t)return d=Array(this.size()),u=-1,this.each((function(t){d[++u]=t})),d;var e=n?x:w,r=this._parents,i=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var o=i.length,a=Array(o),s=Array(o),c=Array(o),u=0;u<o;++u){var l=r[u],f=i[u],h=f.length,d=t.call(l,l&&l.__data__,u,r),p=d.length,g=s[u]=Array(p),v=a[u]=Array(p);e(l,f,g,v,c[u]=Array(h),d,n);for(var y,m,b=0,_=0;b<p;++b)if(y=g[b]){for(b>=_&&(_=b+1);!(m=v[_])&&++_<p;);y._next=m||null}}return(a=new ft(a,r))._enter=s,a._exit=c,a},enter:function(){return new ft(this._enter||this._groups.map(bc),this._parents)},exit:function(){return new ft(this._exit||this._groups.map(bc),this._parents)},join:function(t,n,e){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=n&&(i=n(i)),null==e?o.remove():e(o),r&&i?r.merge(i).order():i},merge:function(t){for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Ws(r,i),a=Array(r),s=0;s<o;++s)for(var c,u=n[s],l=e[s],f=u.length,h=a[s]=Array(f),d=0;d<f;++d)(c=u[d]||l[d])&&(h[d]=c);for(;s<r;++s)a[s]=n[s];return new ft(a,this._parents)},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,a=i[o];0<=--o;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=S);for(var e=this._groups,r=e.length,i=Array(r),o=0;o<r;++o){for(var a,s=e[o],c=s.length,u=i[o]=Array(c),l=0;l<c;++l)(a=s[l])&&(u[l]=a);u.sort(n)}return new ft(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=Array(this.size()),n=-1;return this.each((function(){t[++n]=this})),t},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r,i=t[n],o=0,a=i.length;o<a;++o)if(r=i[o])return r;return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,n){var e=pc(t);if(2>arguments.length){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?C:T:"function"==typeof n?e.local?k:A:e.local?N:E)(e,n))},style:function(t,n,e){return 1<arguments.length?this.each((null==n?I:"function"==typeof n?j:O)(t,n,null==e?"":e)):L(this.node(),t)},property:function(t,n){return 1<arguments.length?this.each((null==n?F:"function"==typeof n?P:D)(t,n)):this.node()[t]},classed:function(t,n){var e=M(t+"");if(2>arguments.length){for(var r=R(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?W:n?B:V)(e,n))},text:function(t){return arguments.length?this.each(null==t?G:("function"==typeof t?Y:q)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?$:("function"==typeof t?J:X)(t)):this.node().innerHTML},raise:function(){return this.each(Z)},lower:function(){return this.each(Q)},append:function(t){var n="function"==typeof t?t:gc(t);return this.select((function(){return this.appendChild(n.apply(this,arguments))}))},insert:function(t,n){var e="function"==typeof t?t:gc(t),r=null==n?K:"function"==typeof n?n:vc(n);return this.select((function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(tt)},clone:function(t){return this.select(t?et:nt)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,o=ot(t+""),a=o.length;if(!(2>arguments.length)){for(s=n?st:at,null==e&&(e=!1),r=0;r<a;++r)this.each(s(o[r],n,e));return this}var s=this.node().__on;if(s)for(var c,u=0,l=s.length;u<l;++u)for(r=0,c=s[u];r<a;++r)if((i=o[r]).type===c.type&&i.name===c.name)return c.value},dispatch:function(t,n){return this.each(("function"==typeof n?lt:ut)(t,n))}};var Cc=ht,Ec=function(t){return"string"==typeof t?new ft([[document.querySelector(t)]],[document.documentElement]):new ft([[t]],Tc)},Nc=0;dt.prototype=function(){return new dt}.prototype={constructor:dt,get:function(t){for(var n=this._;!(n in t);)if(!(t=t.parentNode))return;return t[n]},set:function(t,n){return t[this._]=n},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var Ac=function(t){return"string"==typeof t?new ft([document.querySelectorAll(t)],[document.documentElement]):new ft([null==t?[]:t],Tc)},kc=function(t,n,e){t.prototype=n.prototype=e,e.constructor=t},Ic=1/.7,Oc=/^#([0-9a-f]{3})$/,jc=/^#([0-9a-f]{6})$/,Lc=/^rgb\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*\)$/,Fc=/^rgb\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*\)$/,Dc=/^rgba\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,Pc=/^rgba\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,Mc=/^hsl\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*\)$/,Rc=/^hsla\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,Hc={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};kc(gt,vt,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}}),kc(wt,_t,pt(gt,{brighter:function(t){return t=null==t?Ic:zs(Ic,t),new wt(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:zs(.7,t),new wt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&255>=this.r&&0<=this.g&&255>=this.g&&0<=this.b&&255>=this.b&&0<=this.opacity&&1>=this.opacity},hex:function(){return"#"+xt(this.r)+xt(this.g)+xt(this.b)},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Us(0,Ws(1,t)))?"rgb(":"rgba(")+Us(0,Ws(255,Ds(this.r)||0))+", "+Us(0,Ws(255,Ds(this.g)||0))+", "+Us(0,Ws(255,Ds(this.b)||0))+(1===t?")":", "+t+")")}})),kc(Ct,Tt,pt(gt,{brighter:function(t){return t=null==t?Ic:zs(Ic,t),new Ct(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:zs(.7,t),new Ct(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(0>this.h),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(.5>e?e:1-e)*n,i=2*e-r;return new wt(Et(240<=t?t-240:t+120,i,r),Et(t,i,r),Et(120>t?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity}}));var zc=Fs/180,Uc=180/Fs,Bc=.96422,Vc=1,Wc=.82521,Gc=4/29,qc=6/29,Yc=3*qc*qc,$c=qc*qc*qc;kc(At,(function(t,n,e,r){return 1===arguments.length?Nt(t):new At(t,n,e,null==r?1:r)}),pt(gt,{brighter:function(t){return new At(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new At(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;return new wt(Ot(3.1338561*(n=Bc*It(n))-1.6168667*(t=Vc*It(t))-.4906146*(e=Wc*It(e))),Ot(-.9787684*n+1.9161415*t+.033454*e),Ot(.0719453*n-.2289914*t+1.4052427*e),this.opacity)}})),kc(Ft,Lt,pt(gt,{brighter:function(t){return new Ft(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new Ft(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return Nt(this).rgb()}}));var Xc=1.78277,Jc=-.29227,Zc=-.90649,Qc=1.97294,Kc=Qc*Zc,tu=Qc*Xc,nu=Xc*Jc- -.14861*Zc;kc(Pt,Dt,pt(gt,{brighter:function(t){return t=null==t?Ic:zs(Ic,t),new Pt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:zs(.7,t),new Pt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*zc,n=+this.l,e=isNaN(this.s)?0:this.s*n*(1-n),r=Ls(t),i=js(t);return new wt(255*(n+e*(-.14861*r+Xc*i)),255*(n+e*(Jc*r+Zc*i)),255*(n+e*(Qc*r)),this.opacity)}}));var eu,ru,iu,ou,au,su,cu=function(t){return function(){return t}},uu=function t(n){function e(t,n){var e=r((t=_t(t)).r,(n=_t(n)).r),i=r(t.g,n.g),o=r(t.b,n.b),a=Ut(t.opacity,n.opacity);return function(n){return t.r=e(n),t.g=i(n),t.b=o(n),t.opacity=a(n),t+""}}var r=zt(n);return e.gamma=t,e}(1),lu=(Bt((function(t){var n=t.length-1;return function(e){var r=0>=e?e=0:1<=e?(e=1,n-1):Bs(e*n),i=t[r],o=t[r+1],a=0<r?t[r-1]:2*i-o,s=r<n-1?t[r+2]:2*o-i;return Mt((e-r/n)*n,a,i,o,s)}})),Bt((function(t){var n=t.length;return function(e){var r=Bs((0>(e%=1)?++e:e)*n),i=t[(r+n-1)%n],o=t[r%n],a=t[(r+1)%n],s=t[(r+2)%n];return Mt((e-r/n)*n,i,o,a,s)}})),function(t,n){var e,r=n?n.length:0,i=t?Ws(r,t.length):0,o=Array(i),a=Array(r);for(e=0;e<i;++e)o[e]=yu(t[e],n[e]);for(;e<r;++e)a[e]=n[e];return function(t){for(e=0;e<i;++e)a[e]=o[e](t);return a}}),fu=function(t,n){var e=new Date;return n-=t=+t,function(r){return e.setTime(t+n*r),e}},hu=function(t,n){return n-=t=+t,function(e){return t+n*e}},du=function(t,n){var e,r={},i={};for(e in(null===t||"object"!=typeof t)&&(t={}),(null===n||"object"!=typeof n)&&(n={}),n)e in t?r[e]=yu(t[e],n[e]):i[e]=n[e];return function(t){for(e in r)i[e]=r[e](t);return i}},pu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,gu=new RegExp(pu.source,"g"),vu=function(t,n){var e,r,i,o=pu.lastIndex=gu.lastIndex=0,a=-1,s=[],c=[];for(t+="",n+="";(e=pu.exec(t))&&(r=gu.exec(n));)(i=r.index)>o&&(i=n.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(e=e[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,c.push({i:a,x:hu(e,r)})),o=gu.lastIndex;return o<n.length&&(i=n.slice(o),s[a]?s[a]+=i:s[++a]=i),2>s.length?c[0]?function(t){return function(n){return t(n)+""}}(c[0].x):function(t){return function(){return t}}(n):(n=c.length,function(t){for(var e,r=0;r<n;++r)s[(e=c[r]).i]=e.x(t);return s.join("")})},yu=function(t,n){var e,r=typeof n;return null==n||"boolean"==r?cu(n):("number"==r?hu:"string"==r?(e=vt(n))?(n=e,uu):vu:n instanceof vt?uu:n instanceof Date?fu:Array.isArray(n)?lu:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?du:hu)(t,n)},mu=function(t,n){return n-=t=+t,function(e){return Ds(t+n*e)}},bu=180/Fs,_u={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},wu=function(t,n,e,r,i,o){var a,s,c;return(a=Hs(t*t+n*n))&&(t/=a,n/=a),(c=t*e+n*r)&&(e-=t*c,r-=n*c),(s=Hs(e*e+r*r))&&(e/=s,r/=s,c/=s),t*r<n*e&&(t=-t,n=-n,c=-c,a=-a),{translateX:i,translateY:o,rotate:Os(n,t)*bu,skewX:Is(c)*bu,scaleX:a,scaleY:s}},xu=Vt((function(t){return"none"===t?_u:(eu||(eu=document.createElement("DIV"),ru=document.documentElement,iu=document.defaultView),eu.style.transform=t,t=iu.getComputedStyle(ru.appendChild(eu),null).getPropertyValue("transform"),ru.removeChild(eu),t=t.slice(7,-1).split(","),wu(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}),"px, ","px)","deg)"),Su=Vt((function(t){return null==t?_u:(ou||(ou=document.createElementNS("http://www.w3.org/2000/svg","g")),ou.setAttribute("transform",t),(t=ou.transform.baseVal.consolidate())?(t=t.matrix,wu(t.a,t.b,t.c,t.d,t.e,t.f)):_u)}),", ",")",")"),Tu=(Math.SQRT2,Wt(Ht),Wt(Ut),Gt(Ht),Gt(Ut),qt(Ht),qt(Ut)),Cu=0,Eu=0,Nu=0,Au=1e3,ku=0,Iu=0,Ou=0,ju="object"==typeof performance&&performance.now?performance:Date,Lu="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};Xt.prototype=Jt.prototype={constructor:Xt,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?Yt():+e)+(null==n?0:+n),this._next||su===this||(su?su._next=this:au=this,su=this),this._call=t,this._time=e,Kt()},stop:function(){this._call&&(this._call=null,this._time=1/0,Kt())}};var Fu=function(t,n,e){var r=new Xt;return n=null==n?0:+n,r.restart((function(e){r.stop(),t(e+n)}),n,e),r},Du=fc("start","end","cancel","interrupt"),Pu=[],Mu=0,Ru=1,Hu=2,zu=3,Uu=4,Bu=5,Vu=6,Wu=function(t,n,e,r,i,o){var a=t.__transition;if(a){if(e in a)return}else t.__transition={};!function(t,n,e){function r(c){var u,l,f,h;if(e.state!==Ru)return o();for(u in s)if((h=s[u]).name===e.name){if(h.state===zu)return Fu(r);h.state===Uu?(h.state=Vu,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete s[u]):+u<n&&(h.state=Vu,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete s[u])}if(Fu((function(){e.state===zu&&(e.state=Uu,e.timer.restart(i,e.delay,e.time),i(c))})),e.state=Hu,e.on.call("start",t,t.__data__,e.index,e.group),e.state===Hu){for(e.state=zu,a=Array(f=e.tween.length),u=0,l=-1;u<f;++u)(h=e.tween[u].value.call(t,t.__data__,e.index,e.group))&&(a[++l]=h);a.length=l+1}}function i(n){for(var r=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(o),e.state=Bu,1),i=-1,s=a.length;++i<s;)a[i].call(t,r);e.state===Bu&&(e.on.call("end",t,t.__data__,e.index,e.group),o())}function o(){for(var r in e.state=Vu,e.timer.stop(),delete s[n],s)return;delete t.__transition}var a,s=t.__transition;s[n]=e,e.timer=Jt((function(t){e.state=Ru,e.timer.restart(r,e.delay,e.time),e.delay<=t&&r(t-e.delay)}),0,e.time)}(t,e,{name:n,index:r,group:i,on:Du,tween:Pu,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Mu})},Gu=function(t,n){var e,r,i,o=t.__transition,a=!0;if(o){for(i in n=null==n?null:n+"",o)(e=o[i]).name===n?(r=e.state>Hu&&e.state<Bu,e.state=Vu,e.timer.stop(),e.on.call(r?"interrupt":"cancel",t,t.__data__,e.index,e.group),delete o[i]):a=!1;a&&delete t.__transition}},qu=function(t,n){var e;return("number"==typeof n?hu:n instanceof vt?uu:(e=vt(n))?(n=e,uu):vu)(t,n)},Yu=Cc.prototype.constructor,$u=0,Xu=Cc.prototype;Sn.prototype=Tn.prototype={constructor:Sn,select:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=vc(t));for(var r=this._groups,i=r.length,o=Array(i),a=0;a<i;++a)for(var s,c,u=r[a],l=u.length,f=o[a]=Array(l),h=0;h<l;++h)(s=u[h])&&(c=t.call(s,s.__data__,h,u))&&("__data__"in s&&(c.__data__=s.__data__),f[h]=c,Wu(f[h],n,e,h,f,en(s,e)));return new Sn(o,this._parents,n,e)},selectAll:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=yc(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var c,u=r[s],l=u.length,f=0;f<l;++f)if(c=u[f]){for(var h,d=t.call(c,c.__data__,f,u),p=en(c,e),g=0,v=d.length;g<v;++g)(h=d[g])&&Wu(h,n,e,g,d,p);o.push(d),a.push(c)}return new Sn(o,a,n,e)},filter:function(t){"function"!=typeof t&&(t=mc(t));for(var n=this._groups,e=n.length,r=Array(e),i=0;i<e;++i)for(var o,a=n[i],s=a.length,c=r[i]=[],u=0;u<s;++u)(o=a[u])&&t.call(o,o.__data__,u,a)&&c.push(o);return new Sn(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Ws(r,i),a=Array(r),s=0;s<o;++s)for(var c,u=n[s],l=e[s],f=u.length,h=a[s]=Array(f),d=0;d<f;++d)(c=u[d]||l[d])&&(h[d]=c);for(;s<r;++s)a[s]=n[s];return new Sn(a,this._parents,this._name,this._id)},selection:function(){return new Yu(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,e=Cn(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],c=s.length,u=0;u<c;++u)if(a=s[u]){var l=en(a,n);Wu(a,t,e,u,s,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new Sn(r,this._parents,t,e)},call:Xu.call,nodes:Xu.nodes,node:Xu.node,size:Xu.size,empty:Xu.empty,each:Xu.each,on:function(t,n){var e=this._id;return 2>arguments.length?en(this.node(),e).on.on(t):this.each(_n(e,t,n))},attr:function(t,n){var e=pc(t),r="transform"===e?Su:qu;return this.attrTween(t,"function"==typeof n?(e.local?hn:fn)(e,r,an(this,"attr."+t,n)):null==n?(e.local?cn:sn)(e):(e.local?ln:un)(e,r,n))},attrTween:function(t,n){var e="attr."+t;if(2>arguments.length)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;var r=pc(t);return this.tween(e,(r.local?dn:pn)(r,n))},style:function(t,n,e){var r="transform"==(t+="")?xu:qu;return null==n?this.styleTween(t,function(t,n){var e,r,i;return function(){var o=L(this,t),a=(this.style.removeProperty(t),L(this,t));return o===a?null:o===e&&a===r?i:i=n(e=o,r=a)}}(t,r)).on("end.style."+t,wn(t)):"function"==typeof n?this.styleTween(t,function(t,n,e){var r,i,o;return function(){var a=L(this,t),s=e(this),c=s+"";return null==s&&(this.style.removeProperty(t),c=s=L(this,t)),a===c?null:a===r&&c===i?o:(i=c,o=n(r=a,s))}}(t,r,an(this,"style."+t,n))).each(function(t,n){var e,r,i,o,a="style."+n;return function(){var s=nn(this,t),c=s.on,u=null==s.value[a]?o||(o=wn(n)):void 0;(c!==e||i!==u)&&(r=(e=c).copy()).on("end."+a,i=u),s.on=r}}(this._id,t)):this.styleTween(t,function(t,n,e){var r,i;return function(){var o=L(this,t);return o===e+""?null:o===r?i:i=n(r=o,e)}}(t,r,n),e).on("end.style."+t,null)},styleTween:function(t,n,e){var r="style."+(t+="");if(2>arguments.length)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,xn(t,n,null==e?"":e))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var n=t(this);this.textContent=null==n?"":n}}(an(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},remove:function(){return this.on("end.remove",function(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}(this._id))},tween:function(t,n){var e=this._id;if(t+="",2>arguments.length){for(var r,i=en(this.node(),e).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==n?rn:on)(e,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?gn:vn)(n,t)):en(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?yn:mn)(n,t)):en(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(bn(n,t)):en(this.node(),n).ease},end:function(){var t,n,e=this,r=e._id,i=e.size();return new Promise((function(o,a){var s={value:a},c={value:function(){0==--i&&o()}};e.each((function(){var e=nn(this,r),i=e.on;i!==t&&((n=(t=i).copy())._.cancel.push(s),n._.interrupt.push(s),n._.end.push(c)),e.on=n}))}))}};(function t(n){function e(t){return zs(t,n)}return n=+n,e.exponent=t,e})(3),function t(n){function e(t){return 1-zs(1-t,n)}return n=+n,e.exponent=t,e}(3),function t(n){function e(t){return(1>=(t*=2)?zs(t,n):2-zs(2-t,n))/2}return n=+n,e.exponent=t,e}(3);var Ju=1.70158,Zu=(function t(n){function e(t){return t*t*((n+1)*t-n)}return n=+n,e.overshoot=t,e}(Ju),function t(n){function e(t){return--t*t*((n+1)*t+n)+1}return n=+n,e.overshoot=t,e}(Ju),function t(n){function e(t){return(1>(t*=2)?t*t*((n+1)*t-n):(t-=2)*t*((n+1)*t+n)+2)/2}return n=+n,e.overshoot=t,e}(Ju),2*Fs),Qu=(function t(n,e){function r(t){return n*zs(2,10*--t)*js((i-t)/e)}var i=As(1/(n=Us(1,n)))*(e/=Zu);return r.amplitude=function(n){return t(n,e*Zu)},r.period=function(e){return t(n,e)},r}(1,.3),function t(n,e){function r(t){return 1-n*zs(2,-10*(t=+t))*js((t+i)/e)}var i=As(1/(n=Us(1,n)))*(e/=Zu);return r.amplitude=function(n){return t(n,e*Zu)},r.period=function(e){return t(n,e)},r}(1,.3),function t(n,e){function r(t){return(0>(t=2*t-1)?n*zs(2,10*t)*js((i-t)/e):2-n*zs(2,-10*t)*js((i+t)/e))/2}var i=As(1/(n=Us(1,n)))*(e/=Zu);return r.amplitude=function(n){return t(n,e*Zu)},r.period=function(e){return t(n,e)},r}(1,.3),{time:null,delay:0,duration:250,ease:function(t){return(1>=(t*=2)?t*t*t:(t-=2)*t*t+2)/2}});Cc.prototype.interrupt=function(t){return this.each((function(){Gu(this,t)}))},Cc.prototype.transition=function(t){var n,e;t instanceof Sn?(n=t._id,t=t._name):(n=Cn(),(e=Qu).time=Yt(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],c=s.length,u=0;u<c;++u)(a=s[u])&&Wu(a,t,n,u,s,e||En(a,n));return new Sn(r,this._parents,t,n)};["w","e"].map(Nn),["n","s"].map(Nn),["n","w","e","s","nw","ne","sw","se"].map(Nn),Array.prototype.slice;var Ku=Fs,tl=2*Ku,nl=1e-6;An.prototype=kn.prototype={constructor:An,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,e,r){this._+="Q"+ +t+","+ +n+","+(this._x1=+e)+","+(this._y1=+r)},bezierCurveTo:function(t,n,e,r,i,o){this._+="C"+ +t+","+ +n+","+ +e+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,n,e,r,i){t=+t,n=+n,e=+e,r=+r,i=+i;var o=this._x1,a=this._y1,s=e-t,c=r-n,u=o-t,l=a-n,f=u*u+l*l;if(0>i)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(f>nl)if(Ps(l*s-c*u)>nl&&i){var h=e-o,d=r-a,p=s*s+c*c,g=Hs(p),v=Hs(f),y=i*Es((Ku-Ns((p+f-(h*h+d*d))/(2*g*v)))/2),m=y/v,b=y/g;Ps(m-1)>nl&&(this._+="L"+(t+m*u)+","+(n+m*l)),this._+="A"+i+","+i+",0,0,"+ +(l*h>u*d)+","+(this._x1=t+b*s)+","+(this._y1=n+b*c)}else this._+="L"+(this._x1=t)+","+(this._y1=n);else;},arc:function(t,n,e,r,i,o){t=+t,n=+n,o=!!o;var a=(e=+e)*Ls(r),s=e*js(r),c=t+a,u=n+s,l=1^o,f=o?r-i:i-r;if(0>e)throw new Error("negative radius: "+e);null===this._x1?this._+="M"+c+","+u:(Ps(this._x1-c)>nl||Ps(this._y1-u)>nl)&&(this._+="L"+c+","+u),e&&(0>f&&(f=f%tl+tl),f>tl-nl?this._+="A"+e+","+e+",0,1,"+l+","+(t-a)+","+(n-s)+"A"+e+","+e+",0,1,"+l+","+(this._x1=c)+","+(this._y1=u):f>nl&&(this._+="A"+e+","+e+",0,"+ +(f>=Ku)+","+l+","+(this._x1=t+e*Ls(i))+","+(this._y1=n+e*js(i))))},rect:function(t,n,e,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +e+"v"+ +r+"h"+-e+"Z"},toString:function(){return this._}};var el="$";In.prototype=On.prototype={constructor:In,has:function(t){return el+t in this},get:function(t){return this[el+t]},set:function(t,n){return this[el+t]=n,this},remove:function(t){var n=el+t;return n in this&&delete this[n]},clear:function(){for(var t in this)t[0]===el&&delete this[t]},keys:function(){var t=[];for(var n in this)n[0]===el&&t.push(n.slice(1));return t},values:function(){var t=[];for(var n in this)n[0]===el&&t.push(this[n]);return t},entries:function(){var t=[];for(var n in this)n[0]===el&&t.push({key:n.slice(1),value:this[n]});return t},size:function(){var t=0;for(var n in this)n[0]===el&&++t;return t},empty:function(){for(var t in this)if(t[0]===el)return!1;return!0},each:function(t){for(var n in this)n[0]===el&&t(this[n],n.slice(1),this)}};var rl=On,il=rl.prototype;jn.prototype=function(t,n){var e=new jn;if(t instanceof jn)t.each((function(t){e.add(t)}));else if(t){var r=-1,i=t.length;if(null==n)for(;++r<i;)e.add(t[r]);else for(;++r<i;)e.add(n(t[r],r,t))}return e}.prototype={constructor:jn,has:il.has,add:function(t){return this[el+(t+="")]=t,this},remove:il.remove,clear:il.clear,values:il.keys,size:il.size,empty:il.empty,each:il.each};Array.prototype.slice;var ol={},al={},sl=34,cl=10,ul=13,ll=function(t){function n(t,n){function e(){if(u)return al;if(l)return l=!1,ol;var n,e,r=s;if(t.charCodeAt(r)===sl){for(;s++<o&&t.charCodeAt(s)!==sl||t.charCodeAt(++s)===sl;);return(n=s)>=o?u=!0:(e=t.charCodeAt(s++))===cl?l=!0:e===ul&&(l=!0,t.charCodeAt(s)===cl&&++s),t.slice(r+1,n-1).replace(/""/g,'"')}for(;s<o;){if((e=t.charCodeAt(n=s++))===cl)l=!0;else if(e===ul)l=!0,t.charCodeAt(s)===cl&&++s;else if(e!==a)continue;return t.slice(r,n)}return u=!0,t.slice(r,o)}var r,i=[],o=t.length,s=0,c=0,u=0>=o,l=!1;for(t.charCodeAt(o-1)===cl&&--o,t.charCodeAt(o-1)===ul&&--o;(r=e())!==al;){for(var f=[];r!==ol&&r!==al;)f.push(r),r=e();n&&null==(f=n(f,c++))||i.push(f)}return i}function e(n,e){return n.map((function(n){return e.map((function(t){return i(n[t])})).join(t)}))}function r(n){return n.map(i).join(t)}function i(t){return null==t?"":t instanceof Date?Pn(t):o.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}var o=new RegExp('["'+t+"\n\r]"),a=t.charCodeAt(0);return{parse:function(t,e){var r,i,o=n(t,(function(t,n){return r?r(t,n-1):(i=t,void(r=e?function(t,n){var e=Ln(t);return function(r,i){return n(e(r),i,t)}}(t,e):Ln(t)))}));return o.columns=i||[],o},parseRows:n,format:function(n,r){return null==r&&(r=Fn(n)),[r.map(i).join(t)].concat(e(n,r)).join("\n")},formatBody:function(t,n){return null==n&&(n=Fn(t)),e(t,n).join("\n")},formatRows:function(t){return t.map(r).join("\n")}}},fl=ll(","),hl=fl.parse,dl=(fl.parseRows,fl.format,fl.formatBody,fl.formatRows,ll("\t")),pl=dl.parse,gl=(dl.parseRows,dl.format,dl.formatBody,dl.formatRows,function(t,n){return fetch(t,n).then(Mn)}),vl=Rn(hl),yl=Rn(pl),ml=function(t,n){return fetch(t,n).then(Hn)},bl=zn("application/xml"),_l=zn("text/html"),wl=(zn("image/svg+xml"),function(t,n,e,r,i){this.node=t,this.x0=n,this.y0=e,this.x1=r,this.y1=i}),xl=function(t,n,e){var r=new Wn(null==n?Bn:n,null==e?Vn:e,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}.prototype=Wn.prototype;xl.copy=function(){var t,n,e=new Wn(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return e;if(!r.length)return e._root=Gn(r),e;for(t=[{source:r,target:e._root=[,,,,]}];r=t.pop();)for(var i=0;4>i;++i)(n=r.source[i])&&(n.length?t.push({source:n,target:r.target[i]=[,,,,]}):r.target[i]=Gn(n));return e},xl.add=function(t){var n=+this._x.call(null,t),e=+this._y.call(null,t);return Un(this.cover(n,e),n,e,t)},xl.addAll=function(t){var n,e,r,i,o=t.length,a=Array(o),s=Array(o),c=1/0,u=1/0,l=-1/0,f=-1/0;for(e=0;e<o;++e)isNaN(r=+this._x.call(null,n=t[e]))||isNaN(i=+this._y.call(null,n))||(a[e]=r,s[e]=i,r<c&&(c=r),r>l&&(l=r),i<u&&(u=i),i>f&&(f=i));if(c>l||u>f)return this;for(this.cover(c,u).cover(l,f),e=0;e<o;++e)Un(this,a[e],s[e],t[e]);return this},xl.cover=function(t,n){if(isNaN(t=+t)||isNaN(n=+n))return this;var e=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(e))i=(e=Bs(t))+1,o=(r=Bs(n))+1;else{for(var a,s,c=i-e,u=this._root;e>t||t>=i||r>n||n>=o;)(a=[,,,,])[s=(n<r)<<1|t<e]=u,u=a,c*=2,0===s?(i=e+c,o=r+c):1===s?(e=i-c,o=r+c):2===s?(i=e+c,r=o-c):3===s&&(e=i-c,r=o-c);this._root&&this._root.length&&(this._root=u)}return this._x0=e,this._y0=r,this._x1=i,this._y1=o,this},xl.data=function(){var t=[];return this.visit((function(n){if(!n.length)do{t.push(n.data)}while(n=n.next)})),t},xl.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},xl.find=function(t,n,e){var r,i,o,a,s,c,u,l=this._x0,f=this._y0,h=this._x1,d=this._y1,p=[],g=this._root;for(g&&p.push(new wl(g,l,f,h,d)),null==e?e=1/0:(l=t-e,f=n-e,h=t+e,d=n+e,e*=e);c=p.pop();)if(!(!(g=c.node)||(i=c.x0)>h||(o=c.y0)>d||(a=c.x1)<l||(s=c.y1)<f))if(g.length){var v=(i+a)/2,y=(o+s)/2;p.push(new wl(g[3],v,y,a,s),new wl(g[2],i,y,v,s),new wl(g[1],v,o,a,y),new wl(g[0],i,o,v,y)),(u=(n>=y)<<1|t>=v)&&(c=p[p.length-1],p[p.length-1]=p[p.length-1-u],p[p.length-1-u]=c)}else{var m=t-+this._x.call(null,g.data),b=n-+this._y.call(null,g.data),_=m*m+b*b;if(_<e){var w=Hs(e=_);l=t-w,f=n-w,h=t+w,d=n+w,r=g.data}}return r},xl.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var n,e,r,i,o,a,s,c,u,l,f,h,d=this._root,p=this._x0,g=this._y0,v=this._x1,y=this._y1;if(!d)return this;if(d.length)for(;;){if((u=o>=(s=(p+v)/2))?p=s:v=s,(l=a>=(c=(g+y)/2))?g=c:y=c,n=d,!(d=d[f=l<<1|u]))return this;if(!d.length)break;(n[3&f+1]||n[3&f+2]||n[3&f+3])&&(e=n,h=f)}for(;d.data!==t;)if(r=d,!(d=d.next))return this;return(i=d.next)&&delete d.next,r?(i?r.next=i:delete r.next,this):n?(i?n[f]=i:delete n[f],(d=n[0]||n[1]||n[2]||n[3])&&d===(n[3]||n[2]||n[1]||n[0])&&!d.length&&(e?e[h]=d:this._root=d),this):(this._root=i,this)},xl.removeAll=function(t){for(var n=0,e=t.length;n<e;++n)this.remove(t[n]);return this},xl.root=function(){return this._root},xl.size=function(){var t=0;return this.visit((function(n){if(!n.length)do{++t}while(n=n.next)})),t},xl.visit=function(t){var n,e,r,i,o,a,s=[],c=this._root;for(c&&s.push(new wl(c,this._x0,this._y0,this._x1,this._y1));n=s.pop();)if(!t(c=n.node,r=n.x0,i=n.y0,o=n.x1,a=n.y1)&&c.length){var u=(r+o)/2,l=(i+a)/2;(e=c[3])&&s.push(new wl(e,u,l,o,a)),(e=c[2])&&s.push(new wl(e,r,l,u,a)),(e=c[1])&&s.push(new wl(e,u,i,o,l)),(e=c[0])&&s.push(new wl(e,r,i,u,l))}return this},xl.visitAfter=function(t){var n,e=[],r=[];for(this._root&&e.push(new wl(this._root,this._x0,this._y0,this._x1,this._y1));n=e.pop();){var i=n.node;if(i.length){var o,a=n.x0,s=n.y0,c=n.x1,u=n.y1,l=(a+c)/2,f=(s+u)/2;(o=i[0])&&e.push(new wl(o,a,s,l,f)),(o=i[1])&&e.push(new wl(o,l,s,c,f)),(o=i[2])&&e.push(new wl(o,a,f,l,u)),(o=i[3])&&e.push(new wl(o,l,f,c,u))}r.push(n)}for(;n=r.pop();)t(n.node,n.x0,n.y0,n.x1,n.y1);return this},xl.x=function(t){return arguments.length?(this._x=t,this):this._x},xl.y=function(t){return arguments.length?(this._y=t,this):this._y};var Sl=function(t,n){if(0>(e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e")))return null;var e,r=t.slice(0,e);return[1<r.length?r[0]+r.slice(2):r,+t.slice(e+1)]},Tl=function(t){return(t=Sl(Ps(t)))?t[1]:NaN},Cl=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;qn.prototype=Yn.prototype,Yn.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Us(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Us(0,0|this.precision))+(this.trim?"~":"")+this.type};var El,Nl,Al,kl,Il=function(t){t:for(var n,e=t.length,r=1,i=-1;r<e;++r)switch(t[r]){case".":i=n=r;break;case"0":0===i&&(i=r),n=r;break;default:if(0<i){if(!+t[r])break t;i=0}}return 0<i?t.slice(0,i)+t.slice(n+1):t},Ol=function(t,n){var e=Sl(t,n);if(!e)return t+"";var r=e[0],i=e[1];return 0>i?"0."+Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+Array(i-r.length+2).join("0")},jl={"%":function(t,n){return(100*t).toFixed(n)},b:function(t){return Ds(t).toString(2)},c:function(t){return t+""},d:function(t){return Ds(t).toString(10)},e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},g:function(t,n){return t.toPrecision(n)},o:function(t){return Ds(t).toString(8)},p:function(t,n){return Ol(100*t,n)},r:Ol,s:function(t,n){var e=Sl(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(El=3*Us(-8,Ws(8,Bs(i/3))))+1,a=r.length;return o===a?r:o>a?r+Array(o-a+1).join("0"):0<o?r.slice(0,o)+"."+r.slice(o):"0."+Array(1-o).join("0")+Sl(t,Us(0,n+o-1))[0]},X:function(t){return Ds(t).toString(16).toUpperCase()},x:function(t){return Ds(t).toString(16)}},Ll=function(t){return t},Fl=Array.prototype.map,Dl=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"],Pl=function(t){function n(t){function n(t){var n,r,i,s=_,d=w;if("c"===b)d=x(t)+d,t="";else{var T=0>(t=+t);if(t=isNaN(t)?u:x(Ps(t),y),m&&(t=Il(t)),T&&0==+t&&(T=!1),s=(T?"("===h?h:c:"-"===h||"("===h?"":h)+s,d=("s"===b?Dl[8+El/3]:"")+d+(T&&"("===h?")":""),S)for(n=-1,r=t.length;++n<r;)if(48>(i=t.charCodeAt(n))||57<i){d=(46===i?o+t.slice(n+1):t.slice(n))+d,t=t.slice(0,n);break}}v&&!p&&(t=e(t,1/0));var C=s.length+t.length+d.length,E=C<g?Array(g-C+1).join(l):"";switch(v&&p&&(t=e(E+t,E.length?g-d.length:1/0),E=""),f){case"<":t=s+t+d+E;break;case"=":t=s+E+t+d;break;case"^":t=E.slice(0,C=E.length>>1)+s+t+d+E.slice(C);break;default:t=E+s+t+d}return a(t)}var l=(t=qn(t)).fill,f=t.align,h=t.sign,d=t.symbol,p=t.zero,g=t.width,v=t.comma,y=t.precision,m=t.trim,b=t.type;"n"===b?(v=!0,b="g"):!jl[b]&&(void 0===y&&(y=12),m=!0,b="g"),(p||"0"===l&&"="===f)&&(p=!0,l="0",f="=");var _="$"===d?r:"#"===d&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",w="$"===d?i:/[%p]/.test(b)?s:"",x=jl[b],S=/[defgprs%]/.test(b);return y=void 0===y?6:/[gprs]/.test(b)?Us(1,Ws(21,y)):Us(0,Ws(20,y)),n.toString=function(){return t+""},n}var e=void 0===t.grouping||void 0===t.thousands?Ll:function(t,n){return function(e,r){for(var i=e.length,o=[],a=0,s=t[0],c=0;0<i&&0<s&&(c+s+1>r&&(s=Us(1,r-c)),o.push(e.substring(i-=s,i+s)),!((c+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(n)}}(Fl.call(t.grouping,Number),t.thousands+""),r=void 0===t.currency?"":t.currency[0]+"",i=void 0===t.currency?"":t.currency[1]+"",o=void 0===t.decimal?".":t.decimal+"",a=void 0===t.numerals?Ll:function(t){return function(n){return n.replace(/[0-9]/g,(function(n){return t[+n]}))}}(Fl.call(t.numerals,String)),s=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"-":t.minus+"",u=void 0===t.nan?"NaN":t.nan+"";return{format:n,formatPrefix:function(t,e){var r=n(((t=qn(t)).type="f",t)),i=3*Us(-8,Ws(8,Bs(Tl(e)/3))),o=zs(10,-i),a=Dl[8+i/3];return function(t){return r(o*t)+a}}}};!function(t){Nl=Pl(t),Al=Nl.format,kl=Nl.formatPrefix}({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});var Ml=function(){return new $n};$n.prototype={constructor:$n,reset:function(){this.s=this.t=0},add:function(t){Xn(Rl,t,this.t),Xn(this,Rl.s,this.s),this.s?this.t+=Rl.t:this.s=Rl.t},valueOf:function(){return this.s}};var Rl=new $n,Hl=1e-6,zl=Fs,Ul=zl/2,Bl=zl/4,Vl=2*zl,Wl=zl/180,Gl=Ps,ql=Is,Yl=Os,$l=Ls,Xl=ks,Jl=Rs,Zl=js,Ql=Cs||function(t){return 0<t?1:0>t?-1:0},Kl=Hs,tf=Es;Ml(),Ml(),Ml();ee.invert=ee;var nf=function(){var t,n=[];return{point:function(n,e){t.push([n,e])},lineStart:function(){n.push(t=[])},lineEnd:Qn,rejoin:function(){1<n.length&&n.push(n.pop().concat(n.shift()))},result:function(){var e=n;return n=[],t=null,e}}},ef=function(t,n){return Gl(t[0]-n[0])<Hl&&Gl(t[1]-n[1])<Hl},rf=function(t,n,e,r,i){var o,a,s=[],c=[];if(t.forEach((function(t){if(!(0>=(n=t.length-1))){var n,e,r=t[0],a=t[n];if(ef(r,a)){for(i.lineStart(),o=0;o<n;++o)i.point((r=t[o])[0],r[1]);return void i.lineEnd()}s.push(e=new re(r,t,null,!0)),c.push(e.o=new re(r,null,e,!1)),s.push(e=new re(a,t,null,!1)),c.push(e.o=new re(a,null,e,!0))}})),s.length){for(c.sort(n),ie(s),ie(c),o=0,a=c.length;o<a;++o)c[o].e=e=!e;for(var u,l,f=s[0];;){for(var h=f,d=!0;h.v;)if((h=h.n)===f)return;u=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(o=0,a=u.length;o<a;++o)i.point((l=u[o])[0],l[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(d)for(u=h.p.z,o=u.length-1;0<=o;--o)i.point((l=u[o])[0],l[1]);else r(h.x,h.p.x,-1,i);h=h.p}u=(h=h.o).z,d=!d}while(!h.v);i.lineEnd()}}},of=Ml(),af=function(t,n){var e=oe(n),r=n[1],i=Zl(r),o=[Zl(e),-$l(e),0],a=0,s=0;of.reset(),1===i?r=Ul+Hl:-1===i&&(r=-Ul-Hl);for(var c=0,u=t.length;c<u;++c)if(f=(l=t[c]).length)for(var l,f,h=l[f-1],d=oe(h),p=h[1]/2+Bl,g=Zl(p),v=$l(p),y=0;y<f;++y,d=b,g=w,v=x,h=m){var m=l[y],b=oe(m),_=m[1]/2+Bl,w=Zl(_),x=$l(_),S=b-d,T=0<=S?1:-1,C=T*S,E=C>zl,N=g*w;if(of.add(Yl(N*T*Zl(C),v*x+N*$l(C))),a+=E?S+T*Vl:S,E^d>=e^b>=e){var A=te(Kn(h),Kn(m));ne(A);var k=te(o,A);ne(k);var I=(E^0<=S?-1:1)*Zn(k[2]);(r>I||r===I&&(A[0]||A[1]))&&(s+=E^0<=S?1:-1)}}return(a<-Hl||a<Hl&&of<-Hl)^1&s},sf=function(t,n,e,r){return function(i){function o(n,e){t(n,e)&&i.point(n,e)}function a(t,n){g.point(t,n)}function s(){b.point=a,g.lineStart()}function c(){b.point=o,g.lineEnd()}function u(t,n){p.push([t,n]),y.point(t,n)}function l(){y.lineStart(),p=[]}function f(){u(p[0][0],p[0][1]),y.lineEnd();var t,n,e,r,o=y.clean(),a=v.result(),s=a.length;if(p.pop(),h.push(p),p=null,s){if(1&o){if(0<(n=(e=a[0]).length-1)){for(m||(i.polygonStart(),m=!0),i.lineStart(),t=0;t<n;++t)i.point((r=e[t])[0],r[1]);i.lineEnd()}return}1<s&&2&o&&a.push(a.pop().concat(a.shift())),d.push(a.filter(ae))}}var h,d,p,g=n(i),v=nf(),y=n(v),m=!1,b={point:o,lineStart:s,lineEnd:c,polygonStart:function(){b.point=u,b.lineStart=l,b.lineEnd=f,d=[],h=[]},polygonEnd:function(){b.point=o,b.lineStart=s,b.lineEnd=c,d=ec(d);var t=af(h,r);d.length?(!m&&(i.polygonStart(),m=!0),rf(d,se,t,e,i)):t&&(!m&&(i.polygonStart(),m=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),m&&(i.polygonEnd(),m=!1),d=h=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}};return b}};sf((function(){return!0}),(function(t){var n,e=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),n=1},point:function(o,a){var s=0<o?zl:-zl,c=Gl(o-e);Gl(c-zl)<Hl?(t.point(e,r=0<(r+a)/2?Ul:-Ul),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),t.point(o,r),n=0):i!==s&&c>=zl&&(Gl(e-i)<Hl&&(e-=i*Hl),Gl(o-s)<Hl&&(o-=s*Hl),r=function(t,n,e,r){var i,o,a=Zl(t-e);return Gl(a)>Hl?ql((Zl(n)*(o=$l(r))*Zl(e)-Zl(r)*(i=$l(n))*Zl(t))/(i*o*a)):(n+r)/2}(e,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),n=0),t.point(e=o,r=a),i=s},lineEnd:function(){t.lineEnd(),e=r=NaN},clean:function(){return 2-n}}}),(function(t,n,e,r){var i;if(null==t)i=e*Ul,r.point(-zl,i),r.point(0,i),r.point(zl,i),r.point(zl,0),r.point(zl,-i),r.point(0,-i),r.point(-zl,-i),r.point(-zl,0),r.point(-zl,i);else if(Gl(t[0]-n[0])>Hl){var o=t[0]<n[0]?zl:-zl;i=e*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(n[0],n[1])}),[-zl,-Ul]),Ml(),Ml(),Ml(),Ml();ce(4.5),le.prototype={constructor:le,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};$l(30*Wl),ue({point:function(t,n){this.stream.point(t*Wl,n*Wl)}});fe((function(t){return Kl(2/(1+t))})).invert=he((function(t){return 2*Zn(t/2)})),fe((function(t){return(t=Jn(t))&&t/Zl(t)})).invert=he((function(t){return t})),de.invert=function(t,n){return[t,2*ql(Xl(n))-Ul]},pe.invert=pe;Kl(3);he(ql),he(Zn),he((function(t){return 2*ql(t)})),_e.prototype=ve.prototype={constructor:_e,count:function(){return this.eachAfter(ge)},each:function(t){var n,e,r,i,o=this,a=[o];do{for(n=a.reverse(),a=[];o=n.pop();)if(t(o),e=o.children)for(r=0,i=e.length;r<i;++r)a.push(e[r])}while(a.length);return this},eachAfter:function(t){for(var n,e,r,i=this,o=[i],a=[];i=o.pop();)if(a.push(i),n=i.children)for(e=0,r=n.length;e<r;++e)o.push(n[e]);for(;i=a.pop();)t(i);return this},eachBefore:function(t){for(var n,e,r=this,i=[r];r=i.pop();)if(t(r),n=r.children)for(e=n.length-1;0<=e;--e)i.push(n[e]);return this},sum:function(t){return this.eachAfter((function(n){for(var e=+t(n.data)||0,r=n.children,i=r&&r.length;0<=--i;)e+=r[i].value;n.value=e}))},sort:function(t){return this.eachBefore((function(n){n.children&&n.children.sort(t)}))},path:function(t){for(var n=this,e=function(t,n){if(t===n)return t;var e=t.ancestors(),r=n.ancestors(),i=null;for(t=e.pop(),n=r.pop();t===n;)i=t,t=e.pop(),n=r.pop();return i}(n,t),r=[n];n!==e;)n=n.parent,r.push(n);for(var i=r.length;t!==e;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,n=[t];t=t.parent;)n.push(t);return n},descendants:function(){var t=[];return this.each((function(n){t.push(n)})),t},leaves:function(){var t=[];return this.eachBefore((function(n){n.children||t.push(n)})),t},links:function(){var t=this,n=[];return t.each((function(e){e!==t&&n.push({source:e.parent,target:e})})),n},copy:function(){return ve(this).eachBefore(me)}};Array.prototype.slice;var cf=function(t,n,e,r,i){for(var o,a=t.children,s=-1,c=a.length,u=t.value&&(r-n)/t.value;++s<c;)(o=a[s]).y0=e,o.y1=i,o.x0=n,o.x1=n+=o.value*u};we.prototype=Object.create(_e.prototype);var uf=function(t,n,e,r,i){for(var o,a=t.children,s=-1,c=a.length,u=t.value&&(i-e)/t.value;++s<c;)(o=a[s]).x0=n,o.x1=r,o.y0=e,o.y1=e+=o.value*u},lf=1.618033988749895,ff=(function t(n){function e(t,e,r,i,o){xe(n,t,e,r,i,o)}return e.ratio=function(n){return t(1<(n=+n)?n:1)},e}(lf),function t(n){function e(t,e,r,i,o){if((a=t._squarify)&&a.ratio===n)for(var a,s,c,u,l,f=-1,h=a.length,d=t.value;++f<h;){for(c=(s=a[f]).children,u=s.value=0,l=c.length;u<l;++u)s.value+=c[u].value;s.dice?cf(s,e,r,i,r+=(o-r)*s.value/d):uf(s,e,r,e+=(i-e)*s.value/d,o),d-=s.value}else t._squarify=a=xe(n,t,e,r,i,o),a.ratio=n}return e.ratio=function(n){return t(1<(n=+n)?n:1)},e}(lf),function(){return Math.random()}),hf=(function t(n){function e(t,e){return t=null==t?0:+t,e=null==e?1:+e,1===arguments.length?(e=t,t=0):e-=t,function(){return n()*e+t}}return e.source=t,e}(ff),function t(n){function e(t,e){var r,i;return t=null==t?0:+t,e=null==e?1:+e,function(){var o;if(null!=r)o=r,r=null;else do{r=2*n()-1,o=2*n()-1,i=r*r+o*o}while(!i||1<i);return t+e*o*Hs(-2*Rs(i)/i)}}return e.source=t,e}(ff)),df=(function t(n){function e(){var t=hf.source(n).apply(this,arguments);return function(){return ks(t())}}return e.source=t,e}(ff),function t(n){function e(t){return function(){for(var e=0,r=0;r<t;++r)e+=n();return e}}return e.source=t,e}(ff)),pf=(function t(n){function e(t){var e=df.source(n)(t);return function(){return e()/t}}return e.source=t,e}(ff),function t(n){function e(t){return function(){return-Rs(1-n())/t}}return e.source=t,e}(ff),Array.prototype),gf=pf.map,vf=pf.slice,yf={name:"implicit"},mf=function(t){return function(){return t}},bf=function(t){return+t},_f=[0,1],wf=function(t,n,e,r){var o,a=i(t,n,e);switch((r=qn(null==r?",f":r)).type){case"s":var s=Us(Ps(t),Ps(n));return null!=r.precision||isNaN(o=function(t,n){return Us(0,3*Us(-8,Ws(8,Bs(Tl(n)/3)))-Tl(Ps(t)))}(a,s))||(r.precision=o),kl(r,s);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(o=function(t,n){return t=Ps(t),n=Ps(n)-t,Us(0,Tl(n)-Tl(t))+1}(a,Us(Ps(t),Ps(n))))||(r.precision=o-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(o=function(t){return Us(0,-Tl(Ps(t)))}(a))||(r.precision=o-2*("%"===r.type))}return Al(r)},xf=function(t,n){var e,r=0,i=(t=t.slice()).length-1,o=t[r],a=t[i];return a<o&&(e=r,r=i,i=e,e=o,o=a,a=e),t[r]=n.floor(o),t[i]=n.ceil(a),t},Sf=new Date,Tf=new Date,Cf=Ge((function(){}),(function(t,n){t.setTime(+t+n)}),(function(t,n){return n-t}));Cf.every=function(t){return t=Bs(t),isFinite(t)&&0<t?1<t?Ge((function(n){n.setTime(Bs(n/t)*t)}),(function(n,e){n.setTime(+n+e*t)}),(function(n,e){return(e-n)/t})):Cf:null};Cf.range;var Ef=6e4,Nf=6048e5,Af=Ge((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,n){t.setTime(+t+1e3*n)}),(function(t,n){return(n-t)/1e3}),(function(t){return t.getUTCSeconds()})),kf=(Af.range,Ge((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())}),(function(t,n){t.setTime(+t+n*Ef)}),(function(t,n){return(n-t)/Ef}),(function(t){return t.getMinutes()}))),If=(kf.range,Ge((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-t.getMinutes()*Ef)}),(function(t,n){t.setTime(+t+36e5*n)}),(function(t,n){return(n-t)/36e5}),(function(t){return t.getHours()}))),Of=(If.range,Ge((function(t){t.setHours(0,0,0,0)}),(function(t,n){t.setDate(t.getDate()+n)}),(function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Ef)/864e5}),(function(t){return t.getDate()-1}))),jf=Of,Lf=(Of.range,qe(0)),Ff=qe(1),Df=qe(2),Pf=qe(3),Mf=qe(4),Rf=qe(5),Hf=qe(6),zf=(Lf.range,Ff.range,Df.range,Pf.range,Mf.range,Rf.range,Hf.range,Ge((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,n){t.setMonth(t.getMonth()+n)}),(function(t,n){return n.getMonth()-t.getMonth()+12*(n.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()}))),Uf=(zf.range,Ge((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n)}),(function(t,n){return n.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()})));Uf.every=function(t){return isFinite(t=Bs(t))&&0<t?Ge((function(n){n.setFullYear(Bs(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)}),(function(n,e){n.setFullYear(n.getFullYear()+e*t)})):null};var Bf=Uf,Vf=(Uf.range,Ge((function(t){t.setUTCSeconds(0,0)}),(function(t,n){t.setTime(+t+n*Ef)}),(function(t,n){return(n-t)/Ef}),(function(t){return t.getUTCMinutes()}))),Wf=(Vf.range,Ge((function(t){t.setUTCMinutes(0,0,0)}),(function(t,n){t.setTime(+t+36e5*n)}),(function(t,n){return(n-t)/36e5}),(function(t){return t.getUTCHours()}))),Gf=(Wf.range,Ge((function(t){t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCDate(t.getUTCDate()+n)}),(function(t,n){return(n-t)/864e5}),(function(t){return t.getUTCDate()-1}))),qf=Gf,Yf=(Gf.range,Ye(0)),$f=Ye(1),Xf=Ye(2),Jf=Ye(3),Zf=Ye(4),Qf=Ye(5),Kf=Ye(6),th=(Yf.range,$f.range,Xf.range,Jf.range,Zf.range,Qf.range,Kf.range,Ge((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCMonth(t.getUTCMonth()+n)}),(function(t,n){return n.getUTCMonth()-t.getUTCMonth()+12*(n.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()}))),nh=(th.range,Ge((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n)}),(function(t,n){return n.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()})));nh.every=function(t){return isFinite(t=Bs(t))&&0<t?Ge((function(n){n.setUTCFullYear(Bs(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)}),(function(n,e){n.setUTCFullYear(n.getUTCFullYear()+e*t)})):null};var eh,rh,ih,oh=nh,ah=(nh.range,{"-":"",_:" ",0:"0"}),sh=/^\s*\d+/,ch=/^%/,uh=/[\\^$*+?|[\]().{}]/g;!function(t){eh=function(t){function n(t,n){return function(e){var r,i,o,a=[],s=-1,c=0,u=t.length;for(e instanceof Date||(e=new Date(+e));++s<u;)37===t.charCodeAt(s)&&(a.push(t.slice(c,s)),null==(i=ah[r=t.charAt(++s)])?i="e"===r?" ":"0":r=t.charAt(++s),(o=n[r])&&(r=o(e,i)),a.push(r),c=s+1);return a.push(t.slice(c,s)),a.join("")}}function e(t,n){return function(e){var i,o,a=Je(1900);if(r(a,t,e+="",0)!=e.length)return null;if("Q"in a)return new Date(a.Q);if("p"in a&&(a.H=a.H%12+12*a.p),"V"in a){if(1>a.V||53<a.V)return null;"w"in a||(a.w=1),"Z"in a?(o=(i=Xe(Je(a.y))).getUTCDay(),i=4<o||0===o?$f.ceil(i):$f(i),i=qf.offset(i,7*(a.V-1)),a.y=i.getUTCFullYear(),a.m=i.getUTCMonth(),a.d=i.getUTCDate()+(a.w+6)%7):(o=(i=n(Je(a.y))).getDay(),i=4<o||0===o?Ff.ceil(i):Ff(i),i=jf.offset(i,7*(a.V-1)),a.y=i.getFullYear(),a.m=i.getMonth(),a.d=i.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),o="Z"in a?Xe(Je(a.y)).getUTCDay():n(Je(a.y)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(o+5)%7:a.w+7*a.U-(o+6)%7);return"Z"in a?(a.H+=0|a.Z/100,a.M+=a.Z%100,Xe(a)):n(a)}}function r(t,n,e,r){for(var i,o,a=0,s=n.length,c=e.length;a<s;){if(r>=c)return-1;if(37===(i=n.charCodeAt(a++))){if(i=n.charAt(a++),!(o=T[i in ah?n.charAt(a++):i])||0>(r=o(t,e,r)))return-1}else if(i!=e.charCodeAt(r++))return-1}return r}var i=t.dateTime,o=t.date,a=t.time,s=t.periods,c=t.days,u=t.shortDays,l=t.months,f=t.shortMonths,h=Ke(s),d=tr(s),p=Ke(c),g=tr(c),v=Ke(u),y=tr(u),m=Ke(l),b=tr(l),_=Ke(f),w=tr(f),x={a:function(t){return u[t.getDay()]},A:function(t){return c[t.getDay()]},b:function(t){return f[t.getMonth()]},B:function(t){return l[t.getMonth()]},c:null,d:_r,e:_r,f:Cr,H:wr,I:xr,j:Sr,L:Tr,m:Er,M:Nr,p:function(t){return s[+(12<=t.getHours())]},Q:ni,s:ei,S:Ar,u:kr,U:Ir,V:Or,w:jr,W:Lr,x:null,X:null,y:Fr,Y:Dr,Z:Pr,"%":ti},S={a:function(t){return u[t.getUTCDay()]},A:function(t){return c[t.getUTCDay()]},b:function(t){return f[t.getUTCMonth()]},B:function(t){return l[t.getUTCMonth()]},c:null,d:Mr,e:Mr,f:Br,H:Rr,I:Hr,j:zr,L:Ur,m:Vr,M:Wr,p:function(t){return s[+(12<=t.getUTCHours())]},Q:ni,s:ei,S:Gr,u:qr,U:Yr,V:$r,w:Xr,W:Jr,x:null,X:null,y:Zr,Y:Qr,Z:Kr,"%":ti},T={a:function(t,n,e){var r=v.exec(n.slice(e));return r?(t.w=y[r[0].toLowerCase()],e+r[0].length):-1},A:function(t,n,e){var r=p.exec(n.slice(e));return r?(t.w=g[r[0].toLowerCase()],e+r[0].length):-1},b:function(t,n,e){var r=_.exec(n.slice(e));return r?(t.m=w[r[0].toLowerCase()],e+r[0].length):-1},B:function(t,n,e){var r=m.exec(n.slice(e));return r?(t.m=b[r[0].toLowerCase()],e+r[0].length):-1},c:function(t,n,e){return r(t,i,n,e)},d:lr,e:lr,f:vr,H:hr,I:hr,j:fr,L:gr,m:ur,M:dr,p:function(t,n,e){var r=h.exec(n.slice(e));return r?(t.p=d[r[0].toLowerCase()],e+r[0].length):-1},Q:mr,s:br,S:pr,u:er,U:rr,V:ir,w:nr,W:or,x:function(t,n,e){return r(t,o,n,e)},X:function(t,n,e){return r(t,a,n,e)},y:sr,Y:ar,Z:cr,"%":yr};return x.x=n(o,x),x.X=n(a,x),x.c=n(i,x),S.x=n(o,S),S.X=n(a,S),S.c=n(i,S),{format:function(t){var e=n(t+="",x);return e.toString=function(){return t},e},parse:function(t){var n=e(t+="",$e);return n.toString=function(){return t},n},utcFormat:function(t){var e=n(t+="",S);return e.toString=function(){return t},e},utcParse:function(t){var n=e(t,Xe);return n.toString=function(){return t},n}}}(t),eh.format,eh.parse,rh=eh.utcFormat,ih=eh.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var lh="%Y-%m-%dT%H:%M:%S.%LZ",fh=(Date.prototype.toISOString||rh(lh),+new Date("2000-01-01T00:00:00.000Z")||ih(lh),1e-12),hh=Fs,dh=2*hh;ri.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n)}}};var ph=function(t){return new ri(t)};oi(ph);ii.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,n){this._curve.point(n*js(t),n*-Ls(t))}};Array.prototype.slice;var gh=js(hh/10)/js(7*hh/10),vh=(js(dh/10),Ls(dh/10),function(){});si.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ai(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ai(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},ci.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,n=this._y,e=t.length-1;if(0<e)for(var r,i=t[0],o=n[0],a=t[e]-i,s=n[e]-o,c=-1;++c<=e;)r=c/e,this._basis.point(this._beta*t[c]+(1-this._beta)*(i+r*a),this._beta*n[c]+(1-this._beta)*(o+r*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,n){this._x.push(+t),this._y.push(+n)}},function t(n){function e(t){return 1===n?new si(t):new ci(t,n)}return e.beta=function(n){return t(+n)},e}(.85),li.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:ui(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2,this._x1=t,this._y1=n;break;case 2:this._point=3;default:ui(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}},function t(n){function e(t){return new li(t,n)}return e.tension=function(n){return t(+n)},e}(0),fi.prototype={areaStart:vh,areaEnd:vh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:ui(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}},function t(n){function e(t){return new fi(t,n)}return e.tension=function(n){return t(+n)},e}(0),hi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ui(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}},function t(n){function e(t){return new hi(t,n)}return e.tension=function(n){return t(+n)},e}(0),pi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Hs(this._l23_2a=zs(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3;default:di(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}},function t(n){function e(t){return n?new pi(t,n):new li(t,0)}return e.alpha=function(n){return t(+n)},e}(.5),gi.prototype={areaStart:vh,areaEnd:vh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Hs(this._l23_2a=zs(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:di(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}},function t(n){function e(t){return n?new gi(t,n):new fi(t,0)}return e.alpha=function(n){return t(+n)},e}(.5),vi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Hs(this._l23_2a=zs(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:di(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}},function t(n){function e(t){return n?new vi(t,n):new hi(t,0)}return e.alpha=function(n){return t(+n)},e}(.5),wi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:_i(this,this._t0,bi(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var e=NaN;if(n=+n,(t=+t)!==this._x1||n!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,_i(this,bi(this,e=mi(this,t,n)),e);break;default:_i(this,this._t0,e=mi(this,t,n))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=e}}},(function(t){this._context=new xi(t)}.prototype=Object.create(wi.prototype)).point=function(t,n){wi.prototype.point.call(this,n,t)},xi.prototype={moveTo:function(t,n){this._context.moveTo(n,t)},closePath:function(){this._context.closePath()},lineTo:function(t,n){this._context.lineTo(n,t)},bezierCurveTo:function(t,n,e,r,i,o){this._context.bezierCurveTo(n,t,r,e,o,i)}};Si.prototype={constructor:Si,insert:function(t,n){var e,r,i;if(t){if(n.P=t,n.N=t.N,t.N&&(t.N.P=n),t.N=n,t.R){for(t=t.R;t.L;)t=t.L;t.L=n}else t.R=n;e=t}else this._?(t=Ni(this._),n.P=null,n.N=t,t.P=t.L=n,e=t):(n.P=n.N=null,this._=n,e=null);for(n.L=n.R=null,n.U=e,n.C=!0,t=n;e&&e.C;)e===(r=e.U).L?(i=r.R)&&i.C?(e.C=i.C=!1,r.C=!0,t=r):(t===e.R&&(Ci(this,e),e=(t=e).U),e.C=!1,r.C=!0,Ei(this,r)):(i=r.L)&&i.C?(e.C=i.C=!1,r.C=!0,t=r):(t===e.L&&(Ei(this,e),e=(t=e).U),e.C=!1,r.C=!0,Ci(this,r)),e=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var n,e,r,i=t.U,o=t.L,a=t.R;if(e=o?a?Ni(a):o:a,i?i.L===t?i.L=e:i.R=e:this._=e,o&&a?(r=e.C,e.C=t.C,e.L=o,o.U=e,e===a?(e.U=i,i=e,t=e.R):(i=e.U,e.U=t.U,t=e.R,i.L=t,e.R=a,a.U=e)):(r=t.C,t=e),t&&(t.U=i),!r){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===i.L){if((n=i.R).C&&(n.C=!1,i.C=!0,Ci(this,i),n=i.R),n.L&&n.L.C||n.R&&n.R.C){n.R&&n.R.C||(n.L.C=!1,n.C=!0,Ei(this,n),n=i.R),n.C=i.C,i.C=n.R.C=!1,Ci(this,i),t=this._;break}}else if((n=i.L).C&&(n.C=!1,i.C=!0,Ei(this,i),n=i.L),n.L&&n.L.C||n.R&&n.R.C){n.L&&n.L.C||(n.R.C=!1,n.C=!0,Ci(this,n),n=i.L),n.C=i.C,i.C=n.L.C=!1,Ei(this,i),t=this._;break}n.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};var yh,mh,bh,_h,wh,xh=Si,Sh=[],Th=[],Ch=1e-6,Eh=1e-12;$i.prototype={constructor:$i,polygons:function(){var t=this.edges;return this.cells.map((function(n){var e=n.halfedges.map((function(e){return Fi(n,t[e])}));return e.data=n.site.data,e}))},triangles:function(){var t=[],n=this.edges;return this.cells.forEach((function(e,r){if(o=(i=e.halfedges).length)for(var i,o,a,s=e.site,c=-1,u=n[i[o-1]],l=u.left===s?u.right:u.left;++c<o;)a=l,l=(u=n[i[c]]).left===s?u.right:u.left,a&&l&&r<a.index&&r<l.index&&0>qi(s,a,l)&&t.push([s.data,a.data,l.data])})),t},links:function(){return this.edges.filter((function(t){return t.right})).map((function(t){return{source:t.left.data,target:t.right.data}}))},find:function(t,n,e){for(var r,i,o=this,a=o._found||0,s=o.cells.length;!(i=o.cells[a]);)if(++a>=s)return null;var c=t-i.site[0],u=n-i.site[1],l=c*c+u*u;do{i=o.cells[r=a],a=null,i.halfedges.forEach((function(e){var r=o.edges[e],s=r.left;if(s!==i.site&&s||(s=r.right)){var c=t-s[0],u=n-s[1],f=c*c+u*u;f<l&&(l=f,a=s.index)}}))}while(null!==a);return o._found=r,null==e||l<=e*e?i.site:null}};Xi.prototype={constructor:Xi,scale:function(t){return 1===t?this:new Xi(this.k*t,this.x,this.y)},translate:function(t,n){return 0===t&0===n?this:new Xi(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new Xi(1,0,0);Xi.prototype;var Nh=Array.isArray,Ah=e(0),kh=Ah.a.Symbol,Ih=Object.prototype,Oh=Ih.hasOwnProperty,jh=Ih.toString,Lh=kh?kh.toStringTag:void 0,Fh=function(t){var n=Oh.call(t,Lh),e=t[Lh];try{t[Lh]=void 0}catch(n){}var r=jh.call(t);return n?t[Lh]=e:delete t[Lh],r},Dh=Object.prototype.toString,Ph=function(t){return Dh.call(t)},Mh="[object Null]",Rh="[object Undefined]",Hh=kh?kh.toStringTag:void 0,zh=function(t){return null==t?void 0===t?Rh:Mh:Hh&&Hh in Object(t)?Fh(t):Ph(t)},Uh=function(t){return null!=t&&"object"==typeof t},Bh=function(t){return"symbol"==typeof t||Uh(t)&&"[object Symbol]"==zh(t)},Vh=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Wh=/^\w*$/,Gh=function(t,n){if(Nh(t))return!1;var e=typeof t;return!("number"!=e&&"symbol"!=e&&"boolean"!=e&&null!=t&&!Bh(t))||Wh.test(t)||!Vh.test(t)||null!=n&&t in Object(n)},qh=function(t){var n=typeof t;return null!=t&&("object"==n||"function"==n)},Yh=function(t){if(!qh(t))return!1;var n=zh(t);return"[object Function]"==n||"[object GeneratorFunction]"==n||"[object AsyncFunction]"==n||"[object Proxy]"==n},$h=Ah.a["__core-js_shared__"],Xh=function(){var t=/[^.]+$/.exec($h&&$h.keys&&$h.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Jh=Function.prototype.toString,Zh=function(t){if(null!=t){try{return Jh.call(t)}catch(t){}try{return t+""}catch(t){}}return""},Qh=/^\[object .+?Constructor\]$/,Kh=Function.prototype,td=Object.prototype,nd=Kh.toString,ed=td.hasOwnProperty,rd=RegExp("^"+nd.call(ed).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),id=function(t){return!(!qh(t)||function(t){return!!Xh&&Xh in t}(t))&&(Yh(t)?rd:Qh).test(Zh(t))},od=function(t,n){var e=function(t,n){return null==t?void 0:t[n]}(t,n);return id(e)?e:void 0},ad=od(Object,"create"),sd=Object.prototype.hasOwnProperty,cd=Object.prototype.hasOwnProperty;Ji.prototype.clear=function(){this.__data__=ad?ad(null):{},this.size=0},Ji.prototype.delete=function(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n},Ji.prototype.get=function(t){var n=this.__data__;if(ad){var e=n[t];return"__lodash_hash_undefined__"===e?void 0:e}return sd.call(n,t)?n[t]:void 0},Ji.prototype.has=function(t){var n=this.__data__;return ad?void 0!==n[t]:cd.call(n,t)},Ji.prototype.set=function(t,n){var e=this.__data__;return this.size+=this.has(t)?0:1,e[t]=ad&&void 0===n?"__lodash_hash_undefined__":n,this};var ud=Ji,ld=function(t,n){return t===n||t!=t&&n!=n},fd=function(t,n){for(var e=t.length;e--;)if(ld(t[e][0],n))return e;return-1},hd=Array.prototype.splice;Zi.prototype.clear=function(){this.__data__=[],this.size=0},Zi.prototype.delete=function(t){var n=this.__data__,e=fd(n,t);return!(0>e)&&(e==n.length-1?n.pop():hd.call(n,e,1),--this.size,!0)},Zi.prototype.get=function(t){var n=this.__data__,e=fd(n,t);return 0>e?void 0:n[e][1]},Zi.prototype.has=function(t){return-1<fd(this.__data__,t)},Zi.prototype.set=function(t,n){var e=this.__data__,r=fd(e,t);return 0>r?(++this.size,e.push([t,n])):e[r][1]=n,this};var dd=Zi,pd=od(Ah.a,"Map"),gd=function(t,n){var e=t.__data__;return function(t){var n=typeof t;return"string"==n||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==t:null===t}(n)?e["string"==typeof n?"string":"hash"]:e.map};Qi.prototype.clear=function(){this.size=0,this.__data__={hash:new ud,map:new(pd||dd),string:new ud}},Qi.prototype.delete=function(t){var n=gd(this,t).delete(t);return this.size-=n?1:0,n},Qi.prototype.get=function(t){return gd(this,t).get(t)},Qi.prototype.has=function(t){return gd(this,t).has(t)},Qi.prototype.set=function(t,n){var e=gd(this,t),r=e.size;return e.set(t,n),this.size+=e.size==r?0:1,this};var vd=Qi,yd="Expected a function";Ki.Cache=vd;var md=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,bd=/\\(\\)?/g,_d=function(t){var n=Ki((function(t){var n=[];return 46===t.charCodeAt(0)&&n.push(""),t.replace(md,(function(t,e,r,i){n.push(r?i.replace(bd,"$1"):e||t)})),n}),(function(t){return 500===e.size&&e.clear(),t})),e=n.cache;return n}(),wd=function(t,n){for(var e=-1,r=null==t?0:t.length,i=Array(r);++e<r;)i[e]=n(t[e],e,t);return i},xd=1/0,Sd=kh?kh.prototype:void 0,Td=Sd?Sd.toString:void 0,Cd=function(t){return null==t?"":to(t)},Ed=function(t,n){return Nh(t)?t:Gh(t,n)?[t]:_d(Cd(t))},Nd=function(t){if("string"==typeof t||Bh(t))return t;var n=t+"";return"0"==n&&1/t==-1/0?"-0":n},Ad=function(t,n){for(var e=0,r=(n=Ed(n,t)).length;null!=t&&e<r;)t=t[Nd(n[e++])];return e&&e==r?t:void 0},kd=function(t,n,e){var r=null==t?void 0:Ad(t,n);return void 0===r?e:r},Id=(e(94),e(38),e(18),e(67),e(105),e(41),function(){try{var t=od(Object,"defineProperty");return t({},"",{}),t}catch(t){}}()),Od=function(t,n,e){"__proto__"==n&&Id?Id(t,n,{configurable:!0,enumerable:!0,value:e,writable:!0}):t[n]=e},jd=function(t,n,e,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];n(r,a,e(a),t)}return r},Ld=function(t,n,e){for(var r=-1,i=Object(t),o=e(t),a=o.length;a--;){var s=o[++r];if(!1===n(i[s],s,i))break}return t},Fd=function(t){return Uh(t)&&"[object Arguments]"==zh(t)},Dd=Object.prototype,Pd=Dd.hasOwnProperty,Md=Dd.propertyIsEnumerable,Rd=Fd(function(){return arguments}())?Fd:function(t){return Uh(t)&&Pd.call(t,"callee")&&!Md.call(t,"callee")},Hd=e(11),zd=/^(?:0|[1-9]\d*)$/,Ud=function(t,n){var e=typeof t;return!!(n=null==n?9007199254740991:n)&&("number"==e||"symbol"!=e&&zd.test(t))&&-1<t&&0==t%1&&t<n},Bd=function(t){return"number"==typeof t&&-1<t&&0==t%1&&t<=9007199254740991},Vd={};Vd["[object Float32Array]"]=Vd["[object Float64Array]"]=Vd["[object Int8Array]"]=Vd["[object Int16Array]"]=Vd["[object Int32Array]"]=Vd["[object Uint8Array]"]=Vd["[object Uint8ClampedArray]"]=Vd["[object Uint16Array]"]=Vd["[object Uint32Array]"]=!0,Vd["[object Arguments]"]=Vd["[object Array]"]=Vd["[object ArrayBuffer]"]=Vd["[object Boolean]"]=Vd["[object DataView]"]=Vd["[object Date]"]=Vd["[object Error]"]=Vd["[object Function]"]=Vd["[object Map]"]=Vd["[object Number]"]=Vd["[object Object]"]=Vd["[object RegExp]"]=Vd["[object Set]"]=Vd["[object String]"]=Vd["[object WeakMap]"]=!1;var Wd=e(56),Gd=Wd.a&&Wd.a.isTypedArray,qd=Gd?function(t){return function(n){return t(n)}}(Gd):function(t){return Uh(t)&&Bd(t.length)&&!!Vd[zh(t)]},Yd=Object.prototype.hasOwnProperty,$d=function(t,n){var e=Nh(t),r=!e&&Rd(t),i=!e&&!r&&Object(Hd.a)(t),o=!e&&!r&&!i&&qd(t),a=e||r||i||o,s=a?function(t,n){for(var e=-1,r=Array(t);++e<t;)r[e]=n(e);return r}(t.length,String):[],c=s.length;for(var u in t)(n||Yd.call(t,u))&&(!a||!("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Ud(u,c)))&&s.push(u);return s},Xd=Object.prototype,Jd=function(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||Xd)},Zd=function(t,n){return function(e){return t(n(e))}},Qd=Zd(Object.keys,Object),Kd=Object.prototype.hasOwnProperty,tp=function(t){if(!Jd(t))return Qd(t);var n=[];for(var e in Object(t))Kd.call(t,e)&&"constructor"!=e&&n.push(e);return n},np=function(t){return null!=t&&Bd(t.length)&&!Yh(t)},ep=function(t){return np(t)?$d(t):tp(t)},rp=function(t,n){if(null==t)return t;if(!np(t))return function(t,n){return t&&Ld(t,n,ep)}(t,n);for(var e=t.length,r=-1,i=Object(t);++r<e&&!1!==n(i[r],r,i););return t},ip=function(t,n,e,r){return rp(t,(function(t,i,o){n(r,t,e(t),o)})),r};no.prototype.clear=function(){this.__data__=new dd,this.size=0},no.prototype.delete=function(t){var n=this.__data__,e=n.delete(t);return this.size=n.size,e},no.prototype.get=function(t){return this.__data__.get(t)},no.prototype.has=function(t){return this.__data__.has(t)},no.prototype.set=function(t,n){var e=this.__data__;if(e instanceof dd){var r=e.__data__;if(!pd||r.length<199)return r.push([t,n]),this.size=++e.size,this;e=this.__data__=new vd(r)}return e.set(t,n),this.size=e.size,this};var op=no;eo.prototype.add=eo.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},eo.prototype.has=function(t){return this.__data__.has(t)};var ap=function(t,n){for(var e=-1,r=null==t?0:t.length;++e<r;)if(n(t[e],e,t))return!0;return!1},sp=function(t,n){return t.has(n)},cp=function(t,n,e,r,i,o){var a=1&e,s=t.length,c=n.length;if(s!=c&&!(a&&c>s))return!1;var u=o.get(t);if(u&&o.get(n))return u==n;var l=-1,f=!0,h=2&e?new eo:void 0;for(o.set(t,n),o.set(n,t);++l<s;){var d=t[l],p=n[l];if(r)var g=a?r(p,d,l,n,t,o):r(d,p,l,t,n,o);if(void 0!==g){if(g)continue;f=!1;break}if(h){if(!ap(n,(function(t,n){if(!sp(h,n)&&(d===t||i(d,t,e,r,o)))return h.push(n)}))){f=!1;break}}else if(d!==p&&!i(d,p,e,r,o)){f=!1;break}}return o.delete(t),o.delete(n),f},up=Ah.a.Uint8Array,lp=function(t){var n=-1,e=Array(t.size);return t.forEach((function(t,r){e[++n]=[r,t]})),e},fp=function(t){var n=-1,e=Array(t.size);return t.forEach((function(t){e[++n]=t})),e},hp=kh?kh.prototype:void 0,dp=hp?hp.valueOf:void 0,pp=Object.prototype.propertyIsEnumerable,gp=Object.getOwnPropertySymbols,vp=gp?function(t){return null==t?[]:(t=Object(t),function(t,n){for(var e=-1,r=null==t?0:t.length,i=0,o=[];++e<r;){var a=t[e];n(a,e,t)&&(o[i++]=a)}return o}(gp(t),(function(n){return pp.call(t,n)})))}:function(){return[]},yp=function(t){return function(t,n,e){var r=n(t);return Nh(t)?r:function(t,n){for(var e=-1,r=n.length,i=t.length;++e<r;)t[i+e]=n[e];return t}(r,e(t))}(t,ep,vp)},mp=1,bp=Object.prototype.hasOwnProperty,_p=od(Ah.a,"DataView"),wp=od(Ah.a,"Promise"),xp=od(Ah.a,"Set"),Sp=od(Ah.a,"WeakMap"),Tp="[object Map]",Cp="[object Promise]",Ep="[object Set]",Np="[object WeakMap]",Ap="[object DataView]",kp=Zh(_p),Ip=Zh(pd),Op=Zh(wp),jp=Zh(xp),Lp=Zh(Sp),Fp=zh;(_p&&Fp(new _p(new ArrayBuffer(1)))!=Ap||pd&&Fp(new pd)!=Tp||wp&&Fp(wp.resolve())!=Cp||xp&&Fp(new xp)!=Ep||Sp&&Fp(new Sp)!=Np)&&(Fp=function(t){var n=zh(t),e="[object Object]"==n?t.constructor:void 0,r=e?Zh(e):"";if(r)switch(r){case kp:return Ap;case Ip:return Tp;case Op:return Cp;case jp:return Ep;case Lp:return Np}return n});var Dp=Fp,Pp="[object Arguments]",Mp="[object Array]",Rp="[object Object]",Hp=Object.prototype.hasOwnProperty,zp=function(t,n,e,r,i,o){var a=Nh(t),s=Nh(n),c=a?Mp:Dp(t),u=s?Mp:Dp(n),l=(c=c==Pp?Rp:c)==Rp,f=(u=u==Pp?Rp:u)==Rp,h=c==u;if(h&&Object(Hd.a)(t)){if(!Object(Hd.a)(n))return!1;a=!0,l=!1}if(h&&!l)return o||(o=new op),a||qd(t)?cp(t,n,e,r,i,o):function(t,n,e,r,i,o,a){switch(e){case"[object DataView]":if(t.byteLength!=n.byteLength||t.byteOffset!=n.byteOffset)return!1;t=t.buffer,n=n.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=n.byteLength||!o(new up(t),new up(n)));case"[object Boolean]":case"[object Date]":case"[object Number]":return ld(+t,+n);case"[object Error]":return t.name==n.name&&t.message==n.message;case"[object RegExp]":case"[object String]":return t==n+"";case"[object Map]":var s=lp;case"[object Set]":var c=1&r;if(s||(s=fp),t.size!=n.size&&!c)return!1;var u=a.get(t);if(u)return u==n;r|=2,a.set(t,n);var l=cp(s(t),s(n),r,i,o,a);return a.delete(t),l;case"[object Symbol]":if(dp)return dp.call(t)==dp.call(n)}return!1}(t,n,c,e,r,i,o);if(!(1&e)){var d=l&&Hp.call(t,"__wrapped__"),p=f&&Hp.call(n,"__wrapped__");if(d||p){var g=d?t.value():t,v=p?n.value():n;return o||(o=new op),i(g,v,e,r,o)}}return!!h&&(o||(o=new op),function(t,n,e,r,i,o){var a=e&mp,s=yp(t),c=s.length;if(c!=yp(n).length&&!a)return!1;for(var u,l=c;l--;)if(u=s[l],a?!(u in n):!bp.call(n,u))return!1;var f=o.get(t);if(f&&o.get(n))return f==n;var h=!0;o.set(t,n),o.set(n,t);for(var d=a;++l<c;){var p=t[u=s[l]],g=n[u];if(r)var v=a?r(g,p,u,n,t,o):r(p,g,u,t,n,o);if(void 0===v?p!==g&&!i(p,g,e,r,o):!v){h=!1;break}d||(d="constructor"==u)}if(h&&!d){var y=t.constructor,m=n.constructor;y!=m&&"constructor"in t&&"constructor"in n&&!("function"==typeof y&&y instanceof y&&"function"==typeof m&&m instanceof m)&&(h=!1)}return o.delete(t),o.delete(n),h}(t,n,e,r,i,o))},Up=function t(n,e,r,i,o){return!(n!==e)||(null!=n&&null!=e&&(Uh(n)||Uh(e))?zp(n,e,r,i,t,o):n!=n&&e!=e)},Bp=1,Vp=2,Wp=function(t){return t==t&&!qh(t)},Gp=function(t,n){return function(e){return null!=e&&e[t]===n&&(void 0!==n||t in Object(e))}},qp=function(t){var n=function(t){for(var n=ep(t),e=n.length;e--;){var r=n[e],i=t[r];n[e]=[r,i,Wp(i)]}return n}(t);return 1==n.length&&n[0][2]?Gp(n[0][0],n[0][1]):function(e){return e===t||function(t,n,e,r){var i=e.length,o=i,a=!r;if(null==t)return!o;for(t=Object(t);i--;){var s=e[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){var c=(s=e[i])[0],u=t[c],l=s[1];if(a&&s[2]){if(void 0===u&&!(c in t))return!1}else{var f=new op;if(r)var h=r(u,l,c,t,n,f);if(void 0===h?!Up(l,u,Bp|Vp,r,f):!h)return!1}}return!0}(e,t,n)}},Yp=function(t,n){return null!=t&&function(t,n,e){for(var r,i=-1,o=(n=Ed(n,t)).length,a=!1;++i<o&&(r=Nd(n[i]),a=null!=t&&e(t,r));)t=t[r];return a||++i!=o?a:!!(o=null==t?0:t.length)&&Bd(o)&&Ud(r,o)&&(Nh(t)||Rd(t))}(t,n,ro)},$p=function(t){return t},Xp=function(t){return Gh(t)?function(t){return function(n){return null==n?void 0:n[t]}}(Nd(t)):function(t){return function(n){return Ad(n,t)}}(t)},Jp=function(t){return"function"==typeof t?t:null==t?$p:"object"==typeof t?Nh(t)?function(t,n){return Gh(t)&&Wp(n)?Gp(Nd(t),n):function(e){var r=kd(e,t);return void 0===r&&r===n?Yp(e,t):Up(n,r,3)}}(t[0],t[1]):qp(t):Xp(t)},Zp=function(t,n){return function(n,e){var r={};return(Nh(n)?jd:ip)(n,t,Jp(e),r)}}((function(t,n,e){Od(t,e,n)})),Qp=function(){},Kp=function(t){return void 0===t},tg=function(t,n){for(var e=-1,r=null==t?0:t.length;++e<r&&!1!==n(t[e],e,t););return t},ng=function(t,n){return(Nh(t)?tg:rp)(t,function(t){return"function"==typeof t?t:$p}(n))},eg=function(t){return null==t},rg=function(t){return"string"==typeof t||!Nh(t)&&Uh(t)&&"[object String]"==zh(t)},ig=function(t){return"number"==typeof t||Uh(t)&&"[object Number]"==zh(t)},og=Object.prototype.hasOwnProperty,ag=function(t){if(null==t)return!0;if(np(t)&&(Nh(t)||"string"==typeof t||"function"==typeof t.splice||Object(Hd.a)(t)||qd(t)||Rd(t)))return!t.length;var n=Dp(t);if("[object Map]"==n||"[object Set]"==n)return!t.size;if(Jd(t))return!tp(t).length;for(var e in t)if(og.call(t,e))return!1;return!0},sg=e(88),cg=e.n(sg),ug=(e(119),e(74),/^\s+|\s+$/g),lg=/^[-+]0x[0-9a-f]+$/i,fg=/^0b[01]+$/i,hg=/^0o[0-7]+$/i,dg=parseInt,pg=function(t){if("number"==typeof t)return t;if(Bh(t))return NaN;if(qh(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=qh(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(ug,"");var e=fg.test(t);return e||hg.test(t)?dg(t.slice(2),e?2:8):lg.test(t)?NaN:+t},gg=function(t){var n=function(t){return t?(t=pg(t))===1/0||t===-1/0?17976931348623157e292*(0>t?-1:1):t==t?t:0:0===t?t:0}(t),e=n%1;return n==n?e?n-e:n:0},vg=function(t,n,e){var r=null==t?0:t.length;if(!r)return-1;var i=null==e?0:gg(e);return 0>i&&(i=Us(r+i,0)),function(t,n,e,r){for(var i=t.length,o=e+(r?1:-1);r?o--:++o<i;)if(n(t[o],o,t))return o;return-1}(t,Jp(n),i)},yg={scrollContainer:"scroll",sectionContainer:"section",narrationList:"narration_list",narrationBlock:"narration",narrationContent:"narration-content",graphContainer:"graph",graphContainerDefault:"graph_default",graphTitleClass:"graph_title",graphCaptionClass:"graph_caption",linkContainer:"link"},mg=(e(33),e(34),e(51),{searchParams:"URLSearchParams"in self,iterable:"Symbol"in self&&"iterator"in Symbol,blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in self,arrayBuffer:"ArrayBuffer"in self});if(mg.arrayBuffer)var bg=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],_g=ArrayBuffer.isView||function(t){return t&&-1<bg.indexOf(Object.prototype.toString.call(t))};ho.prototype.append=function(t,n){t=uo(t),n=lo(n);var e=this.map[t];this.map[t]=e?e+", "+n:n},ho.prototype.delete=function(t){delete this.map[uo(t)]},ho.prototype.get=function(t){return t=uo(t),this.has(t)?this.map[t]:null},ho.prototype.has=function(t){return this.map.hasOwnProperty(uo(t))},ho.prototype.set=function(t,n){this.map[uo(t)]=lo(n)},ho.prototype.forEach=function(t,n){for(var e in this.map)this.map.hasOwnProperty(e)&&t.call(n,this.map[e],e,this)},ho.prototype.keys=function(){var t=[];return this.forEach((function(n,e){t.push(e)})),fo(t)},ho.prototype.values=function(){var t=[];return this.forEach((function(n){t.push(n)})),fo(t)},ho.prototype.entries=function(){var t=[];return this.forEach((function(n,e){t.push([e,n])})),fo(t)},mg.iterable&&(ho.prototype[Symbol.iterator]=ho.prototype.entries);var wg=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];bo.prototype.clone=function(){return new bo(this,{body:this._bodyInit})},mo.call(bo.prototype),mo.call(xo.prototype),xo.prototype.clone=function(){return new xo(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new ho(this.headers),url:this.url})},xo.error=function(){var t=new xo(null,{status:0,statusText:""});return t.type="error",t};var xg=[301,302,303,307,308];xo.redirect=function(t,n){if(-1===xg.indexOf(n))throw new RangeError("Invalid status code");return new xo(null,{status:n,headers:{location:t}})};var Sg=self.DOMException;try{new Sg}catch(t){(Sg=function(t,n){this.message=t,this.name=n;var e=Error(t);this.stack=e.stack}).prototype=Object.create(Error.prototype),Sg.prototype.constructor=Sg}So.polyfill=!0,self.fetch||(self.fetch=So,self.Headers=ho,self.Request=bo,self.Response=xo);var Tg=function(t,n){var e=-1,r=t.length;for(n||(n=Array(r));++e<r;)n[e]=t[e];return n},Cg=/[\u200d\ud800-\udfff\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff\ufe0e\ufe0f]/,Eg=/\ud83c[\udffb-\udfff](?=\ud83c[\udffb-\udfff])|(?:[^\ud800-\udfff][\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]?|[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,Ng=function(t){return function(t){return Cg.test(t)}(t)?function(t){return t.match(Eg)||[]}(t):function(t){return t.split("")}(t)},Ag=function(t){return null==t?[]:function(t,n){return wd(n,(function(n){return t[n]}))}(t,ep(t))},kg=kh?kh.iterator:void 0,Ig=function(t){if(!t)return[];if(np(t))return rg(t)?Ng(t):Tg(t);if(kg&&t[kg])return function(t){for(var n,e=[];!(n=t.next()).done;)e.push(n.value);return e}(t[kg]());var n=Dp(t);return("[object Map]"==n?lp:"[object Set]"==n?fp:Ag)(t)},Og=function(t,n){var e=-1,r=np(t)?Array(t.length):[];return rp(t,(function(t,i,o){r[++e]=n(t,i,o)})),r},jg=function(t,n){return(Nh(t)?wd:Og)(t,Jp(n))};e(52),e(78),e(80),e(53),e(83);Cc.prototype.attrs=function(t){return("function"==typeof t?Fo:Do)(this,t)},Cc.prototype.styles=function(t,n){return("function"==typeof t?Po:Mo)(this,t,null==n?"":n)},Cc.prototype.properties=function(t){return("function"==typeof t?Ro:Ho)(this,t)},Tn.prototype.attrs=function(t){return("function"==typeof t?zo:Uo)(this,t)},Tn.prototype.styles=function(t,n){return("function"==typeof t?Bo:Vo)(this,t,null==n?"":n)};e(85);var Lg=function(t,n,e){return void 0===e&&(e=n,n=void 0),void 0!==e&&(e=(e=pg(e))==e?e:0),void 0!==n&&(n=(n=pg(n))==n?n:0),function(t,n,e){return t==t&&(void 0!==e&&(t=t<=e?t:e),void 0!==n&&(t=t>=n?t:n)),t}(pg(t),n,e)},Fg=function(t,n,e,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(e=t[++i]);++i<o;)e=n(e,t[i],i,t);return e},Dg=function(t,n,e,r,i){return i(t,(function(t,i,o){e=r?(r=!1,t):n(e,t,i,o)})),e},Pg=function(t,n,e){var r=Nh(t)?Fg:Dg,i=3>arguments.length;return r(t,Jp(n),e,i,rp)},Mg=function(){var t=arguments,n=Cd(t[0]);return 3>t.length?n:n.replace(t[1],t[2])},Rg=function(t,n,e){(void 0===e||ld(t[n],e))&&(void 0!==e||n in t)||Od(t,n,e)},Hg=e(90),zg=function(t,n){var e=n?function(t){var n=new t.constructor(t.byteLength);return new up(n).set(new up(t)),n}(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.length)},Ug=Object.create,Bg=function(){function t(){}return function(n){if(!qh(n))return{};if(Ug)return Ug(n);t.prototype=n;var e=new t;return t.prototype=void 0,e}}(),Vg=Zd(Object.getPrototypeOf,Object),Wg=Function.prototype,Gg=Object.prototype,qg=Wg.toString,Yg=Gg.hasOwnProperty,$g=qg.call(Object),Xg=function(t,n){return"constructor"===n&&"function"==typeof t[n]||"__proto__"==n?void 0:t[n]},Jg=Object.prototype.hasOwnProperty,Zg=Object.prototype.hasOwnProperty,Qg=function(t){if(!qh(t))return function(t){var n=[];if(null!=t)for(var e in Object(t))n.push(e);return n}(t);var n=Jd(t),e=[];for(var r in t)("constructor"!=r||!n&&Zg.call(t,r))&&e.push(r);return e},Kg=function(t){return np(t)?$d(t,!0):Qg(t)},tv=function(t){return function(t,n,e,r){var i=!e;e||(e={});for(var o=-1,a=n.length;++o<a;){var s=n[o],c=r?r(e[s],t[s],s,e,t):void 0;void 0===c&&(c=t[s]),i?Od(e,s,c):Zo(e,s,c)}return e}(t,Kg(t))},nv=function(t,n,e,r,i,o,a){var s=Xg(t,e),c=Xg(n,e),u=a.get(c);if(u)Rg(t,e,u);else{var l=o?o(s,c,e+"",t,n,a):void 0,f=void 0===l;if(f){var h=Nh(c),d=!h&&Object(Hd.a)(c),p=!h&&!d&&qd(c);l=c,h||d||p?Nh(s)?l=s:function(t){return Uh(t)&&np(t)}(s)?l=Tg(s):d?(f=!1,l=Object(Hg.a)(c,!0)):p?(f=!1,l=zg(c,!0)):l=[]:function(t){if(!Uh(t)||"[object Object]"!=zh(t))return!1;var n=Vg(t);if(null===n)return!0;var e=Yg.call(n,"constructor")&&n.constructor;return"function"==typeof e&&e instanceof e&&qg.call(e)==$g}(c)||Rd(c)?(l=s,Rd(s)?l=tv(s):(!qh(s)||Yh(s))&&(l=function(t){return"function"!=typeof t.constructor||Jd(t)?{}:Bg(Vg(t))}(c))):f=!1}f&&(a.set(c,l),i(l,c,r,o,a),a.delete(c)),Rg(t,e,l)}},ev=function(t,n,e){switch(e.length){case 0:return t.call(n);case 1:return t.call(n,e[0]);case 2:return t.call(n,e[0],e[1]);case 3:return t.call(n,e[0],e[1],e[2])}return t.apply(n,e)},rv=Us,iv=function(t){return function(){return t}},ov=Id?function(t,n){return Id(t,"toString",{configurable:!0,enumerable:!1,value:iv(n),writable:!0})}:$p,av=Date.now,sv=function(t){var n=0,e=0;return function(){var r=av(),i=16-(r-e);if(e=r,0<i){if(++n>=800)return arguments[0]}else n=0;return t.apply(void 0,arguments)}}(ov),cv=function(t,n){return sv(function(t,n,e){return n=rv(void 0===n?t.length-1:n,0),function(){for(var r=arguments,i=-1,o=rv(r.length-n,0),a=Array(o);++i<o;)a[i]=r[n+i];i=-1;for(var s=Array(n+1);++i<n;)s[i]=r[i];return s[n]=e(a),ev(t,this,s)}}(t,n,$p),t+"")},uv=function(t,n,e){if(!qh(e))return!1;var r=typeof n;return!("number"==r?!np(e)||!Ud(n,e.length):!("string"==r&&n in e))&&ld(e[n],t)},lv=function(t){return cv((function(n,e){var r=-1,i=e.length,o=1<i?e[i-1]:void 0,a=2<i?e[2]:void 0;for(o=3<t.length&&"function"==typeof o?(i--,o):void 0,a&&uv(e[0],e[1],a)&&(o=3>i?void 0:o,i=1),n=Object(n);++r<i;){var s=e[r];s&&t(n,s,r)}return n}))}((function(t,n,e){Qo(t,n,e)})),fv=function(t,n,e){var r=null==t?0:t.length;return r?(e&&"number"!=typeof e&&uv(t,n,e)?(n=0,e=r):(n=null==n?0:gg(n),e=void 0===e?r:gg(e)),function(t,n,e){var r=-1,i=t.length;0>n&&(n=-n>i?0:i+n),0>(e=e>i?i:e)&&(e+=i),i=n>e?0:e-n>>>0,n>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+n];return o}(t,n,e)):[]},hv=e(91),dv=e.n(hv),pv=(e(134),e(92)),gv=e.n(pv),vv=function(){function t(n){(function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")})(this,t),this.css=lv({},yg,n)}return function(t,n,e){n&&ta(t.prototype,n),e&&ta(t,e)}(t,[{key:"sectionId",value:function(t){return"".concat(this.css.sectionContainer,"_").concat(t)}},{key:"narrationList",value:function(){return this.css.narrationList}},{key:"narrationClass",value:function(){return this.css.narrationBlock}},{key:"narrationContentClass",value:function(){return this.css.narrationContent}},{key:"narrationId",value:function(t){return"".concat(this.css.narrationBlock,"_").concat(t)}},{key:"scrollContainer",value:function(){return this.css.scrollContainer}},{key:"sectionClass",value:function(){return"".concat(this.css.sectionContainer)}},{key:"graphId",value:function(t){return"".concat(this.css.graphContainer,"_").concat(t)}},{key:"graphClass",value:function(t){return"".concat(this.css.graphContainer,"_").concat(t)}},{key:"graphClassNames",value:function(t){return"".concat(this.css.graphContainerDefault," ").concat(this.graphClass(t))}},{key:"graphContainerId",value:function(t){return"".concat(this.graphId(t),"_container")}},{key:"graphContainerClass",value:function(){return"".concat(this.css.graphContainer,"_container")}},{key:"graphContainerClassNames",value:function(t){return this.graphContainerClass(t)}},{key:"graphTitleClass",value:function(){return this.css.graphTitleClass}},{key:"graphCaptionClass",value:function(){return this.css.graphCaptionClass}}]),t}(),yv=function(){function t(n){(function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")})(this,t),function(t){var n=t.appContainerId,e=t.sectionList;if(Kp(n))throw Error("ScrollyTeller.validateScrollyTellerConfig() No appContainerId is set for the ScrollyTeller.");if(ag(e)||!Nh(e))throw Error("ScrollyTeller.validateScrollyTellerConfig() sectionList is empty.");so(t),ng(e,co)}(n),this.appContainerId=n.appContainerId,this.sectionList=Zp(n.sectionList,"sectionIdentifier"),this.onNarrationChangedFunction=n.onNarrationChangedFunction||Qp,this.mobileScrollHeightMultiplier=n.mobileScrollHeightMultiplier||1,this.sectionNamesArray=n.sectionList.map((function(t){return t.sectionIdentifier})),this.currentSectionId=null,this.currentNarrationIndex=null,this.triggerState={},this.trigger="",this.sendSectionAnalytics=n.sendSectionAnalytics||!1,this.sendNarrationAnalytics=n.sendNarrationAnalytics||!1,this.sendScrollToAnalytics=n.sendScrollToAnalytics||!1,this.maxTimeInSeconds=n.maxTimeInSeconds||1/0,this.timeEnteredCurrentSection=null,this.timeEnteredCurrentNarration=null,this.pageLoadStartTime=new Date,this.cssNames=Kp(n.cssNames)||"CSSNames"!==n.cssNames.constructor.name?new vv:n.cssNames,this._assignConfigVariablesToSectionConfigs(this.cssNames),this._triggersDisabled=!1}return function(t,n,e){n&&ra(t.prototype,n),e&&ra(t,e)}(t,[{key:"_assignConfigVariablesToSectionConfigs",value:function(){var t=this;ng(this.sectionList,(function(n,e){n.appContainerId=t.appContainerId,n.cssNames=t.cssNames,n.sectionIndex=t._sectionIndexFromSectionIdentifier(e)}))}},{key:"_graphIdForSection",value:function(t){return t.cssNames.graphId(t.sectionIdentifier)}},{key:"_buildGraphs",value:function(){var t=this;ng(this.sectionList,(function(n){var e=t._triggerState({sectionConfig:n,index:0,progress:0}).state;t.triggerState=e;var r=n.cssNames.graphContainerId(n.sectionIdentifier);t._updateTitleAndCaption({graphContainer:Ec("#".concat(r)),index:0,names:n.cssNames,narration:n.narration,state:e}),n.graph=n.buildGraphFunction(t._graphIdForSection(n),n)}))}},{key:"_triggerState",value:function(t){var n=t.sectionConfig,e=t.index,r=t.progress;if(eg(n)||eg(e))return{trigger:"",state:{}};var i=n.narration,o=n.convertTriggerToObject,a=void 0===o||o;return{trigger:a?Ko(i[e].trigger,{index:e,progress:r}):i[e].trigger||"",state:a?function(t,n,e){var r=fv(t.narration,0,n+1);return Pg(r,(function(t,r,i){return Ko(r.trigger,{progress:i===n?e:1,index:n},t)}),{})}(n,e,r):{}}}},{key:"_updateTitleAndCaption",value:function(t){var n=t.graphContainer,e=t.index,r=t.names,i=t.narration,o=t.state;(function(t){var n=t.graphContainer,e=t.index,r=t.names,i=t.narration,o=t.state,a=r.graphTitleClass(),s=kd(i,[e,"graphTitle"],""),c=n.select(".".concat(a," text"));c.empty()&&(c=n.insert("div",":first-child").classed(a,!0).append("text")),c.styles(o.titleStyle).html(s)})({graphContainer:n,index:e,names:r,narration:i,state:o}),function(t){var n=t.graphContainer,e=t.index,r=t.names,i=t.narration,o=t.state,a=r.graphCaptionClass(),s=kd(i,[e,"graphCaption"],""),c=n.select(".".concat(a," text"));c.empty()&&(c=n.append("div").classed(a,!0).append("text")),c.styles(o.captionStyle).html(s)}({graphContainer:n,index:e,names:r,narration:i,state:o})}},{key:"_handleOnStepEnter",value:function(t,n){var e=n.element,r=n.index,i=n.direction;if(!this._triggersDisabled){var o=t.narration,a=t.cssNames,s=t.sectionIdentifier,c=t.onActivateNarrationFunction,u=void 0===c?Qp:c;window.ga&&(this.sendSectionAnalytics&&s!==this.currentSectionId&&(function(t){var n=t.enteringSectionId,e=t.enteringSectionIndex,r=t.pageLoadStartTime,i=t.maxTimeInSeconds;window.ga("send",{hitType:"event",eventCategory:"Section Entry Time (seconds since page load)",eventAction:Oo(e,n),eventLabel:"Entered section ".concat(n," (EventValue) seconds since page load"),eventValue:jo({maxTimeInSeconds:i,startTime:r})})}({enteringSectionId:s,enteringSectionIndex:this._sectionIndexFromSectionIdentifier(s),pageLoadStartTime:this.pageLoadStartTime,maxTimeInSeconds:this.maxTimeInSeconds}),!eg(this.currentSectionId)&&function(t){var n=t.exitedNarrationIndex,e=t.exitedSectionId,r=t.exitedSectionIndex,i=t.maxTimeInSeconds,o=t.timeEntered,a=Oo(r,e);window.ga("send",{hitType:"event",eventCategory:"Time in Section (seconds)",eventAction:a,eventLabel:"Exited ".concat(a,", narration #").concat(n," after (EventValue) seconds"),eventValue:jo({startTime:o,maxTimeInSeconds:i})})}({exitedNarrationIndex:this.currentNarrationIndex,exitedSectionId:this.currentSectionId,exitedSectionIndex:this._sectionIndexFromSectionIdentifier(this.currentSectionId),maxTimeInSeconds:this.maxTimeInSeconds,timeEntered:this.timeEnteredCurrentSection||new Date}),this.timeEnteredCurrentSection=new Date),this.sendNarrationAnalytics&&(s!==this.currentSectionId||r!==this.currentNarrationIndex)&&(function(t){var n=t.enteringNarrationIndex,e=t.enteringSectionId,r=t.enteringSectionIndex,i=t.pageLoadStartTime,o=t.maxTimeInSeconds,a=Oo(r,e);window.ga("send",{hitType:"event",eventCategory:"Narration Entry Time (seconds since page load)",eventAction:"".concat(a,"--").concat(n),eventLabel:"Entered narration #".concat(n," (EventValue) seconds since page load"),eventValue:jo({maxTimeInSeconds:o,startTime:i})})}({enteringNarrationIndex:r,enteringSectionId:s,enteringSectionIndex:this._sectionIndexFromSectionIdentifier(s),pageLoadStartTime:this.pageLoadStartTime,maxTimeInSeconds:this.maxTimeInSeconds}),!eg(this.currentNarrationIndex)&&function(t){var n=t.exitingNarrationIndex,e=t.exitedSectionId,r=t.exitedSectionIndex,i=t.maxTimeInSeconds,o=t.timeEntered,a=Oo(r,e);window.ga("send",{hitType:"event",eventCategory:"Time in Narration (seconds)",eventAction:"".concat(a,"--").concat(n),eventLabel:"Exited ".concat(a,", narration #").concat(n," after (EventValue) seconds"),eventValue:jo({startTime:o,maxTimeInSeconds:i})})}({exitingNarrationIndex:this.currentNarrationIndex,exitedSectionId:this.currentSectionId,exitedSectionIndex:this._sectionIndexFromSectionIdentifier(this.currentSectionId),maxTimeInSeconds:this.maxTimeInSeconds,timeEntered:this.timeEnteredCurrentNarration||new Date}),this.timeEnteredCurrentNarration=new Date)),this.currentSectionId=s,this.currentNarrationIndex=r,this.onNarrationChangedFunction({sectionIdentifier:this.currentSectionId,narrationIndex:this.currentNarrationIndex,narrationId:kd(t,["narration",r,"narrationId"]),narrationClass:kd(t,["narration",r,"narrationClass"])});var l=a.graphId(s),f=a.graphContainerId(s),h=this._triggerState({sectionConfig:t,index:r,progress:0}),d=h.trigger,p=h.state;this.triggerState=p,Ec(e).classed("active",!0);var g=Ec("#".concat(f)).classed("active",!0),v=Ec("#".concat(l));this._updateTitleAndCaption({graphContainer:g,index:r,names:a,narration:o,state:p}),Go({graph:v,graphContainer:g,names:a,sectionIdentifier:s,state:p}),u({index:r,progress:0,element:e,trigger:d,state:p,direction:i,graphId:l,graphContainerId:f,sectionConfig:t})}}},{key:"_handleOnStepExit",value:function(t,n){var e=n.index,r=n.element,i=n.direction;if(!this._triggersDisabled){var o=t.narration,a=t.cssNames,s=t.sectionIdentifier;if(Ec(r).classed("active",!1),e===o.length-1&&"down"===i||0===e&&"up"===i){var c="#".concat(a.graphContainerId(s));Ec(c).classed("active",!1);var u=this._sectionIndexFromSectionIdentifier(s);(0===u&&"up"===i||u===this.sectionNamesArray.length-1&&"down"===i)&&(this.currentNarrationIndex=null,this.currentSectionId=null,this.onNarrationChangedFunction({sectionIdentifier:null,narrationIndex:null,narrationId:null,narrationClass:null}))}}}},{key:"_handleOnStepProgress",value:function(t,n){var e=n.element,r=n.scrollProgressElement,i=n.index;if(!this._triggersDisabled){var o=t.cssNames,a=t.sectionIdentifier,s=t.onScrollFunction,c=void 0===s?Qp:s,u=o.graphId(a),l=o.graphContainerId(a),f=function(t,n){var e=t.getBoundingClientRect(),r=e.top,i=e.height,o=t.ownerDocument.defaultView.innerHeight;return Lg((o*n-r)/i,0,1)}(r||e,.5),h=this._triggerState({sectionConfig:t,index:i,progress:f}),d=h.trigger,p=h.state;this.triggerState=p,Go({graph:Ec("#".concat(u)),graphContainer:Ec("#".concat(l)),names:o,sectionIdentifier:a,state:p}),c({index:i,progress:f,element:e,trigger:d,state:p,graphId:u,graphContainerId:l,sectionConfig:t})}}},{key:"_buildScrollamaContainers",value:function(){var t=this;ng(this.sectionList,(function(n){var e=kd(n,["cssNames","css"]),r=n.cssNames,i=n.sectionIdentifier;n.scroller=gv()();var o=r.sectionId(i),a=r.graphContainerId(i);n.scroller.setup({step:"#".concat(o," .").concat(e.narrationBlock),graphic:"#".concat(a),offset:.5,progress:!0}).onStepEnter((function(e){t._handleOnStepEnter(n,e)})).onStepExit((function(e){t._handleOnStepExit(n,e)})).onStepProgress((function(e){t._handleOnStepProgress(n,e)}))}))}},{key:"_buildKeyboardListeners",value:function(){var t=this;document.addEventListener("keydown",(function(t){var n=t.key||t.keyCode;if(t.target===document.body)switch(n){case" ":case"ArrowDown":case"ArrowRight":case"ArrowUp":case"ArrowLeft":t.preventDefault()}})),document.addEventListener("keyup",(function(n){if(!n.defaultPrevented&&n.target===document.body)switch(n.key||n.keyCode){case" ":case"ArrowDown":case"ArrowRight":t.scrollToNextNarration();break;case"ArrowUp":case"ArrowLeft":t.scrollToPreviousNarration()}}))}},{key:"_buildResizeListeners",value:function(){var t=this;ng(this.sectionList,(function(n){var e=n.cssNames,r=n.onResizeFunction,i=void 0===r?Qp:r,o=n.sectionIdentifier,a=e.graphId(o),s=e.graphContainerId(o);n.elementResizeDetector=cg()({strategy:"scroll"}),n.elementResizeDetector.listenTo(Ec("#".concat(a)).node(),(function(e){i({graphElement:e,graphContainerId:s,graphId:a,sectionConfig:n,state:t.triggerState,trigger:t.triggerState})}))}))}},{key:"_buildSections",value:function(){Ec("#".concat(this.appContainerId)).append("div").attr("class",this.cssNames.scrollContainer());var t=io()?this.mobileScrollHeightMultiplier:1;ng(this.sectionList,(function(n){return Jo(n,t)}))}},{key:"_sectionIndexFromSectionIdentifier",value:function(t){return this.sectionNamesArray.findIndex((function(n){return n===t}))}},{key:"render",value:function(){var t=ea(regeneratorRuntime.mark((function t(){var n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,No(this.sectionList);case 2:return t.next=4,ko(this.sectionList);case 4:this._buildSections(),this._buildScrollamaContainers(),this._buildGraphs(),this._buildResizeListeners(),this._buildKeyboardListeners(),io()?window.addEventListener("orientationchange",(function(){window.addEventListener("resize",(function t(){n._handleResizeEvent(),window.removeEventListener("resize",t)}))})):window.addEventListener("resize",(function(){n._handleResizeEvent()}));case 10:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"_handleResizeEvent",value:function(){var t=io()?this.mobileScrollHeightMultiplier:1;ng(this.sectionList,(function(n){(function(t,n){var e=t.sectionIdentifier,r=t.cssNames,i=kd(r,["css"]),o=r.sectionId(e);Ac("#".concat(o," .").concat(i.narrationBlock)).style("margin-top",Yo(n)).style("margin-bottom",$o(n)).style("min-height",Xo(n))})(n,t),n.scroller.resize()}))}},{key:"scrollTo",value:function(){var t=ea(regeneratorRuntime.mark((function t(n,e,r){var i,o,a,s,c,u,l,f,h,d,p,g,v;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!eg(n)&&!eg(e)){t.next=2;break}return t.abrupt("return");case 2:if(i=this.appContainerId,o=this.cssNames,a=this.currentNarrationIndex,s=this.currentSectionId,c=this.sectionList,u=kd(c,n),!eg(u)){t.next=6;break}return t.abrupt("return");case 6:if(l=0,rg(e)?l=u.narration.findIndex((function(t){return t.narrationId===e}))||0:ig(e)&&-1<e&&e<u.narration.length&&(l=e),this.sendScrollToAnalytics&&window.ga&&Lo({enteringSectionId:n,enteringSectionIndex:this._sectionIndexFromSectionIdentifier(n),enteringNarrationIndex:l,pageLoadStartTime:this.pageLoadStartTime,maxTimeInSeconds:this.maxTimeInSeconds,exitedSectionId:s,exitedSectionIndex:this._sectionIndexFromSectionIdentifier(s),exitedNarrationIndex:a}),f=["#".concat(o.sectionId(n)),".".concat(o.narrationList()),"div.".concat(o.narrationClass(),":nth-of-type(").concat(l+1,")")].join(" "),h=Ec(f),d=h.node(),p=h.select("div.".concat(o.narrationContentClass())).node(),!eg(p)){t.next=15;break}return t.abrupt("return");case 15:return g=window.pageYOffset,Ec("#".concat(i)).selectAll(".active").classed("active",!1),this._triggersDisabled=!0,t.next=20,new Promise((function(t){dv()(p,r,t)}));case 20:this._triggersDisabled=!1,v=window.pageYOffset<g?"up":"down",this._handleOnStepEnter(u,{element:d,index:l,direction:v}),this._handleOnStepProgress(u,{element:d,index:l,scrollProgressElement:p});case 24:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"scrollToPreviousNarration",value:function(){var t=ea(regeneratorRuntime.mark((function t(){var n,e,r,i,o,a,s,c,u,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=this.sectionList,e=this.sectionNamesArray,r=!1,i=this.currentSectionId,o=this.currentNarrationIndex;case 4:if(r){t.next=25;break}if(a=this._sectionIndexFromSectionIdentifier(i),i=-1===a?e[0]:i,s=0===a,!(c=0>(o=null===o?1:o)-1)||s){t.next=16;break}i=e[a-1],u=kd(n,[i,"narration"]),o=u?u.length-1:0,t.next=21;break;case 16:if(c){t.next=20;break}o-=1,t.next=21;break;case 20:return t.abrupt("return");case 21:l=kd(n,[i,"narration",o]),r=!(ag(l.hRefText)&&ag(l.h2Text)&&ag(l.paragraphText)),t.next=4;break;case 25:return t.next=27,this.scrollTo(i,o,{align:{top:.5}});case 27:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"scrollToNextNarration",value:function(){var t=ea(regeneratorRuntime.mark((function t(){var n,e,r,i,o,a,s,c,u,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=this.sectionList,e=this.sectionNamesArray,r=!1,i=this.currentSectionId,o=this.currentNarrationIndex;case 4:if(r){t.next=25;break}if(a=this._sectionIndexFromSectionIdentifier(i),i=-1===a?e[0]:i,o=null===o?-1:o,s=a===e.length-1,c=kd(n,[i,"narration","length"],0),!(u=o+1===c)||s){t.next=16;break}i=e[a+1],o=0,t.next=21;break;case 16:if(u){t.next=20;break}o+=1,t.next=21;break;case 20:return t.abrupt("return");case 21:l=kd(n,[i,"narration",o]),r=!(ag(l.hRefText)&&ag(l.h2Text)&&ag(l.paragraphText)),t.next=4;break;case 25:return t.next=27,this.scrollTo(i,o,{align:{top:.5}});case 27:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),t}(),mv=(e(135),e(136),e(137),e(138),e(139),e(140),e(141),function(t,n,e){n instanceof Array&&n.forEach((function(n){t.select("li:nth-child(".concat(n,")")).style("background",e,"important").style("border-radius","5px")}))}),bv=function(t,n,e){var r=n.svgFileName;eg(r)&&Ec("#".concat(t," .imageDiv")).transition().duration(250).style("opacity",0);if(r!==e){var i=r?'<img src="dist/images/'.concat(r,'.svg" />'):null,o=Ec("#".concat(t," .imageDiv"));o.transition().duration(250).style("opacity",0).on("end",(function(){o.html(i).transition().duration(250).style("opacity",r?1:0)}))}},_v={svgFileName:""},wv={sectionIdentifier:"introduction",narration:"demo_app/00_introduction/data/narration.csv",data:[],convertTriggerToObject:!0,reshapeDataFunction:function(){return{}},buildGraphFunction:function(t){return Ec("#".concat(t)).append("div").classed("imageDiv",!0),bv(t,{svgFileName:"slide1"},_v.svgFileName),void(_v.svgFileName="slide1")},onScrollFunction:function(){},onActivateNarrationFunction:function(t){var n=t.graphId,e=t.state,r=t.state.svgFileName;bv(n,e,_v.svgFileName),_v.svgFileName=r},onResizeFunction:function(){}},xv=(e(86),e(87),e(144),e(145),function(t){for(var n=0|t.length/6,e=Array(n),r=0;r<n;)e[r]="#"+t.slice(6*r,6*++r);return e}("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf")),Sv="http://www.w3.org/1999/xhtml",Tv={svg:"http://www.w3.org/2000/svg",xhtml:Sv,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Cv=function(t){var n=t+="",e=n.indexOf(":");return 0<=e&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),Tv.hasOwnProperty(n)?{space:Tv[n],local:t}:t},Ev=function(t){var n=Cv(t);return(n.local?oa:ia)(n)},Nv=0;aa.prototype=function(){return new aa}.prototype={constructor:aa,get:function(t){for(var n=this._;!(n in t);)if(!(t=t.parentNode))return;return t[n]},set:function(t,n){return t[this._]=n},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var Av=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var kv=document.documentElement;if(!kv.matches){var Iv=kv.webkitMatchesSelector||kv.msMatchesSelector||kv.mozMatchesSelector||kv.oMatchesSelector;Av=function(t){return function(){return Iv.call(this,t)}}}}var Ov=Av,jv={},Lv=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(jv={mouseenter:"mouseover",mouseleave:"mouseout"}));var Fv=function(t){return null==t?ha:function(){return this.querySelector(t)}},Dv=function(t){return Array(t.length)};pa.prototype={constructor:pa,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var Pv="$",Mv=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};ja.prototype={add:function(t){0>this._names.indexOf(t)&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);0<=n&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return 0<=this._names.indexOf(t)}};var Rv=[null];Za.prototype=function(){return new Za([[document.documentElement]],Rv)}.prototype={constructor:Za,select:function(t){"function"!=typeof t&&(t=Fv(t));for(var n=this._groups,e=n.length,r=Array(e),i=0;i<e;++i)for(var o,a,s=n[i],c=s.length,u=r[i]=Array(c),l=0;l<c;++l)(o=s[l])&&(a=t.call(o,o.__data__,l,s))&&("__data__"in o&&(a.__data__=o.__data__),u[l]=a);return new Za(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=function(t){return null==t?da:function(){return this.querySelectorAll(t)}}(t));for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var a,s=n[o],c=s.length,u=0;u<c;++u)(a=s[u])&&(r.push(t.call(a,a.__data__,u,s)),i.push(a));return new Za(r,i)},filter:function(t){"function"!=typeof t&&(t=Ov(t));for(var n=this._groups,e=n.length,r=Array(e),i=0;i<e;++i)for(var o,a=n[i],s=a.length,c=r[i]=[],u=0;u<s;++u)(o=a[u])&&t.call(o,o.__data__,u,a)&&c.push(o);return new Za(r,this._parents)},data:function(t,n){if(!t)return d=Array(this.size()),u=-1,this.each((function(t){d[++u]=t})),d;var e=n?va:ga,r=this._parents,i=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var o=i.length,a=Array(o),s=Array(o),c=Array(o),u=0;u<o;++u){var l=r[u],f=i[u],h=f.length,d=t.call(l,l&&l.__data__,u,r),p=d.length,g=s[u]=Array(p),v=a[u]=Array(p);e(l,f,g,v,c[u]=Array(h),d,n);for(var y,m,b=0,_=0;b<p;++b)if(y=g[b]){for(b>=_&&(_=b+1);!(m=v[_])&&++_<p;);y._next=m||null}}return(a=new Za(a,r))._enter=s,a._exit=c,a},enter:function(){return new Za(this._enter||this._groups.map(Dv),this._parents)},exit:function(){return new Za(this._exit||this._groups.map(Dv),this._parents)},merge:function(t){for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Ws(r,i),a=Array(r),s=0;s<o;++s)for(var c,u=n[s],l=e[s],f=u.length,h=a[s]=Array(f),d=0;d<f;++d)(c=u[d]||l[d])&&(h[d]=c);for(;s<r;++s)a[s]=n[s];return new Za(a,this._parents)},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,a=i[o];0<=--o;)(r=i[o])&&(a&&a!==r.nextSibling&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=ya);for(var e=this._groups,r=e.length,i=Array(r),o=0;o<r;++o){for(var a,s=e[o],c=s.length,u=i[o]=Array(c),l=0;l<c;++l)(a=s[l])&&(u[l]=a);u.sort(n)}return new Za(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=Array(this.size()),n=-1;return this.each((function(){t[++n]=this})),t},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r,i=t[n],o=0,a=i.length;o<a;++o)if(r=i[o])return r;return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,n){var e=Cv(t);if(2>arguments.length){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?ba:ma:"function"==typeof n?e.local?Sa:xa:e.local?wa:_a)(e,n))},style:function(t,n,e){var r;return 1<arguments.length?this.each((null==n?Ta:"function"==typeof n?Ea:Ca)(t,n,null==e?"":e)):Mv(r=this.node()).getComputedStyle(r,null).getPropertyValue(t)},property:function(t,n){return 1<arguments.length?this.each((null==n?Na:"function"==typeof n?ka:Aa)(t,n)):this.node()[t]},classed:function(t,n){var e=Ia(t+"");if(2>arguments.length){for(var r=Oa(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?Ma:n?Da:Pa)(e,n))},text:function(t){return arguments.length?this.each(null==t?Ra:("function"==typeof t?za:Ha)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Ua:("function"==typeof t?Va:Ba)(t)):this.node().innerHTML},raise:function(){return this.each(Wa)},lower:function(){return this.each(Ga)},append:function(t){var n="function"==typeof t?t:Ev(t);return this.select((function(){return this.appendChild(n.apply(this,arguments))}))},insert:function(t,n){var e="function"==typeof t?t:Ev(t),r=null==n?qa:"function"==typeof n?n:Fv(n);return this.select((function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(Ya)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,o=ua(t+""),a=o.length;if(!(2>arguments.length)){for(s=n?fa:la,null==e&&(e=!1),r=0;r<a;++r)this.each(s(o[r],n,e));return this}var s=this.node().__on;if(s)for(var c,u=0,l=s.length;u<l;++u)for(r=0,c=s[u];r<a;++r)if((i=o[r]).type===c.type&&i.name===c.name)return c.value},dispatch:function(t,n){return this.each(("function"==typeof n?Ja:Xa)(t,n))}};var Hv,zv=function(t,n){if(0>(e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e")))return null;var e,r=t.slice(0,e);return[1<r.length?r[0]+r.slice(2):r,+t.slice(e+1)]},Uv=function(t){return(t=zv(Ps(t)))?t[1]:NaN},Bv=function(t,n){var e=zv(t,n);if(!e)return t+"";var r=e[0],i=e[1];return 0>i?"0."+Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+Array(i-r.length+2).join("0")},Vv={"":function(t,n){t:for(var e,r=(t=t.toPrecision(n)).length,i=1,o=-1;i<r;++i)switch(t[i]){case".":o=e=i;break;case"0":0===o&&(o=i),e=i;break;case"e":break t;default:0<o&&(o=0)}return 0<o?t.slice(0,o)+t.slice(e+1):t},"%":function(t,n){return(100*t).toFixed(n)},b:function(t){return Ds(t).toString(2)},c:function(t){return t+""},d:function(t){return Ds(t).toString(10)},e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},g:function(t,n){return t.toPrecision(n)},o:function(t){return Ds(t).toString(8)},p:function(t,n){return Bv(100*t,n)},r:Bv,s:function(t,n){var e=zv(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(Hv=3*Us(-8,Ws(8,Bs(i/3))))+1,a=r.length;return o===a?r:o>a?r+Array(o-a+1).join("0"):0<o?r.slice(0,o)+"."+r.slice(o):"0."+Array(1-o).join("0")+zv(t,Us(0,n+o-1))[0]},X:function(t){return Ds(t).toString(16).toUpperCase()},x:function(t){return Ds(t).toString(16)}},Wv=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i,Gv=function(t){return new Qa(t)};Qa.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Us(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Us(0,0|this.precision))+this.type};var qv,Yv,$v,Xv=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"],Jv=function(t){function n(t){function n(t){var n,r,c,m=p,b=g;if("c"===d)b=v(t)+b,t="";else{var _=(0>(t=+t)||0>1/t)&&(t*=-1,!0);if(t=v(t,h),_)for(n=-1,r=t.length,_=!1;++n<r;)if(48<(c=t.charCodeAt(n))&&58>c||"x"===d&&96<c&&103>c||"X"===d&&64<c&&71>c){_=!0;break}if(m=(_?"("===s?s:"-":"-"===s||"("===s?"":s)+m,b=b+("s"===d?Xv[8+Hv/3]:"")+(_&&"("===s?")":""),y)for(n=-1,r=t.length;++n<r;)if(48>(c=t.charCodeAt(n))||57<c){b=(46===c?i+t.slice(n+1):t.slice(n))+b,t=t.slice(0,n);break}}f&&!u&&(t=e(t,1/0));var w=m.length+t.length+b.length,x=w<l?Array(l-w+1).join(o):"";return f&&u&&(t=e(x+t,x.length?l-b.length:1/0),x=""),"<"===a?m+t+b+x:"="===a?m+x+t+b:"^"===a?x.slice(0,w=x.length>>1)+m+t+b+x.slice(w):x+m+t+b}var o=(t=Gv(t)).fill,a=t.align,s=t.sign,c=t.symbol,u=t.zero,l=t.width,f=t.comma,h=t.precision,d=t.type,p="$"===c?r[0]:"#"===c&&/[boxX]/.test(d)?"0"+d.toLowerCase():"",g="$"===c?r[1]:/[%p]/.test(d)?"%":"",v=Vv[d],y=!d||/[defgprs%]/.test(d);return h=null==h?d?6:12:/[gprs]/.test(d)?Us(1,Ws(21,h)):Us(0,Ws(20,h)),n.toString=function(){return t+""},n}var e=t.grouping&&t.thousands?function(t,n){return function(e,r){for(var i=e.length,o=[],a=0,s=t[0],c=0;0<i&&0<s&&(c+s+1>r&&(s=Us(1,r-c)),o.push(e.substring(i-=s,i+s)),!((c+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(n)}}(t.grouping,t.thousands):Ka,r=t.currency,i=t.decimal;return{format:n,formatPrefix:function(t,e){var r=n(((t=Gv(t)).type="f",t)),i=3*Us(-8,Ws(8,Bs(Uv(e)/3))),o=zs(10,-i),a=Xv[8+i/3];return function(t){return r(o*t)+a}}}};!function(t){qv=Jv(t),Yv=qv.format,$v=qv.formatPrefix}({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var Zv={value:function(){}};ns.prototype=ts.prototype={constructor:ns,on:function(t,n){var e,r=this._,i=es(t+"",r),o=-1,a=i.length;if(!(2>arguments.length)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++o<a;)if(e=(t=i[o]).type)r[e]=is(r[e],t.name,n);else if(null==n)for(e in r)r[e]=is(r[e],t.name,null);return this}for(;++o<a;)if((e=(t=i[o]).type)&&(e=rs(r[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new ns(t)},call:function(t,n){if(0<(e=arguments.length-2))for(var e,r,i=Array(e),o=0;o<e;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,e=(r=this._[t]).length;o<e;++o)r[o].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};var Qv=ts,Kv=function(t,n){return t<n?-1:t>n?1:t>=n?0:NaN},ty=function(t){return 1===t.length&&(t=function(t){return function(n,e){return Kv(t(n),e)}}(t)),{left:function(n,e,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){var o=r+i>>>1;0>t(n[o],e)?r=o+1:i=o}return r},right:function(n,e,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){var o=r+i>>>1;0<t(n[o],e)?i=o:r=o+1}return r}}},ny=ty(Kv),ey=ny.right,ry=(ny.left,ey),iy=Array.prototype,oy=(iy.slice,iy.map,7.0710678118654755),ay=3.1622776601683795,sy=1.4142135623730951,cy=function(t,n,e){var r=os(t,n,e);return function(t,n,e){t=+t,n=+n,e=2>(i=arguments.length)?(n=t,t=0,1):3>i?1:+e;for(var r=-1,i=0|Us(0,Vs((n-t)/e)),o=Array(i);++r<i;)o[r]=t+r*e;return o}(Vs(t/r)*r,Bs(n/r)*r+r/2,r)},uy=function(t,n){var e,r=0,i=t.length,o=-1;if(null==n)for(;++o<i;)(e=+t[o])&&(r+=e);else for(;++o<i;)(e=+n(t[o],o,t))&&(r+=e);return r},ly=Array.prototype,fy=ly.map,hy=ly.slice,dy=function(t){return function(){return t}},py=function(t){return+t},gy=[0,1],vy=function(t,n,e){var r,i=t[0],o=t[t.length-1],a=os(i,o,null==n?10:n);switch((e=Gv(null==e?",f":e)).type){case"s":var s=Us(Ps(i),Ps(o));return null!=e.precision||isNaN(r=function(t,n){return Us(0,3*Us(-8,Ws(8,Bs(Uv(n)/3)))-Uv(Ps(t)))}(a,s))||(e.precision=r),$v(e,s);case"":case"e":case"g":case"p":case"r":null!=e.precision||isNaN(r=function(t,n){return t=Ps(t),n=Ps(n)-t,Us(0,Uv(n)-Uv(t))+1}(a,Us(Ps(i),Ps(o))))||(e.precision=r-("e"===e.type));break;case"f":case"%":null!=e.precision||isNaN(r=function(t){return Us(0,-Uv(Ps(t)))}(a))||(e.precision=r-2*("%"===e.type))}return Yv(e)},yy=function(t){return t.match(/.{6}/g).map((function(t){return"#"+t}))},my=(yy("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),yy("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),yy("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),yy("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),Tu(Dt(300,.5,0),Dt(-240,.5,1)),Tu(Dt(-100,.75,.35),Dt(80,1.5,.8)),Tu(Dt(260,.75,.35),Dt(80,1.5,.8)),Dt(),hs(yy("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),hs(yy("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),hs(yy("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),hs(yy("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}),by=function(t){return t},_y=function(t){for(var n=[],e=0,r=t.length;e<r;e++)n[e]=t[r-e-1];return n},wy=function(t,n){t.each((function(){for(var t,e=function(t){return"string"==typeof t?new Za([[document.querySelector(t)]],[document.documentElement]):new Za([[t]],Rv)}(this),r=e.text().split(/\s+/).reverse(),i=[],o=(e.attr("y"),parseFloat(e.attr("dy"))||0),a=e.text(null).append("tspan").attr("x",0).attr("dy",o+"em");t=r.pop();)i.push(t),a.text(i.join(" ")),a.node().getComputedTextLength()>n&&1<i.length&&(i.pop(),a.text(i.join(" ")),i=[t],a=e.append("tspan").attr("x",0).attr("dy",1.2+o+"em").text(t))}))},xy={d3_drawShapes:function(t,n,e,r,i,o){"rect"===t?n.attr("height",e).attr("width",r):"circle"===t?n.attr("r",i):"line"===t?n.attr("x1",0).attr("x2",r).attr("y1",0).attr("y2",0):"path"==t&&n.attr("d",o)},d3_addText:function(t,n,e,r,i){n.append("text").attr("class",r+"label");var o=t.selectAll("g."+r+"cell text."+r+"label").data(e).text(by);return i&&t.selectAll("g."+r+"cell text."+r+"label").call(wy,i),o},d3_calcType:function(t,n,e,r,i,o){var a=t.invertExtent?function(t,n,e){var r=t.range().map((function(r){var i=t.invertExtent(r);return n(i[0])+" "+e+" "+n(i[1])}));return{data:t.range(),labels:r,feature:by}}(t,i,o):t.ticks?function(t,n,e){var r=[];if(1<n.length)r=n;else for(var i=t.domain(),o=(i[i.length-1]-i[0])/(n-1),a=0;a<n;a++)r.push(i[0]+a*o);var s=r.map(e);return{data:r,labels:s,feature:function(n){return t(n)}}}(t,e,i):function(t){return{data:t.domain(),labels:t.domain(),feature:function(n){return t(n)}}}(t),s=t.range&&t.range()||t.domain();return a.labels=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],n=arguments[1],e=arguments[2],r=arguments[3],i=arguments[4];if("object"===(void 0===n?"undefined":my(n))){if(0===n.length)return t;for(var o=n.length;o<t.length;o++)n.push(t[o]);return n}if("function"==typeof n){for(var a=[],s=t.length,c=0;c<s;c++)a.push(n({i:c,genLength:s,generatedLabels:t,domain:e,range:r,labelDelimiter:i}));return a}return t}(a.labels,r,t.domain(),s,o),n&&(a.labels=_y(a.labels),a.data=_y(a.data)),a},d3_filterCells:function(t,n){var e=t.data.map((function(n,e){return{data:n,label:t.labels[e]}})).filter(n),r=e.map((function(t){return t.data})),i=e.map((function(t){return t.label}));return t.data=t.data.filter((function(t){return-1!==r.indexOf(t)})),t.labels=t.labels.filter((function(t){return-1!==i.indexOf(t)})),t},d3_placement:function(t,n,e,r,i,o){n.attr("transform",e),r.attr("transform",i),"horizontal"===t&&r.style("text-anchor",o)},d3_addEvents:function(t,n){t.on("mouseover.legend",(function(t){!function(t,n,e){t.call("cellover",e,n)}(n,t,this)})).on("mouseout.legend",(function(t){!function(t,n,e){t.call("cellout",e,n)}(n,t,this)})).on("click.legend",(function(t){!function(t,n,e){t.call("cellclick",e,n)}(n,t,this)}))},d3_title:function(t,n,e,r){if(""!==n){t.selectAll("text."+e+"legendTitle").data([n]).enter().append("text").attr("class",e+"legendTitle"),t.selectAll("text."+e+"legendTitle").text(n),r&&t.selectAll("text."+e+"legendTitle").call(wy,r);var i=t.select("."+e+"legendCells"),o=t.select("."+e+"legendTitle").nodes().map((function(t){return t.getBBox().height}))[0],a=-i.nodes().map((function(t){return t.getBBox().x}))[0];i.attr("transform","translate("+a+","+o+")")}},d3_defaultLocale:{format:Yv,formatPrefix:$v},d3_defaultFormatSpecifier:".01f",d3_defaultDelimiter:"to"},Sy={container:"#chart",height:500,margin:{top:30,left:60,bottom:60,right:30},width:500},Ty=function(){function t(n){(function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")})(this,t),this._init(ps({},Sy,{},n))}return function(t,n,e){n&&vs(t.prototype,n),e&&vs(t,e)}(t,[{key:"_updateProps",value:function(t){return this.props=ps({},this.props,{},t),this.props}},{key:"_init",value:function(t){var n=this,e=this._updateProps(t),r=e.container,i=e.height,o=e.legendArray,a=e.margin,s=e.rDomain,c=e.xDomain,u=e.yDomain,f=e.yearDomain,h=e.width;this.svg=Ec(r).append("svg").attr("width",h).attr("height",i),this.xScale=function t(){var n=ze(Ie()).domain([1,10]);return n.copy=function(){return ke(n,t()).base(n.base())},Se.apply(n,arguments),n}().domain(c).range([a.left,h-a.right]),this.xAxis=function(t){return t.attr("transform","translate(0,".concat(i-a.bottom,")")).call(function(t){return l(sc,t)}(n.xScale).ticks(h/80,",")).call((function(t){return t.select(".domain").remove()}))},this.svg.append("text").attr("transform","translate(".concat(h/2," ,").concat(i-a.bottom/2,")")).style("text-anchor","middle").style("font-size",12).text("Income per capita (inflation adjusted dollars)"),this.svg.append("g").call(this.xAxis),this.yScale=Le().domain(u).range([i-a.bottom,a.top]),this.yAxis=function(t){return t.attr("transform","translate(".concat(a.left,",0)")).call(function(t){return l(cc,t)}(n.yScale)).call((function(t){return t.select(".domain").remove()}))},this.svg.append("g").call(this.yAxis),this.svg.append("text").attr("transform","rotate(-90)").attr("y",a.left/3).attr("x",0-i/2).attr("dy","1em").style("text-anchor","middle").style("font-size",12).text("Life expectancy (years)"),this.rScale=function(){return We.apply(null,arguments).exponent(.5)}().domain(s).range([1,50]),this.cScale=function t(){function n(t){var n=t+"",a=e.get(n);if(!a){if(o!==yf)return o;e.set(n,a=r.push(t))}return i[(a-1)%i.length]}var e=rl(),r=[],i=[],o=yf;return n.domain=function(t){if(!arguments.length)return r.slice();r=[],e=rl();for(var i,o,a=-1,s=t.length;++a<s;)e.has(o=(i=t[a])+"")||e.set(o,r.push(i));return n},n.range=function(t){return arguments.length?(i=vf.call(t),n):i.slice()},n.unknown=function(t){return arguments.length?(o=t,n):o},n.copy=function(){return t(r,i).unknown(o)},Se.apply(n,arguments),n}().domain(o).range(xv),this.yearScale=Le().domain(f).range([0,f[1]-f[0]]),this.yearLabel=this.svg.append("g").style("font-size",50).style("opacity",.3).attr("transform","translate(".concat(a.left+10,", ").concat(a.top+40,")")).append("text").text(Us(f)||""),this.scatter=this.svg.append("g").attr("stroke","#000").attr("stroke-opacity",.2),this.svg.append("g").attr("class","legendOrdinal").style("font-size",13).style("opacity",.7).attr("transform","translate(".concat(h-h/3,", ").concat(i-i/2.8,")"));var d=function(){function t(t){var T=xy.d3_calcType(o,x,f,h,v.format(y),_);t.selectAll("g").data([o]).enter().append("g").attr("class",d+"legendCells"),n&&xy.d3_filterCells(T,n);var C=t.select("."+d+"legendCells").selectAll("."+d+"cell").data(T.data),E=C.enter().append("g").attr("class",d+"cell");E.append(a).attr("class",d+"swatch");var N=t.selectAll("g."+d+"cell "+a+"."+d+"swatch").data(T.data);xy.d3_addEvents(E,S),C.exit().transition().style("opacity",0).remove(),N.exit().transition().style("opacity",0).remove(),N=N.merge(N),xy.d3_drawShapes(a,N,c,s,u,r);var A=xy.d3_addText(t,E,T.labels,d,e);C=E.merge(C);var k=A.nodes().map((function(t){return t.getBBox()})),I=N.nodes().map((function(t){return t.getBBox()}));p?N.attr("class",(function(t){return d+"swatch "+T.feature(t)})):"line"==a?N.style("stroke",T.feature):N.style("fill",T.feature);var O,j,L="start"==b?0:"middle"==b?.5:1;"vertical"===w?function(){var t=k.map((function(t,n){return Us(t.height,I[n].height)}));O=function(n,e){return"translate(0, "+(uy(t.slice(0,e))+e*l)+")"},j=function(t,n){return"translate( "+(I[n].width+I[n].x+m)+", "+(I[n].y+I[n].height/2+5)+")"}}():"horizontal"===w&&(O=function(t,n){return"translate("+n*(I[n].width+l)+",0)"},j=function(t,n){return"translate("+(I[n].width*L+I[n].x)+",\n          "+(I[n].height+I[n].y+m+8)+")"}),xy.d3_placement(w,C,O,A,j,b),xy.d3_title(t,g,d,i),C.transition().style("opacity",1)}var n,e,r,i,o=fs(),a="rect",s=15,c=15,u=10,l=2,f=[5],h=[],d="",p=!1,g="",v=xy.d3_defaultLocale,y=xy.d3_defaultFormatSpecifier,m=10,b="middle",_=xy.d3_defaultDelimiter,w="vertical",x=!1,S=Qv("cellover","cellout","cellclick");return t.scale=function(n){return arguments.length?(o=n,t):o},t.cells=function(n){return arguments.length?((1<n.length||2<=n)&&(f=n),t):f},t.cellFilter=function(e){return arguments.length?(n=e,t):n},t.shape=function(n,e){return arguments.length?(("rect"==n||"circle"==n||"line"==n||"path"==n&&"string"==typeof e)&&(a=n,r=e),t):a},t.shapeWidth=function(n){return arguments.length?(s=+n,t):s},t.shapeHeight=function(n){return arguments.length?(c=+n,t):c},t.shapeRadius=function(n){return arguments.length?(u=+n,t):u},t.shapePadding=function(n){return arguments.length?(l=+n,t):l},t.labels=function(n){return arguments.length?(h=n,t):h},t.labelAlign=function(n){return arguments.length?(("start"==n||"end"==n||"middle"==n)&&(b=n),t):b},t.locale=function(n){return arguments.length?(v=Jv(n),t):v},t.labelFormat=function(n){return arguments.length?(y=Gv(n),t):t.locale().format(y)},t.labelOffset=function(n){return arguments.length?(m=+n,t):m},t.labelDelimiter=function(n){return arguments.length?(_=n,t):_},t.labelWrap=function(n){return arguments.length?(e=n,t):e},t.useClass=function(n){return arguments.length?((!0===n||!1===n)&&(p=n),t):p},t.orient=function(n){return arguments.length?(("horizontal"==(n=n.toLowerCase())||"vertical"==n)&&(w=n),t):w},t.ascending=function(n){return arguments.length?(x=!!n,t):x},t.classPrefix=function(n){return arguments.length?(d=n,t):d},t.title=function(n){return arguments.length?(g=n,t):g},t.titleWidth=function(n){return arguments.length?(i=n,t):i},t.textWrap=function(n){return arguments.length?(textWrap=n,t):textWrap},t.on=function(){var n=S.on.apply(S,arguments);return n===S?t:n},t}().shape("circle").shapeRadius(8).title("Regions").titleWidth(100).scale(this.cScale);this.svg.select(".legendOrdinal").call(d)}},{key:"render",value:function(t){var n=this,e=this._updateProps(t),r=e.data,i=e.duration,o=void 0===i?500:i,a=e.year,s=e.yearDomain,c=a?Bs(this.yearScale(a)):this.yearScale.range()[0],u=this.scatter.selectAll("circle").data(r,(function(t){return t.name}));this.yearLabel.text(a||s[0]||""),u.enter().append("circle").attr("cx",(function(t){return n.xScale(t.income[c])})).attr("cy",(function(t){return n.yScale(t.lifeExpectancy[c])})).merge(u).transition().duration(o).attr("cx",(function(t){return n.xScale(t.income[c])})).attr("cy",(function(t){return n.yScale(t.lifeExpectancy[c])})).attr("fill",(function(t){return n.cScale(t.region)})).attr("opacity",.7).attr("r",(function(t){return n.rScale(t.population[c])})),u.exit().remove()}},{key:"resize",value:function(t){this.svg.remove(),this._init(t)}}]),t}(),Cy={scrollyTellerConfig:"\n    const intro = { /* ...configuration... */ };\n    const wealthAndHealth = { /* ...configuration ... */ };\n \n    const storyConfig = {\n      appContainerId: 'app', // div id=\"app\"\n      \n      sectionList: [ \n        intro, // section configuration\n        wealthAndHealth, // section configuration\n      ],\n    };\n\n    const storyInstance = new ScrollyTeller(storyConfig);\n\n    storyInstance.render(); // fetch data and build HMTL",sectionConfigSummary:"\n  const wealthAndHealth = { // Section Config object\n    sectionIdentifier: 'wealthAndHealth',\n    \n    // 1) DATA PATHS/PROMISES \n    narration: 'path/to/narration.csv',\n    data: 'path/to/wealthAndHealthData.json',\n    \n    // 2) FIRST RENDER\n    reshapeDataFunction: function (data) {},\n    buildGraphFunction: function (graphId, { data }) {},\n\n    // 3) ON USER EVENTS\n    onActivateNarrationFunction: function () {},\n    onScrollFunction: function () {},\n    onResizeFunction: function () {},\n    \n  }; // end Section Config object",sectionConfigFlow:"\n  const wealthAndHealth = { // Section Config\n    // on storyInstance.render()...\n    narration: 'path/to/narration.csv',\n    /* after fetching narration... \n      &#8600\n          ScrollyTeller renders narration as HTML */\n                \n    data: 'path/to/wealthAndHealthData.json',\n    /* after fetching data... \n                &#8600  raw data is passed to   */\n    reshapeDataFunction: function (rawData) {\n        /* process rawData */\n        return data;\n    }, /*  &#8600 reshaped data is passed to   */\n    buildGraphFunction: function (graphId, { data }) {\n        /* select graphId, build graph, render graph  */\n        return graph;\n    }, /*\n        &#8600  returned graph instance is stored in\n              &#8600 sectionConfig: { data, graph }\n                        ... and is passed to event handlers */\n    onActivateNarrationFunction: function ({ data, graph }) {},\n    onScrollFunction: function ({ data, graph }) {},\n    onResizeFunction: function ({ data, graph }) {},\n  };",sectionConfigReshapeData:"\n  const wealthAndHealth = { // Section Config\n    data: 'path/to/datafile.json', // promise, array, or file path \n    reshapeDataFunction: function (rawData) {\n    // 1) Called after data is fetched to do any pre-processing\n      // ... do some processing rawData -> data\n      return data; // return an object or array\n    },\n  }; // end Section Config object",sectionConfigReshapeDemoData:"\n  const wealthAndHealth = { // Section Config object\n    data: 'path/to/datafile.json',  /*\n          &#8600                         */\n    reshapeDataFunction: function (rawData) {\n      /** compute data domains for income (x), life expectancy (y), and years */\n      const xDomain = getXDomain(rawData); // min, max of all income [300, 100000]\n      const yDomain = getYDomain(rawData); // min, max of life expectancy [30, 80]\n      const yearDomain = getYearDomain(rawData); // min, max of years [1950, 2008]\n\n      /** sectionConfig.data in subsequent functions */\n      return {\n        dataArray: rawData,\n        xDomain,\n        yDomain,\n        yearDomain,\n      };\n    },\n  }; // end Section Config object",sectionConfigBuildGraph:"\n  const wealthAndHealth = { // Section Config\n    // 2) Called after reshapeDataFunction()\n    buildGraphFunction: function (graphId, sectionConfig) {\n      /** destructure the data from reshapeDataFunction() from the sectionConfig */\n      const {\n        data: { dataArray, /* domains, other props, etc */ },\n      } = sectionConfig;\n\n      /** build the graph */\n      const graph = new WealthAndHealthOfNations({\n        container: '#' + graphId, // '#graph_wealthAndHealth'\n        data: dataArray, // pass data to the component\n        // ... pass domains, other rendering props, etc\n      });\n      \n      return graph;\n      /** -> sectionConfig.graph in subsequent functions */\n    },\n  }; // end Section Config object",narrationTableHTML:'\n  <table style="width: 100%;">\n    <tbody>\n    <tr>\n      <td></td>\n      <td>...</td>\n      <td>h2Text</td>\n      <td>paragraphText</td>\n      <td>hRef</td>\n      <td>hRefText</td>\n      <td>...</td>\n    </tr>\n    <tr>\n      <td>17</td>\n      <td>...</td>\n      <td>h2Text -> Title</td>\n      <td>paragraphText -> Summary</td>\n      <td>http://link.com</td>\n      <td>hRefText -> linked text</td>\n      <td>...</td>\n    </tr>\n    <tr>\n      <td>18</td>\n      <td>...</td>\n      <td>Customizing text</td>\n      <td>Both &lt;strong&gt;h2Text&lt;/strong&gt; and...</td>\n      <td></td>\n      <td></td>\n      <td>...</td>\n    </tr>\n  </tbody>\n  </table>',narrationTriggerHTML:'\n <table style="width: 100%;">\n  <tbody>\n  <tr>\n    <td></td>\n    <td>...</td>\n    <td>h2Text</td>\n    <td>...</td>\n    <td>trigger</td>\n    <td>...</td>\n  </tr>\n  <tr>\n    <td>19</td>\n    <td>...</td>\n    <td>Trigger example: 1950</td>\n    <td>...</td>\n    <td>  { "year": 1950 }  </td>\n    <td>...</td>\n  </tr>\n  <tr>\n    <td>20</td>\n    <td>...</td>\n    <td>Trigger example: 2008</td>\n    <td>...</td>\n    <td>  { "year": 2008 }  </td>\n    <td>...</td>\n  </tr>\n</tbody>\n</table> \n  ',narrationRestHTML:'\n  <table style="width: 100%;">\n  <tbody>\n  <tr>\n    <td></td>\n    <td>...</td>\n    <td>narrationId</td>\n    <td>narrationClass</td>\n    <td>graphTitle</td>\n    <td>graphCaption</td>\n    <td>...</td>\n  </tr>\n  <tr>\n    <td>19</td>\n    <td>...</td>\n    <td>uniqueId</td>\n    <td>class-name</td>\n    <td>Title</td>\n    <td>Oh caption, my caption!</td>\n    <td>...</td>\n  </tr>\n  <tr>\n    <td>20</td>\n    <td>...</td>\n    <td></td>\n    <td>class-name</td>\n    <td>Title</td>\n    <td>Oh caption, my caption!</td>\n    <td>...</td>\n  </tr>\n</tbody>\n</table>',narrationSizingHTML:'\n  <table style="width: 100%;">\n  <tbody>\n  <tr>\n    <td></td>\n    <td>...</td>\n    <td>marginTopVh</td>\n    <td>marginBottomVh</td>\n    <td>minHeightVh</td>\n    <td>...</td>\n  </tr>\n  <tr>\n    <td>19</td>\n    <td>...</td>\n    <td>40</td>\n    <td>40</td>\n    <td>80</td>\n    <td>...</td>\n  </tr>\n  <tr>\n    <td>20</td>\n    <td>...</td>\n    <td>40</td>\n    <td>40</td>\n    <td>80</td>\n    <td>...</td>\n  </tr>\n</tbody>\n</table>',onActivateNarrationExample:"\n  const wealthAndHealth = { // Section Config\n\n    onActivateNarrationFunction: function ({\n      // -> sectionConfig.graph:\n      //    the return value of buildGraphFunction()\n      sectionConfig: { graph },\n      \n      // -> sectionConfig.state = JSON.parse(trigger)\n      state: { year },\n    }) {\n      if (graph && year) {\n        graph.render({ year });\n      }\n    },\n\n  };",onScrollExample:"\n  const wealthAndHealth = { // Section Config\n\n    onScrollFunction: function ({\n      progress, // <- scroll progress!\n      sectionConfig: { graph },\n      state: { yearDomain }, // -> [1950, 1999]\n    }) {\n      if (graph && yearDomain) {\n        const interpolateYear = d3.interpolate(\n          yearDomain[0], yearDomain[1]\n        )(progress);\n        const year = Math.floor(interpolateYear);\n        graph.render({ year });\n      }\n    },\n    \n  };",triggerToStateHTML:'\n<table style="width: 100%;">\n  <tbody>\n  <tr>\n    <td></td>\n    <td>h2Text</td>\n    <td>trigger</td>\n    <td>...</td>\n    <td>(merged) state</td>\n  </tr>\n  <tr>\n    <td>19</td>\n    <td>Narration 0</td>\n    <td><pre><code>{ "year": 1950 }</code></pre></td>\n    <td>...</td>\n    <td><pre><code>{ "year": 1950 }</code></pre></td>\n  </tr>\n  <tr>\n    <td>20</td>\n    <td>Narration 1</td>\n    <td><pre><code>{ "year": 2008 }</code></pre></td>\n    <td>...</td>\n    <td><pre><code>{ "year": 2008 }</code></pre></td>\n  </tr>\n  <tr>\n    <td>21</td>\n    <td>Narration 2</td>\n    <td><pre><code>{ "foo": "bar" }</code></pre></td>\n    <td>...</td>\n    <td><pre><code>{ "year": 2008, "foo": "bar" }</code></pre></td>\n  </tr>\n  <tr>\n    <td>22</td>\n    <td>Narration 3</td>\n    <td><pre><code>{ "year": null, foo": null }</code></pre></td>\n    <td>...</td>\n    <td><pre><code>{ "year": null, "foo": null }</code></pre></td>\n  </tr>\n</tbody>\n</table>\n  '},Ey=(e(148),e(149),{svgFileName:""}),Ny="#8078ff36",Ay={sectionIdentifier:"wealthAndHealth",narration:"demo_app/01_wealthAndHealthOfNations/data/narration.csv",data:"demo_app/01_wealthAndHealthOfNations/data/wealthAndHealthData.json",reshapeDataFunction:function(t){var n=Js(t.reduce((function(t,n){return t.concat.apply(t,_s(Js(n.population)))}),[])),e=Js(t.reduce((function(t,n){return t.concat.apply(t,_s(Js(n.income)))}),[])),r=Js(t.reduce((function(t,n){return t.concat.apply(t,_s(Js(n.lifeExpectancy)))}),[])),i=Js(t.reduce((function(t,n){return t.concat.apply(t,_s(Js(n.years)))}),[])),o=t.reduce((function(t,n){return t.includes(n.region)?t:t.concat(n.region)}),[]);return{dataArray:t,legendArray:o,rDomain:n,xDomain:e,yDomain:r,yearDomain:i}},buildGraphFunction:function(t,n){var e=n.data,r=e.dataArray,i=e.legendArray,o=e.rDomain,a=e.xDomain,s=e.yDomain,c=e.yearDomain,u="#".concat(t);Ec("#".concat(t)).append("div").classed("imageDiv",!0);var l=new Ty({container:u,data:r,rDomain:o,xDomain:a,yDomain:s,yearDomain:c,legendArray:i,height:.9*Ec(u).node().offsetHeight,width:.9*Ec(u).node().offsetWidth});return{$codeSnippetSelection:Ec(u).append("div").attr("id","codeSnippet"),wealthAndHealthSelector:"#".concat(t," svg"),wealthAndHealthGraph:l}},onScrollFunction:function(t){var n=t.progress,e=t.state.yearDomain,r=t.sectionConfig.graph,i=r.snippet,o=r.svgFileName,a=r.wealthAndHealthGraph,s=r.wealthAndHealthSelector;if(i||o)Ec(s).style("opacity",0);else if(!eg(e)){var c=yu.apply(void 0,_s(e))(n);a.render({year:Bs(c),duration:100})}},onActivateNarrationFunction:ws,onResizeFunction:function(t){var n=t.graphElement;ws(function(t){for(var n,e=1;e<arguments.length;e++)n=null==arguments[e]?{}:arguments[e],e%2?ys(n,!0).forEach((function(e){ms(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ys(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}));return t}({},bs(t,["graphElement"]),{graphElement:n,width:.9*n.offsetWidth,height:.9*n.offsetHeight}))}},ky=(e(150),e(151),{sectionIdentifier:"builtInTriggers",narration:"demo_app/02_builtInTriggers/data/narration.csv",reshapeDataFunction:Qp,buildGraphFunction:Qp,onScrollFunction:Qp,onActivateNarrationFunction:Qp});e.d(n,"default",(function(){return Iy}));var Iy=function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t);var n=new yv({appContainerId:"app",sectionList:[wv,Ay,ky],onNarrationChangedFunction:function(t){var n=t.narrationClass;Ac(".navButton").classed("active",!1),Ac(".navButton.".concat(n)).classed("active",!0)}});n.render(),Ac(".navButton").on("click",(function(){var t=Ec(this).node();n.scrollTo(kd(t,["dataset","section"]),kd(t,["dataset","narrationtarget"]))}))};document.addEventListener("DOMContentLoaded",(function(){window.app=new Iy}))}]);